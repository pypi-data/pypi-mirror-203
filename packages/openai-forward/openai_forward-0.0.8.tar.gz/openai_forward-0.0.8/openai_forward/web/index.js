(()=>{var r={642:e=>{function u(t,s,i,r,n={},o,a){const e=t[r];if(!e){if(!i.finished){return o(s,i)}return}function l(e){if(e){return a(e,s,i)}else{return u(t,s,i,r+1,n,o,a)}}try{if(e.id){const h=n[e.id];if(h){s.preRouterUrl=s.url;s.preRouterPath=s.path;s.url=s.url.replace(h,"");if(s.url.charCodeAt(0)!==47){s.url="/".concat(s.url)}}return e.lookup(s,i,l)}else{return e(s,i,l)}}catch(e){return a(e,s,i)}}e.exports=u},657:function(e,t,s){const r=s(466);const c=s(642);const n=s(717);const{parse:f}=s(389);const d=s(64);e.exports=(o={})=>{if(o.defaultRoute===undefined){o.defaultRoute=(e,t)=>{t.statusCode=404;t.end()}}if(o.errorHandler===undefined){o.errorHandler=(e,t,s)=>{s.statusCode=500;s.end(e.message)}}if(o.cacheSize===undefined){o.cacheSize=1e3}if(o.id===undefined){o.id=(Date.now().toString(36)+Math.random().toString(36).substr(2,5)).toUpperCase()}const a={};const l=o.cacheSize>0;const h=l?new n({max:o.cacheSize}):null;const u=new r;u.id=o.id;const i=u.use;u.use=(e,...t)=>{if(typeof e==="function"){t=[e,...t];e="/"}i.call(u,e,t);if(t[0].id){const{pattern:s}=f(e,true);a[t[0].id]=s}return this};u.lookup=(e,t,i)=>{if(!e.url){e.url="/"}if(!e.originalUrl){e.originalUrl=e.url}d(e,e.url);let s;if(l){const r=e.method+e.path;s=h.get(r);if(!s){s=u.find(e.method,e.path);h.set(r,s)}}else{s=u.find(e.method,e.path)}if(s.handlers.length!==0){const n=[...s.handlers];if(i!==undefined){n.push((e,t,s)=>{e.url=e.preRouterUrl;e.path=e.preRouterPath;e.preRouterUrl=undefined;e.preRouterPath=undefined;return i()})}if(!e.params){e.params={}}Object.assign(e.params,s.params);return c(n,e,t,0,a,o.defaultRoute,o.errorHandler)}else{o.defaultRoute(e,t)}};u.on=(e,t,...s)=>u.add(e,t,s);return u}},64:e=>{e.exports=(e,t)=>{const[s,i=""]=t.split("?");const r=new URLSearchParams(i.replace(/\[\]=/g,"="));const n={};for(const[o,a]of r.entries()){if(n[o]){Array.isArray(n[o])?n[o].push(a):n[o]=[n[o],a]}else{n[o]=a}}e.path=s;e.query=n}},287:(t,e,s)=>{(function(){"use strict";var a=s(426);var n=s(931);var l={origin:"*",methods:"GET,HEAD,PUT,PATCH,POST,DELETE",preflightContinue:false,optionsSuccessStatus:204};function o(e){return typeof e==="string"||e instanceof String}function h(e,t){if(Array.isArray(t)){for(var s=0;s<t.length;++s){if(h(e,t[s])){return true}}return false}else if(o(t)){return e===t}else if(t instanceof RegExp){return t.test(e)}else{return!!t}}function u(e,t){var s=t.headers.origin,i=[],r;if(!e.origin||e.origin==="*"){i.push([{key:"Access-Control-Allow-Origin",value:"*"}])}else if(o(e.origin)){i.push([{key:"Access-Control-Allow-Origin",value:e.origin}]);i.push([{key:"Vary",value:"Origin"}])}else{r=h(s,e.origin);i.push([{key:"Access-Control-Allow-Origin",value:r?s:false}]);i.push([{key:"Vary",value:"Origin"}])}return i}function c(e){var t=e.methods;if(t.join){t=e.methods.join(",")}return{key:"Access-Control-Allow-Methods",value:t}}function f(e){if(e.credentials===true){return{key:"Access-Control-Allow-Credentials",value:"true"}}return null}function d(e,t){var s=e.allowedHeaders||e.headers;var i=[];if(!s){s=t.headers["access-control-request-headers"];i.push([{key:"Vary",value:"Access-Control-Request-Headers"}])}else if(s.join){s=s.join(",")}if(s&&s.length){i.push([{key:"Access-Control-Allow-Headers",value:s}])}return i}function p(e){var t=e.exposedHeaders;if(!t){return null}else if(t.join){t=t.join(",")}if(t&&t.length){return{key:"Access-Control-Expose-Headers",value:t}}return null}function g(e){var t=(typeof e.maxAge==="number"||e.maxAge)&&e.maxAge.toString();if(t&&t.length){return{key:"Access-Control-Max-Age",value:t}}return null}function y(e,t){for(var s=0,i=e.length;s<i;s++){var r=e[s];if(r){if(Array.isArray(r)){y(r,t)}else if(r.key==="Vary"&&r.value){n(t,r.value)}else if(r.value){t.setHeader(r.key,r.value)}}}}function v(e,t,s,i){var r=[],n=t.method&&t.method.toUpperCase&&t.method.toUpperCase();if(n==="OPTIONS"){r.push(u(e,t));r.push(f(e,t));r.push(c(e,t));r.push(d(e,t));r.push(g(e,t));r.push(p(e,t));y(r,s);if(e.preflightContinue){i()}else{s.statusCode=e.optionsSuccessStatus;s.setHeader("Content-Length","0");s.end()}}else{r.push(u(e,t));r.push(f(e,t));r.push(p(e,t));y(r,s);i()}}function e(s){var t=null;if(typeof s==="function"){t=s}else{t=function(e,t){t(null,s)}}return function e(r,n,o){t(r,function(e,t){if(e){o(e)}else{var s=a({},l,t);var i=null;if(s.origin&&typeof s.origin==="function"){i=s.origin}else if(s.origin){i=function(e,t){t(null,s.origin)}}if(i){i(r.headers.origin,function(e,t){if(e||!t){o(e)}else{s.origin=t;v(s,r,n,o)}})}else{o()}}})}}t.exports=e})()},205:(e,t,s)=>{var y=s(223);var v=function(){};var m=function(e){return e.setHeader&&typeof e.abort==="function"};var w=function(e){return e.stdio&&Array.isArray(e.stdio)&&e.stdio.length===3};var b=function(t,e,s){if(typeof e==="function")return b(t,null,e);if(!e)e={};s=y(s||v);var i=t._writableState;var r=t._readableState;var n=e.readable||e.readable!==false&&t.readable;var o=e.writable||e.writable!==false&&t.writable;var a=false;var l=function(){if(!t.writable)h()};var h=function(){o=false;if(!n)s.call(t)};var u=function(){n=false;if(!o)s.call(t)};var c=function(e){s.call(t,e?new Error("exited with error code: "+e):null)};var f=function(e){s.call(t,e)};var d=function(){process.nextTick(p)};var p=function(){if(a)return;if(n&&!(r&&(r.ended&&!r.destroyed)))return s.call(t,new Error("premature close"));if(o&&!(i&&(i.ended&&!i.destroyed)))return s.call(t,new Error("premature close"))};var g=function(){t.req.on("finish",h)};if(m(t)){t.on("complete",h);t.on("abort",d);if(t.req)g();else t.on("request",g)}else if(o&&!i){t.on("end",l);t.on("close",l)}if(w(t))t.on("exit",c);t.on("end",u);t.on("finish",h);if(e.error!==false)t.on("error",f);t.on("close",d);return function(){a=true;t.removeListener("complete",h);t.removeListener("abort",d);t.removeListener("request",g);if(t.req)t.req.removeListener("finish",h);t.removeListener("end",l);t.removeListener("close",l);t.removeListener("finish",h);t.removeListener("exit",c);t.removeListener("end",u);t.removeListener("error",f);t.removeListener("close",d)}};e.exports=b},4:(e,t,s)=>{"use strict";const m=s(341);const i=s(887);const w=s(781);const r=s(805);const{filterPseudoHeaders:b,copyHeaders:x,stripHttp1ConnectionHeaders:S,filterHeaders:A,buildURL:a,populateHeaders:k}=s(294);function n(e={}){const{request:g,close:t}=r({...e});const y=o(e.cacheURLs);const v=e.base;return{close:t,proxy(n,o,e,t){t=t||{};const s=t.request||{};const a=t.onResponse;const l=t.onClientConnectionTerminated||T;const h=t.rewriteHeaders||E;const i=t.rewriteRequestHeaders||L;const r=z(e||n.url,y,v,t);const u=n.httpVersionMajor===2;let c={...u?b(n.headers):n.headers};if(!c.host){o.statusCode=400;o.end();return}c["x-forwarded-host"]=c.host;c.host=r.hostname;if(r.port){c.host+=`:${r.port}`}const f=O(r.search,n.url,t);let d=null;if(n.method==="GET"||n.method==="HEAD"){if(c["content-length"]){c=A(c,"content-length")}}else{if(n.body){if(n.body instanceof w){d=n.body}else if(typeof n.body==="string"){d=n.body;k(c,d,"text/plain")}else if(c["content-type"]==="application/x-www-form-urlencoded"){d=new URLSearchParams(n.body).toString();k(c,d,"application/x-www-form-urlencoded")}else{d=JSON.stringify(n.body);k(c,d,"application/json")}}else{d=n}}const p={method:n.method,url:r,qs:f,headers:i(n,c),body:d,request:s};g(p,(e,t)=>{if(!o.socket||o.socket.destroyed||o.writableEnded){return l(o,e,t)}if(e){if(e.code==="ECONNREFUSED"){o.statusCode=503;o.end("Service Unavailable")}else if(e.code==="ECONNRESET"||e.code==="UND_ERR_HEADERS_TIMEOUT"||e.code==="UND_ERR_BODY_TIMEOUT"){o.statusCode=504;o.end(e.message)}else{o.statusCode=500;o.end(e.message)}return}const{headers:s,statusCode:i,stream:r}=t;if(u){x(h(S(s)),o)}else{x(h(s),o)}o.statusCode=i;if(a){a(n,o,r)}else{m(r,o)}})}}}function O(e,t,s){if(s.queryString){return"?"+new URLSearchParams(s.queryString).toString()}if(e.length>0){return e}const i=t.indexOf("?");if(i>0){return t.slice(i)}return""}function E(e){return e}function T(e,t){}function L(e,t){return t}function o(e){if(e===0){return null}return i(e||100)}function z(e,t,s,i){const r=i.base||s;let n;if(t){const o=r+e;n=t.get(o);if(!n){n=a(e,r);t.set(o,n)}}else{n=a(e,r)}return n}e.exports=n;e.exports["default"]=n;e.exports.fastProxy=n},805:(e,t,s)=>{"use strict";const o=s(685);const a=s(687);const l=s(341);function i(e){const t={"http:":e.requests&&e.requests.http?e.requests.http:o,"https:":e.requests&&e.requests.https?e.requests.https:a};const s={"http:":new o.Agent(r(e)),"https:":new a.Agent(r(e))};return{request:i(t,s),close:()=>{s["http:"].destroy();s["https:"].destroy()}};function i(i,r){return(e,t)=>{const s=i[e.url.protocol].request({...e.request,method:e.method,port:e.url.port,path:e.url.pathname+e.qs,hostname:e.url.hostname,headers:e.headers,agent:r[e.url.protocol]});s.on("error",t);s.on("timeout",()=>s.abort());s.on("response",e=>{setImmediate(()=>t(null,{statusCode:e.statusCode,headers:e.headers,stream:e}))});n(s,e.body,t)}}function r(e){return{keepAlive:true,keepAliveMsecs:60*1e3,maxSockets:2048,maxFreeSockets:2048,...e}}function n(e,t,s){if(!t||typeof t==="string"){e.end(t)}else{l(t,e,e=>{if(e)s(e)})}}}e.exports=i},294:e=>{"use strict";function t(e,t,s){e["content-length"]=Buffer.byteLength(t);if(!e["content-type"]){e["content-type"]=s}}function s(e){const t={};const s=Object.keys(e);if(!e.host&&e[":authority"]){t.host=e[":authority"]}let i;let r;for(r=0;r<s.length;r++){i=s[r];if(i.charCodeAt(0)!==58){t[i.toLowerCase()]=e[i]}}return t}function i(e,t){const s=Object.keys(e);let i;let r;for(r=0;r<s.length;r++){i=s[r];if(i.charCodeAt(0)!==58){t.setHeader(i,e[i])}}}function r(e){const t=Object.keys(e);const s={};let i;let r;for(r=0;r<t.length;r++){i=t[r].toLowerCase();switch(i){case"connection":case"upgrade":case"http2-settings":case"te":case"transfer-encoding":case"proxy-connection":case"keep-alive":case"host":break;default:s[i]=e[i];break}}return s}function n(e,t){const s=Object.keys(e);const i={};let r;let n;for(n=0;n<s.length;n++){r=s[n].toLowerCase();if(r!==t){i[r]=e[r]}}return i}function o(e="",t){const s=e.replace(/\/+/g,"/");return new URL(s,t)}e.exports={copyHeaders:i,stripHttp1ConnectionHeaders:r,filterPseudoHeaders:s,filterHeaders:n,buildURL:o,populateHeaders:t}},426:e=>{"use strict";var l=Object.getOwnPropertySymbols;var h=Object.prototype.hasOwnProperty;var u=Object.prototype.propertyIsEnumerable;function c(e){if(e===null||e===undefined){throw new TypeError("Object.assign cannot be called with null or undefined")}return Object(e)}function t(){try{if(!Object.assign){return false}var e=new String("abc");e[5]="de";if(Object.getOwnPropertyNames(e)[0]==="5"){return false}var t={};for(var s=0;s<10;s++){t["_"+String.fromCharCode(s)]=s}var i=Object.getOwnPropertyNames(t).map(function(e){return t[e]});if(i.join("")!=="0123456789"){return false}var r={};"abcdefghijklmnopqrst".split("").forEach(function(e){r[e]=e});if(Object.keys(Object.assign({},r)).join("")!=="abcdefghijklmnopqrst"){return false}return true}catch(e){return false}}e.exports=t()?Object.assign:function(e,t){var s;var i=c(e);var r;for(var n=1;n<arguments.length;n++){s=Object(arguments[n]);for(var o in s){if(h.call(s,o)){i[o]=s[o]}}if(l){r=l(s);for(var a=0;a<r.length;a++){if(u.call(s,r[a])){i[r[a]]=s[r[a]]}}}}return i}},223:(e,t,s)=>{var i=s(940);e.exports=i(r);e.exports.strict=i(n);r.proto=r(function(){Object.defineProperty(Function.prototype,"once",{value:function(){return r(this)},configurable:true});Object.defineProperty(Function.prototype,"onceStrict",{value:function(){return n(this)},configurable:true})});function r(e){var t=function(){if(t.called)return t.value;t.called=true;return t.value=e.apply(this,arguments)};t.called=false;return t}function n(e){var t=function(){if(t.called)throw new Error(t.onceError);t.called=true;return t.value=e.apply(this,arguments)};var s=e.name||"Function wrapped with `once`";t.onceError=s+" shouldn't be called more than once";t.called=false;return t}},341:(e,t,s)=>{var o=s(223);var a=s(205);var i=s(147);var l=function(){};var r=/^v?\.0/.test(process.version);var h=function(e){return typeof e==="function"};var u=function(e){if(!r)return false;if(!i)return false;return(e instanceof(i.ReadStream||l)||e instanceof(i.WriteStream||l))&&h(e.close)};var c=function(e){return e.setHeader&&h(e.abort)};var f=function(t,e,s,i){i=o(i);var r=false;t.on("close",function(){r=true});a(t,{readable:e,writable:s},function(e){if(e)return i(e);r=true;i()});var n=false;return function(e){if(r)return;if(n)return;n=true;if(u(t))return t.close(l);if(c(t))return t.abort();if(h(t.destroy))return t.destroy();i(e||new Error("stream was destroyed"))}};var d=function(e){e()};var p=function(e,t){return e.pipe(t)};var n=function(){var r=Array.prototype.slice.call(arguments);var n=h(r[r.length-1]||l)&&r.pop()||l;if(Array.isArray(r[0]))r=r[0];if(r.length<2)throw new Error("pump requires two streams per minimum");var o;var a=r.map(function(e,t){var s=t<r.length-1;var i=t>0;return f(e,s,i,function(e){if(!o)o=e;if(e)a.forEach(d);if(s)return;a.forEach(d);n(o)})});return r.reduce(p)};e.exports=n},389:(e,t)=>{function s(e,t){if(e instanceof RegExp)return{keys:false,pattern:e};var s,i,r,n,o=[],a="",l=e.split("/");l[0]||l.shift();while(r=l.shift()){s=r[0];if(s==="*"){o.push("wild");a+="/(.*)"}else if(s===":"){i=r.indexOf("?",1);n=r.indexOf(".",1);o.push(r.substring(1,!!~i?i:!!~n?n:r.length));a+=!!~i&&!~n?"(?:/([^/]+?))?":"/([^/]+?)";if(!!~n)a+=(!!~i?"?":"")+"\\"+r.substring(n)}else{a+="/"+r}}return{keys:o,pattern:new RegExp("^"+a+(t?"(?=$|/)":"/?$"),"i")}}var i=/(\/|^)([:*][^/]*?)(\?)?(?=[/.]|$)/g;function r(e,r){return e.replace(i,(e,t,s,i)=>{e=r[s=="*"?"wild":s.substring(1)];return e?"/"+e:i||s=="*"?"":"/"+s})}t.inject=r;t.parse=s},316:(e,t,o)=>{"use strict";const a=o(50);const l={request:{},response:o(284)};e.exports=(i={})=>{i.errorHandler=i.errorHandler||((e,t,s)=>{s.send(e)});const r=i.server||o(685).createServer();const e=undefined===i.prioRequestsProcessing?true:i.prioRequestsProcessing;if(e){r.on("request",(e,t)=>{setImmediate(()=>s.handle(e,t))})}else{r.on("request",(e,t)=>{s.handle(e,t)})}const t=(e,t)=>{t.send=l.response.send(i,e,t);s.getRouter().lookup(e,t)};const s=t;const n={errorHandler:i.errorHandler,newRouter(){return a(i)},getServer(){return r},getConfigOptions(){return i},handle:t,start:(...e)=>new Promise((t,s)=>{if(!e||!e.length)e=[3e3];r.listen(...e,e=>{if(e)s(e);t(r)})}),close:()=>new Promise((t,s)=>{r.close(e=>{if(e)s(e);t()})})};Object.assign(s,n);a(i,s);s.callback=()=>s.handle;s.use(async(t,s,e)=>{try{await e()}catch(e){return i.errorHandler(e,t,s)}});return s}},583:e=>{"use strict";e.exports=["get","delete","patch","post","put","head","options","trace","all"]},50:(e,t,s)=>{"use strict";const i=s(657);const a=s(583);const l=s(361);const h="beforeRouteRegister";function u({routes:e,service:t,router:s,method:i,args:r}){t.events.emit(h,i,r);e.add(`${i.toUpperCase()}${r[0]}`);s[i].apply(s,r)}e.exports=(e,r={})=>{const n=new Set;const o=i({errorHandler:e.errorHandler,cacheSize:e.routerCacheSize||2e3,defaultRoute:e.defaultRoute||((e,t)=>{t.send(404)})});r.id=o.id;r.events=new l({captureRejections:true});r.events.BEFORE_ROUTE_REGISTER=h;r.use=(...e)=>{o.use.apply(o,e);return r};a.forEach(i=>{r[i]=(...e)=>{if(Array.isArray(e[0])){const s=e.slice(1);e[0].forEach(e=>{const t=[...s];t.unshift(e);u({routes:n,service:r,router:o,method:i,args:t})})}else{u({routes:n,service:r,router:o,method:i,args:e})}return r}});r.getRouter=()=>o;r.routes=()=>[...n];if(!r.handle){r.lookup=(...e)=>o.lookup.apply(o,e);r.find=(...e)=>o.find.apply(o,e)}return r}},284:(e,t,s)=>{"use strict";const{forEachObject:l}=s(914);const h="content-type";const u="application/json; charset=utf-8";const c="text/plain; charset=utf-8";const f="application/octet-stream";const d=()=>{};const p=e=>{return JSON.stringify(e)};const g=(e,t,s,i)=>{if(t){e.setHeader(h,t)}e.statusCode=s};const y=e=>{const t=e.status||e.code||e.statusCode;const s=typeof t==="number"?t:500;return{statusCode:s,data:p({code:s,message:e.message,data:e.data})}};e.exports.send=(e,t,o)=>{const a=(e=o.statusCode,t=o.statusCode,s=null,i=d)=>{let r;if(e instanceof Error){const n=y(e);r=u;t=n.statusCode;e=n.data}else{if(s&&typeof s==="object"){l(s,(e,t)=>{o.setHeader(t.toLowerCase(),e)})}r=o.getHeader(h);if(typeof e==="number"){t=e;e=o.body}if(e){if(typeof e==="string"){if(!r)r=c}else if(typeof e==="object"){if(e instanceof Buffer){if(!r)r=f}else if(typeof e.pipe==="function"){if(!r)r=f;g(o,r,t,e);e.pipe(o);e.on("end",i);return}else if(Promise.resolve(e)===e){s=null;return e.then(e=>a(e,t,s,i)).catch(e=>a(e,t,s,i))}else{if(!r)r=u;e=p(e)}}}}g(o,r,t,e);o.end(e,i)};return a}},914:e=>{e.exports.forEachObject=(t,s)=>{const i=Object.keys(t);const r=i.length;for(let e=0;e<r;e++){s(t[i[e]],i[e])}}},887:e=>{"use strict";class s{constructor(e=0,t=0){this.first=null;this.items=Object.create(null);this.last=null;this.max=e;this.size=0;this.ttl=t}has(e){return e in this.items}clear(){this.first=null;this.items=Object.create(null);this.last=null;this.size=0;return this}delete(e){if(this.has(e)){const t=this.items[e];delete this.items[e];this.size--;if(t.prev!==null){t.prev.next=t.next}if(t.next!==null){t.next.prev=t.prev}if(this.first===t){this.first=t.next}if(this.last===t){this.last=t.prev}}return this}evict(e=false){if(e||this.size>0){const t=this.first;delete this.items[t.key];this.size--;if(this.size===0){this.first=null;this.last=null}else{this.first=t.next;this.first.prev=null}}return this}get(e){let t;if(this.has(e)){const s=this.items[e];if(this.ttl>0&&s.expiry<=(new Date).getTime()){this.delete(e)}else{t=s.value;this.set(e,t,true)}}return t}keys(){return Object.keys(this.items)}set(e,t,s=false){let i;if(s||this.has(e)){i=this.items[e];i.value=t;if(this.last!==i){const r=this.last,n=i.next,o=i.prev;if(this.first===i){this.first=i.next}i.next=null;i.prev=this.last;r.next=i;if(o!==null){o.next=n}if(n!==null){n.prev=o}}}else{if(this.max>0&&this.size===this.max){this.evict(true)}i=this.items[e]={expiry:this.ttl>0?(new Date).getTime()+this.ttl:this.ttl,key:e,prev:this.last,next:null,value:t};if(++this.size===1){this.first=i}else{this.last.next=i}}this.last=i;return this}}function t(e=1e3,t=0){if(isNaN(e)||e<0){throw new TypeError("Invalid max value")}if(isNaN(t)||t<0){throw new TypeError("Invalid ttl value")}return new s(e,t)}e.exports=t},466:(e,t,s)=>{const o=s(733);const f={"":0,GET:1,HEAD:2,PATCH:3,OPTIONS:4,CONNECT:5,DELETE:6,TRACE:7,POST:8,PUT:9};e.exports=class i{constructor(){this.routes=[];this.all=this.add.bind(this,"");this.get=this.add.bind(this,"GET");this.head=this.add.bind(this,"HEAD");this.patch=this.add.bind(this,"PATCH");this.options=this.add.bind(this,"OPTIONS");this.connect=this.add.bind(this,"CONNECT");this.delete=this.add.bind(this,"DELETE");this.trace=this.add.bind(this,"TRACE");this.post=this.add.bind(this,"POST");this.put=this.add.bind(this,"PUT")}use(e,...t){let s=[].concat.apply([],t);let{keys:i,pattern:r}=o(e,true);this.routes.push({keys:i,pattern:r,method:"",handlers:s,midx:f[""]});return this}add(e,t,...s){let{keys:i,pattern:r}=o(t);let n=[].concat.apply([],s);this.routes.push({keys:i,pattern:r,method:e,handlers:n,midx:f[e]});return this}find(e,t){let s=f[e];let i=s===2;let r=0,n=0,o,a,l=this.routes;let h=[],u={},c=[];for(;r<l.length;r++){a=l[r];if(a.midx===s||a.midx===0||i&&a.midx===1){if(a.keys===false){h=a.pattern.exec(t);if(h===null)continue;if(h.groups!==void 0)for(o in h.groups)u[o]=h.groups[o];a.handlers.length>1?c=c.concat(a.handlers):c.push(a.handlers[0])}else if(a.keys.length>0){h=a.pattern.exec(t);if(h===null)continue;for(n=0;n<a.keys.length;)u[a.keys[n]]=h[++n];a.handlers.length>1?c=c.concat(a.handlers):c.push(a.handlers[0])}else if(a.pattern.test(t)){a.handlers.length>1?c=c.concat(a.handlers):c.push(a.handlers[0])}}}return{params:u,handlers:c}}}},733:e=>{e.exports=function(e,t){if(e instanceof RegExp)return{keys:false,pattern:e};var s,i,r,n,o=[],a="",l=e.split("/");l[0]||l.shift();while(r=l.shift()){s=r[0];if(s==="*"){o.push("wild");a+="/(.*)"}else if(s===":"){i=r.indexOf("?",1);n=r.indexOf(".",1);o.push(r.substring(1,!!~i?i:!!~n?n:r.length));a+=!!~i&&!~n?"(?:/([^/]+?))?":"/([^/]+?)";if(!!~n)a+=(!!~i?"?":"")+"\\"+r.substring(n)}else{a+="/"+r}}return{keys:o,pattern:new RegExp("^"+a+(t?"(?=$|/)":"/?$"),"i")}}},931:e=>{"use strict";e.exports=t;e.exports.append=r;var l=/^[!#$%&'*+\-.^_`|~0-9A-Za-z]+$/;function r(e,t){if(typeof e!=="string"){throw new TypeError("header argument is required")}if(!t){throw new TypeError("field argument is required")}var s=!Array.isArray(t)?h(String(t)):t;for(var i=0;i<s.length;i++){if(!l.test(s[i])){throw new TypeError("field argument contains an invalid header name")}}if(e==="*"){return e}var r=e;var n=h(e.toLowerCase());if(s.indexOf("*")!==-1||n.indexOf("*")!==-1){return"*"}for(var o=0;o<s.length;o++){var a=s[o].toLowerCase();if(n.indexOf(a)===-1){n.push(a);r=r?r+", "+s[o]:s[o]}}return r}function h(e){var t=0;var s=[];var i=0;for(var r=0,n=e.length;r<n;r++){switch(e.charCodeAt(r)){case 32:if(i===t){i=t=r+1}break;case 44:s.push(e.substring(i,t));i=t=r+1;break;default:t=r+1;break}}s.push(e.substring(i,t));return s}function t(e,t){if(!e||!e.getHeader||!e.setHeader){throw new TypeError("res argument is required")}var s=e.getHeader("Vary")||"";var i=Array.isArray(s)?s.join(", "):String(s);if(s=r(i,t)){e.setHeader("Vary",s)}}},940:e=>{e.exports=s;function s(r,e){if(r&&e)return s(r)(e);if(typeof r!=="function")throw new TypeError("need wrapper function");Object.keys(r).forEach(function(e){t[e]=r[e]});return t;function t(){var e=new Array(arguments.length);for(var t=0;t<e.length;t++){e[t]=arguments[t]}var s=r.apply(this,e);var i=e[e.length-1];if(typeof s==="function"&&s!==i){Object.keys(i).forEach(function(e){s[e]=i[e]})}return s}}},144:function(e,t,s){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:true});const r=i(s(316));const n=i(s(287));const o=i(s(4));const a=i(s(341));const l=process.env.BASE_URL||"https://api.openai.com/";const h=parseInt(process.env.PORT||"9000");const u=(0,o.default)({base:l});const c=(0,r.default)();c.use((0,n.default)());c.all("/*",async(e,t)=>{u.proxy(e,t,e.url,{onResponse:(e,t,s)=>{(0,a.default)(s,t,e=>{})}})});console.log(`listening on ${h}`);void c.start(h)},361:e=>{"use strict";e.exports=require("events")},147:e=>{"use strict";e.exports=require("fs")},685:e=>{"use strict";e.exports=require("http")},687:e=>{"use strict";e.exports=require("https")},781:e=>{"use strict";e.exports=require("stream")},717:e=>{const a=typeof performance==="object"&&performance&&typeof performance.now==="function"?performance:Date;const t=typeof AbortController==="function";const f=t?AbortController:class AbortController{constructor(){this.signal=new r}abort(e=new Error("This operation was aborted")){this.signal.reason=this.signal.reason||e;this.signal.aborted=true;this.signal.dispatchEvent({type:"abort",target:this.signal})}};const s=typeof AbortSignal==="function";const i=typeof f.AbortSignal==="function";const r=s?AbortSignal:i?f.AbortController:class AbortSignal{constructor(){this.reason=undefined;this.aborted=false;this._listeners=[]}dispatchEvent(t){if(t.type==="abort"){this.aborted=true;this.onabort(t);this._listeners.forEach(e=>e(t),this)}}onabort(){}addEventListener(e,t){if(e==="abort"){this._listeners.push(t)}}removeEventListener(e,t){if(e==="abort"){this._listeners=this._listeners.filter(e=>e!==t)}}};const L=new Set;const z=(e,t)=>{const s=`LRU_CACHE_OPTION_${e}`;if(C(s)){l(s,`${e} option`,`options.${t}`,H)}};const n=(e,t)=>{const s=`LRU_CACHE_METHOD_${e}`;if(C(s)){const{prototype:i}=H;const{get:r}=Object.getOwnPropertyDescriptor(i,e);l(s,`${e} method`,`cache.${t}()`,r)}};const o=(e,t)=>{const s=`LRU_CACHE_PROPERTY_${e}`;if(C(s)){const{prototype:i}=H;const{get:r}=Object.getOwnPropertyDescriptor(i,e);l(s,`${e} property`,`cache.${t}`,r)}};const _=(...e)=>{typeof process==="object"&&process&&typeof process.emitWarning==="function"?process.emitWarning(...e):console.error(...e)};const C=e=>!L.has(e);const l=(e,t,s,i)=>{L.add(e);const r=`The ${t} is deprecated. Please use ${s} instead.`;_(r,"DeprecationWarning",e,i)};const F=e=>e&&e===Math.floor(e)&&e>0&&isFinite(e);const R=e=>!F(e)?null:e<=Math.pow(2,8)?Uint8Array:e<=Math.pow(2,16)?Uint16Array:e<=Math.pow(2,32)?Uint32Array:e<=Number.MAX_SAFE_INTEGER?h:null;class h extends Array{constructor(e){super(e);this.fill(0)}}class j{constructor(e){if(e===0){return[]}const t=R(e);this.heap=new t(e);this.length=0}push(e){this.heap[this.length++]=e}pop(){return this.heap[--this.length]}}class H{constructor(e={}){const{max:t=0,ttl:s,ttlResolution:i=1,ttlAutopurge:r,updateAgeOnGet:n,updateAgeOnHas:o,allowStale:a,dispose:l,disposeAfter:h,noDisposeOnSet:u,noUpdateTTL:c,maxSize:f=0,maxEntrySize:d=0,sizeCalculation:p,fetchMethod:g,fetchContext:y,noDeleteOnFetchRejection:v,noDeleteOnStaleGet:m,allowStaleOnFetchRejection:w,allowStaleOnFetchAbort:b,ignoreFetchAbort:x}=e;const{length:S,maxAge:A,stale:k}=e instanceof H?{}:e;if(t!==0&&!F(t)){throw new TypeError("max option must be a nonnegative integer")}const O=t?R(t):Array;if(!O){throw new Error("invalid max value: "+t)}this.max=t;this.maxSize=f;this.maxEntrySize=d||this.maxSize;this.sizeCalculation=p||S;if(this.sizeCalculation){if(!this.maxSize&&!this.maxEntrySize){throw new TypeError("cannot set sizeCalculation without setting maxSize or maxEntrySize")}if(typeof this.sizeCalculation!=="function"){throw new TypeError("sizeCalculation set to non-function")}}this.fetchMethod=g||null;if(this.fetchMethod&&typeof this.fetchMethod!=="function"){throw new TypeError("fetchMethod must be a function if specified")}this.fetchContext=y;if(!this.fetchMethod&&y!==undefined){throw new TypeError("cannot set fetchContext without fetchMethod")}this.keyMap=new Map;this.keyList=new Array(t).fill(null);this.valList=new Array(t).fill(null);this.next=new O(t);this.prev=new O(t);this.head=0;this.tail=0;this.free=new j(t);this.initialFill=1;this.size=0;if(typeof l==="function"){this.dispose=l}if(typeof h==="function"){this.disposeAfter=h;this.disposed=[]}else{this.disposeAfter=null;this.disposed=null}this.noDisposeOnSet=!!u;this.noUpdateTTL=!!c;this.noDeleteOnFetchRejection=!!v;this.allowStaleOnFetchRejection=!!w;this.allowStaleOnFetchAbort=!!b;this.ignoreFetchAbort=!!x;if(this.maxEntrySize!==0){if(this.maxSize!==0){if(!F(this.maxSize)){throw new TypeError("maxSize must be a positive integer if specified")}}if(!F(this.maxEntrySize)){throw new TypeError("maxEntrySize must be a positive integer if specified")}this.initializeSizeTracking()}this.allowStale=!!a||!!k;this.noDeleteOnStaleGet=!!m;this.updateAgeOnGet=!!n;this.updateAgeOnHas=!!o;this.ttlResolution=F(i)||i===0?i:1;this.ttlAutopurge=!!r;this.ttl=s||A||0;if(this.ttl){if(!F(this.ttl)){throw new TypeError("ttl must be a positive integer if specified")}this.initializeTTLTracking()}if(this.max===0&&this.ttl===0&&this.maxSize===0){throw new TypeError("At least one of max, maxSize, or ttl is required")}if(!this.ttlAutopurge&&!this.max&&!this.maxSize){const E="LRU_CACHE_UNBOUNDED";if(C(E)){L.add(E);const T="TTL caching without ttlAutopurge, max, or maxSize can "+"result in unbounded memory consumption.";_(T,"UnboundedCacheWarning",E,H)}}if(k){z("stale","allowStale")}if(A){z("maxAge","ttl")}if(S){z("length","sizeCalculation")}}getRemainingTTL(e){return this.has(e,{updateAgeOnHas:false})?Infinity:0}initializeTTLTracking(){this.ttls=new h(this.max);this.starts=new h(this.max);this.setItemTTL=(e,t,s=a.now())=>{this.starts[e]=t!==0?s:0;this.ttls[e]=t;if(t!==0&&this.ttlAutopurge){const i=setTimeout(()=>{if(this.isStale(e)){this.delete(this.keyList[e])}},t+1);if(i.unref){i.unref()}}};this.updateItemAge=e=>{this.starts[e]=this.ttls[e]!==0?a.now():0};this.statusTTL=(e,t)=>{if(e){e.ttl=this.ttls[t];e.start=this.starts[t];e.now=s||i();e.remainingTTL=e.now+e.ttl-e.start}};let s=0;const i=()=>{const e=a.now();if(this.ttlResolution>0){s=e;const t=setTimeout(()=>s=0,this.ttlResolution);if(t.unref){t.unref()}}return e};this.getRemainingTTL=e=>{const t=this.keyMap.get(e);if(t===undefined){return 0}return this.ttls[t]===0||this.starts[t]===0?Infinity:this.starts[t]+this.ttls[t]-(s||i())};this.isStale=e=>{return this.ttls[e]!==0&&this.starts[e]!==0&&(s||i())-this.starts[e]>this.ttls[e]}}updateItemAge(e){}statusTTL(e,t){}setItemTTL(e,t,s){}isStale(e){return false}initializeSizeTracking(){this.calculatedSize=0;this.sizes=new h(this.max);this.removeItemSize=e=>{this.calculatedSize-=this.sizes[e];this.sizes[e]=0};this.requireSize=(e,t,s,i)=>{if(this.isBackgroundFetch(t)){return 0}if(!F(s)){if(i){if(typeof i!=="function"){throw new TypeError("sizeCalculation must be a function")}s=i(t,e);if(!F(s)){throw new TypeError("sizeCalculation return invalid (expect positive integer)")}}else{throw new TypeError("invalid size value (must be positive integer). "+"When maxSize or maxEntrySize is used, sizeCalculation or size "+"must be set.")}}return s};this.addItemSize=(e,t,s)=>{this.sizes[e]=t;if(this.maxSize){const i=this.maxSize-this.sizes[e];while(this.calculatedSize>i){this.evict(true)}}this.calculatedSize+=this.sizes[e];if(s){s.entrySize=t;s.totalCalculatedSize=this.calculatedSize}}}removeItemSize(e){}addItemSize(e,t){}requireSize(e,t,s,i){if(s||i){throw new TypeError("cannot set size without setting maxSize or maxEntrySize on cache")}}*indexes({allowStale:t=this.allowStale}={}){if(this.size){for(let e=this.tail;true;){if(!this.isValidIndex(e)){break}if(t||!this.isStale(e)){yield e}if(e===this.head){break}else{e=this.prev[e]}}}}*rindexes({allowStale:t=this.allowStale}={}){if(this.size){for(let e=this.head;true;){if(!this.isValidIndex(e)){break}if(t||!this.isStale(e)){yield e}if(e===this.tail){break}else{e=this.next[e]}}}}isValidIndex(e){return e!==undefined&&this.keyMap.get(this.keyList[e])===e}*entries(){for(const e of this.indexes()){if(this.valList[e]!==undefined&&this.keyList[e]!==undefined&&!this.isBackgroundFetch(this.valList[e])){yield[this.keyList[e],this.valList[e]]}}}*rentries(){for(const e of this.rindexes()){if(this.valList[e]!==undefined&&this.keyList[e]!==undefined&&!this.isBackgroundFetch(this.valList[e])){yield[this.keyList[e],this.valList[e]]}}}*keys(){for(const e of this.indexes()){if(this.keyList[e]!==undefined&&!this.isBackgroundFetch(this.valList[e])){yield this.keyList[e]}}}*rkeys(){for(const e of this.rindexes()){if(this.keyList[e]!==undefined&&!this.isBackgroundFetch(this.valList[e])){yield this.keyList[e]}}}*values(){for(const e of this.indexes()){if(this.valList[e]!==undefined&&!this.isBackgroundFetch(this.valList[e])){yield this.valList[e]}}}*rvalues(){for(const e of this.rindexes()){if(this.valList[e]!==undefined&&!this.isBackgroundFetch(this.valList[e])){yield this.valList[e]}}}[Symbol.iterator](){return this.entries()}find(e,t){for(const s of this.indexes()){const i=this.valList[s];const r=this.isBackgroundFetch(i)?i.__staleWhileFetching:i;if(r===undefined)continue;if(e(r,this.keyList[s],this)){return this.get(this.keyList[s],t)}}}forEach(e,t=this){for(const s of this.indexes()){const i=this.valList[s];const r=this.isBackgroundFetch(i)?i.__staleWhileFetching:i;if(r===undefined)continue;e.call(t,r,this.keyList[s],this)}}rforEach(e,t=this){for(const s of this.rindexes()){const i=this.valList[s];const r=this.isBackgroundFetch(i)?i.__staleWhileFetching:i;if(r===undefined)continue;e.call(t,r,this.keyList[s],this)}}get prune(){n("prune","purgeStale");return this.purgeStale}purgeStale(){let e=false;for(const t of this.rindexes({allowStale:true})){if(this.isStale(t)){this.delete(this.keyList[t]);e=true}}return e}dump(){const e=[];for(const t of this.indexes({allowStale:true})){const s=this.keyList[t];const i=this.valList[t];const r=this.isBackgroundFetch(i)?i.__staleWhileFetching:i;if(r===undefined)continue;const n={value:r};if(this.ttls){n.ttl=this.ttls[t];const o=a.now()-this.starts[t];n.start=Math.floor(Date.now()-o)}if(this.sizes){n.size=this.sizes[t]}e.unshift([s,n])}return e}load(e){this.clear();for(const[t,s]of e){if(s.start){const i=Date.now()-s.start;s.start=a.now()-i}this.set(t,s.value,s)}}dispose(e,t,s){}set(e,t,{ttl:s=this.ttl,start:i,noDisposeOnSet:r=this.noDisposeOnSet,size:n=0,sizeCalculation:o=this.sizeCalculation,noUpdateTTL:a=this.noUpdateTTL,status:l}={}){n=this.requireSize(e,t,n,o);if(this.maxEntrySize&&n>this.maxEntrySize){if(l){l.set="miss";l.maxEntrySizeExceeded=true}this.delete(e);return this}let h=this.size===0?undefined:this.keyMap.get(e);if(h===undefined){h=this.newIndex();this.keyList[h]=e;this.valList[h]=t;this.keyMap.set(e,h);this.next[this.tail]=h;this.prev[h]=this.tail;this.tail=h;this.size++;this.addItemSize(h,n,l);if(l){l.set="add"}a=false}else{this.moveToTail(h);const u=this.valList[h];if(t!==u){if(this.isBackgroundFetch(u)){u.__abortController.abort(new Error("replaced"))}else{if(!r){this.dispose(u,e,"set");if(this.disposeAfter){this.disposed.push([u,e,"set"])}}}this.removeItemSize(h);this.valList[h]=t;this.addItemSize(h,n,l);if(l){l.set="replace";const c=u&&this.isBackgroundFetch(u)?u.__staleWhileFetching:u;if(c!==undefined)l.oldValue=c}}else if(l){l.set="update"}}if(s!==0&&this.ttl===0&&!this.ttls){this.initializeTTLTracking()}if(!a){this.setItemTTL(h,s,i)}this.statusTTL(l,h);if(this.disposeAfter){while(this.disposed.length){this.disposeAfter(...this.disposed.shift())}}return this}newIndex(){if(this.size===0){return this.tail}if(this.size===this.max&&this.max!==0){return this.evict(false)}if(this.free.length!==0){return this.free.pop()}return this.initialFill++}pop(){if(this.size){const e=this.valList[this.head];this.evict(true);return e}}evict(e){const t=this.head;const s=this.keyList[t];const i=this.valList[t];if(this.isBackgroundFetch(i)){i.__abortController.abort(new Error("evicted"))}else{this.dispose(i,s,"evict");if(this.disposeAfter){this.disposed.push([i,s,"evict"])}}this.removeItemSize(t);if(e){this.keyList[t]=null;this.valList[t]=null;this.free.push(t)}this.head=this.next[t];this.keyMap.delete(s);this.size--;return t}has(e,{updateAgeOnHas:t=this.updateAgeOnHas,status:s}={}){const i=this.keyMap.get(e);if(i!==undefined){if(!this.isStale(i)){if(t){this.updateItemAge(i)}if(s)s.has="hit";this.statusTTL(s,i);return true}else if(s){s.has="stale";this.statusTTL(s,i)}}else if(s){s.has="miss"}return false}peek(e,{allowStale:t=this.allowStale}={}){const s=this.keyMap.get(e);if(s!==undefined&&(t||!this.isStale(s))){const i=this.valList[s];return this.isBackgroundFetch(i)?i.__staleWhileFetching:i}}backgroundFetch(o,a,l,e){const s=a===undefined?undefined:this.valList[a];if(this.isBackgroundFetch(s)){return s}const h=new f;if(l.signal){l.signal.addEventListener("abort",()=>h.abort(l.signal.reason))}const r={signal:h.signal,options:l,context:e};const i=(e,t=false)=>{const{aborted:s}=h.signal;const i=l.ignoreFetchAbort&&e!==undefined;if(l.status){if(s&&!t){l.status.fetchAborted=true;l.status.fetchError=h.signal.reason;if(i)l.status.fetchAbortIgnored=true}else{l.status.fetchResolved=true}}if(s&&!i&&!t){return n(h.signal.reason)}if(this.valList[a]===c){if(e===undefined){if(c.__staleWhileFetching){this.valList[a]=c.__staleWhileFetching}else{this.delete(o)}}else{if(l.status)l.status.fetchUpdated=true;this.set(o,e,r.options)}}return e};const t=e=>{if(l.status){l.status.fetchRejected=true;l.status.fetchError=e}return n(e)};const n=e=>{const{aborted:t}=h.signal;const s=t&&l.allowStaleOnFetchAbort;const i=s||l.allowStaleOnFetchRejection;const r=i||l.noDeleteOnFetchRejection;if(this.valList[a]===c){const n=!r||c.__staleWhileFetching===undefined;if(n){this.delete(o)}else if(!s){this.valList[a]=c.__staleWhileFetching}}if(i){if(l.status&&c.__staleWhileFetching!==undefined){l.status.returnedStale=true}return c.__staleWhileFetching}else if(c.__returned===c){throw e}};const u=(t,e)=>{this.fetchMethod(o,s,r).then(e=>t(e),e);h.signal.addEventListener("abort",()=>{if(!l.ignoreFetchAbort||l.allowStaleOnFetchAbort){t();if(l.allowStaleOnFetchAbort){t=e=>i(e,true)}}})};if(l.status)l.status.fetchDispatched=true;const c=new Promise(u).then(i,t);c.__abortController=h;c.__staleWhileFetching=s;c.__returned=null;if(a===undefined){this.set(o,c,{...r.options,status:undefined});a=this.keyMap.get(o)}else{this.valList[a]=c}return c}isBackgroundFetch(e){return e&&typeof e==="object"&&typeof e.then==="function"&&Object.prototype.hasOwnProperty.call(e,"__staleWhileFetching")&&Object.prototype.hasOwnProperty.call(e,"__returned")&&(e.__returned===e||e.__returned===null)}async fetch(e,{allowStale:t=this.allowStale,updateAgeOnGet:s=this.updateAgeOnGet,noDeleteOnStaleGet:i=this.noDeleteOnStaleGet,ttl:r=this.ttl,noDisposeOnSet:n=this.noDisposeOnSet,size:o=0,sizeCalculation:a=this.sizeCalculation,noUpdateTTL:l=this.noUpdateTTL,noDeleteOnFetchRejection:h=this.noDeleteOnFetchRejection,allowStaleOnFetchRejection:u=this.allowStaleOnFetchRejection,ignoreFetchAbort:c=this.ignoreFetchAbort,allowStaleOnFetchAbort:f=this.allowStaleOnFetchAbort,fetchContext:d=this.fetchContext,forceRefresh:p=false,status:g,signal:y}={}){if(!this.fetchMethod){if(g)g.fetch="get";return this.get(e,{allowStale:t,updateAgeOnGet:s,noDeleteOnStaleGet:i,status:g})}const v={allowStale:t,updateAgeOnGet:s,noDeleteOnStaleGet:i,ttl:r,noDisposeOnSet:n,size:o,sizeCalculation:a,noUpdateTTL:l,noDeleteOnFetchRejection:h,allowStaleOnFetchRejection:u,allowStaleOnFetchAbort:f,ignoreFetchAbort:c,status:g,signal:y};let m=this.keyMap.get(e);if(m===undefined){if(g)g.fetch="miss";const w=this.backgroundFetch(e,m,v,d);return w.__returned=w}else{const b=this.valList[m];if(this.isBackgroundFetch(b)){const k=t&&b.__staleWhileFetching!==undefined;if(g){g.fetch="inflight";if(k)g.returnedStale=true}return k?b.__staleWhileFetching:b.__returned=b}const x=this.isStale(m);if(!p&&!x){if(g)g.fetch="hit";this.moveToTail(m);if(s){this.updateItemAge(m)}this.statusTTL(g,m);return b}const w=this.backgroundFetch(e,m,v,d);const S=w.__staleWhileFetching!==undefined;const A=S&&t;if(g){g.fetch=S&&x?"stale":"refresh";if(A&&x)g.returnedStale=true}return A?w.__staleWhileFetching:w.__returned=w}}get(e,{allowStale:t=this.allowStale,updateAgeOnGet:s=this.updateAgeOnGet,noDeleteOnStaleGet:i=this.noDeleteOnStaleGet,status:r}={}){const n=this.keyMap.get(e);if(n!==undefined){const o=this.valList[n];const a=this.isBackgroundFetch(o);this.statusTTL(r,n);if(this.isStale(n)){if(r)r.get="stale";if(!a){if(!i){this.delete(e)}if(r)r.returnedStale=t;return t?o:undefined}else{if(r){r.returnedStale=t&&o.__staleWhileFetching!==undefined}return t?o.__staleWhileFetching:undefined}}else{if(r)r.get="hit";if(a){return o.__staleWhileFetching}this.moveToTail(n);if(s){this.updateItemAge(n)}return o}}else if(r){r.get="miss"}}connect(e,t){this.prev[t]=e;this.next[e]=t}moveToTail(e){if(e!==this.tail){if(e===this.head){this.head=this.next[e]}else{this.connect(this.prev[e],this.next[e])}this.connect(this.tail,e);this.tail=e}}get del(){n("del","delete");return this.delete}delete(e){let t=false;if(this.size!==0){const s=this.keyMap.get(e);if(s!==undefined){t=true;if(this.size===1){this.clear()}else{this.removeItemSize(s);const i=this.valList[s];if(this.isBackgroundFetch(i)){i.__abortController.abort(new Error("deleted"))}else{this.dispose(i,e,"delete");if(this.disposeAfter){this.disposed.push([i,e,"delete"])}}this.keyMap.delete(e);this.keyList[s]=null;this.valList[s]=null;if(s===this.tail){this.tail=this.prev[s]}else if(s===this.head){this.head=this.next[s]}else{this.next[this.prev[s]]=this.next[s];this.prev[this.next[s]]=this.prev[s]}this.size--;this.free.push(s)}}}if(this.disposed){while(this.disposed.length){this.disposeAfter(...this.disposed.shift())}}return t}clear(){for(const e of this.rindexes({allowStale:true})){const t=this.valList[e];if(this.isBackgroundFetch(t)){t.__abortController.abort(new Error("deleted"))}else{const s=this.keyList[e];this.dispose(t,s,"delete");if(this.disposeAfter){this.disposed.push([t,s,"delete"])}}}this.keyMap.clear();this.valList.fill(null);this.keyList.fill(null);if(this.ttls){this.ttls.fill(0);this.starts.fill(0)}if(this.sizes){this.sizes.fill(0)}this.head=0;this.tail=0;this.initialFill=1;this.free.length=0;this.calculatedSize=0;this.size=0;if(this.disposed){while(this.disposed.length){this.disposeAfter(...this.disposed.shift())}}}get reset(){n("reset","clear");return this.clear}get length(){o("length","size");return this.size}static get AbortController(){return f}static get AbortSignal(){return r}}e.exports=H}};var n={};function o(e){var t=n[e];if(t!==undefined){return t.exports}var s=n[e]={exports:{}};var i=true;try{r[e].call(s.exports,s,s.exports,o);i=false}finally{if(i)delete n[e]}return s.exports}if(typeof o!=="undefined")o.ab=__dirname+"/";var e=o(144);module.exports=e})();