"use strict";(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([["app_views_issueDetails_index_tsx"],{"./app/components/events/errorLevel.tsx":(e,t,s)=>{s.d(t,{Z:()=>o});var r=s("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js");const i="13px",o=(0,r.Z)("span",{target:"efr73n80"})("padding:0;position:relative;width:",(e=>e.size||i),";height:",(e=>e.size||i),";text-indent:-9999em;display:inline-block;border-radius:50%;flex-shrink:0;background-color:",(e=>e.level?e.theme.level[e.level]:e.theme.level.error),";")},"./app/components/events/eventMessage.tsx":(e,t,s)=>{s.d(t,{Z:()=>p});var r=s("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),i=s("./app/components/events/errorLevel.tsx"),o=s("./app/styles/space.tsx"),n=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");const a=(0,r.Z)((e=>{let{className:t,level:s,levelIndicatorSize:r,message:o,annotations:a}=e;return(0,n.BX)("div",{className:t,children:[s&&(0,n.tZ)(i.Z,{size:r,level:s,children:s}),o&&(0,n.tZ)(l,{children:o}),a]})}),{target:"e1ms02k71"})("display:flex;gap:",(0,o.D)(1),";align-items:center;position:relative;line-height:1.2;overflow:hidden;"),l=(0,r.Z)("span",{target:"e1ms02k70"})((e=>e.theme.overflowEllipsis)," width:auto;max-height:38px;"),p=a},"./app/components/events/interfaces/crashContent/exception/setupSourceMapsAlert.tsx":(e,t,s)=>{s.d(t,{I:()=>f,m:()=>b});var r=s("./app/components/alert.tsx"),i=s("./app/components/events/interfaces/spans/utils.tsx"),o=s("./app/components/links/externalLink.tsx"),n=s("./app/data/platformCategories.tsx"),a=s("./app/locale.tsx"),l=s("./app/types/index.tsx"),p=s("./app/utils.tsx"),d=s("./app/utils/analytics/trackAdvancedAnalyticsEvent.tsx"),c=s("./app/utils/events.tsx"),u=s("./app/utils/useOrganization.tsx"),h=s("./app/utils/useRouter.tsx"),g=s("./app/components/events/interfaces/crashContent/exception/utils.tsx"),m=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");const v={react:"https://docs.sentry.io/platforms/javascript/guides/react/sourcemaps/",electron:"https://docs.sentry.io/platforms/javascript/guides/electron/sourcemaps/",cordova:"https://docs.sentry.io/platforms/javascript/guides/cordova/sourcemaps/","javascript-angularjs":"https://docs.sentry.io/platforms/javascript/guides/angular/sourcemaps/","javascript-angular":"https://docs.sentry.io/platforms/javascript/guides/angular/sourcemaps/","javascript-ember":"https://docs.sentry.io/platforms/javascript/guides/ember/sourcemaps/","javascript-gatsby":"https://docs.sentry.io/platforms/javascript/guides/gatsby/sourcemaps/","javascript-vue":"https://docs.sentry.io/platforms/javascript/guides/vue/sourcemaps/","javascript-nextjs":"https://docs.sentry.io/platforms/javascript/guides/nextjs/sourcemaps/","javascript-remix":"https://docs.sentry.io/platforms/javascript/guides/remix/sourcemaps/","javascript-svelte":"https://docs.sentry.io/platforms/javascript/guides/svelte/sourcemaps/"};function y(e){return!!e&&(e.includes("localhost")||e.includes("127.0.0.1"))}function f(e,t,s){if(!(0,p.ri)(t)||!(0,p.ri)(s))return!1;if(!e.features?.includes("source-maps-cta"))return!1;const r=s?.platform??"other",o=(0,i.PC)(s),a=s?.entries.find((e=>e.type===l.UZ.EXCEPTION)),d=a?.data.values;return!(!o&&!n.H.includes(r)||(0,c.OL)(s)||!a||0===d?.length||d?.every((e=>!e.stacktrace&&!e.rawStacktrace))||d?.every((e=>e.stacktrace?.frames?.every((e=>!e.inApp))))||d?.every((e=>e.stacktrace?.frames?.every((e=>(0,g.U)(e))))))}function b(e){let{event:t}=e;const s=(0,u.Z)(),n=(0,h.Z)().location.query.project,p=t.platform??"other",c=(0,i.PC)(t);if(!f(s,n,t))return null;const g=t.entries?.find((e=>e.type===l.UZ.REQUEST))?.data?.url??t.tags.find((e=>"url"===e.key))?.value,b=c?t.sdk?.name?.substring("sentry.javascript.".length)??"other":p,Z=v[b]??v[p]??"https://docs.sentry.io/platforms/javascript/sourcemaps/";return(0,m.tZ)(r.bZ,{type:"info",showIcon:!0,trailingItems:(0,m.tZ)(o.Z,{href:Z,onClick:()=>{(0,d.Z)("issue_group_details.stack_traces.setup_source_maps_alert.clicked",{organization:s,project_id:n,platform:b})},children:(0,a.t)("Upload Source Maps")}),children:y(g)?(0,a.t)("In production, you might have minified JS code that makes stack traces hard to read. Sentry can un-minify it for you"):(0,a.t)("Sentry can un-minify your code to show you more readable stack traces")})}b.displayName="SetupSourceMapsAlert"},"./app/components/pageAlertBar.tsx":(e,t,s)=>{s.d(t,{Z:()=>r});const r=(0,s("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js").Z)("div",{target:"e4nzktk0"})("display:flex;align-items:center;justify-content:center;color:",(e=>e.theme.headerBackground),";background-color:",(e=>e.theme.bannerBackground),";padding:6px 30px;font-size:14px;")},"./app/components/replays/replayCountBadge.tsx":(e,t,s)=>{s.d(t,{Z:()=>n});var r=s("./app/components/badge.tsx"),i=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function o(e){let{count:t}=e;const s=t&&t>50?"50+":t??null;return(0,i.tZ)(r.Z,{text:s})}o.displayName="ReplayCountBadge";const n=o},"./app/components/replays/replaysFeatureBadge.tsx":(e,t,s)=>{s.d(t,{Z:()=>n});var r=s("./app/components/featureBadge.tsx"),i=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function o(e){return(0,i.tZ)(r.Z,{...e,type:"new"})}o.displayName="ReplaysFeatureBadge";const n=o},"./app/stores/organizationEnvironmentsStore.tsx":(e,t,s)=>{s.d(t,{Z:()=>n});var r=s("../node_modules/reflux/src/index.js"),i=s("./app/utils/environment.tsx");const o={state:{environments:null,error:null},init(){this.state={environments:null,error:null}},makeEnvironment:e=>({id:e.id,name:e.name,get displayName(){return(0,i.G)(e)},get urlRoutingName(){return(0,i.z)(e)}}),onFetchEnvironments(){this.state={environments:null,error:null},this.trigger(this.state)},onFetchEnvironmentsSuccess(e){this.state={error:null,environments:e.map(this.makeEnvironment)},this.trigger(this.state)},onFetchEnvironmentsError(e){this.state={error:e,environments:null},this.trigger(this.state)},getState(){return this.state}},n=(0,r.createStore)(o)},"./app/utils/displayReprocessEventAction.tsx":(e,t,s)=>{s.d(t,{B:()=>n});var r=s("./app/types/index.tsx");const i=["cocoa","native"];function o(e){const t=e?.frames??[],s=e?.stacktrace?.frames??[];return t.length||s.length?[...t,...s].map((e=>e.platform)).filter((e=>!!e)):[]}function n(e,t){if(!t||!e.includes("reprocessing-v2"))return!1;const{entries:s}=t,n=s.find((e=>e.type===r.UZ.EXCEPTION));return!!n&&!!(function(e){const{data:t}=e;return(t.values??[]).some((e=>"minidump"===e.mechanism?.type))}(n)||function(e){const{data:t}=e;return(t.values??[]).some((e=>"applecrashreport"===e.mechanism?.type))}(n)||function(e,t){const{platform:s}=e;if(s&&i.includes(s))return!0;const n=function(e,t){const s=(t.data.values??[]).flatMap(o),i=e.entries.find((e=>e.type===r.UZ.STACKTRACE))?.data??{},n=Object.keys(i).flatMap((e=>o(i[e]))),a=(e.entries.find((e=>e.type===r.UZ.THREADS))?.data.values??[]).flatMap((e=>{let{stacktrace:t}=e;return o(t)}));return new Set([...s,...n,...a])}(e,t);return i.some((e=>n.has(e)))}(t,n))}},"./app/utils/environment.tsx":(e,t,s)=>{s.d(t,{G:()=>n,z:()=>o});const r="none",i="(No Environment)";function o(e){return e.name?encodeURIComponent(e.name):e.displayName?encodeURIComponent(e.displayName):r}function n(e){return e.name||e.displayName||i}},"./app/views/issueDetails/index.tsx":(e,t,s)=>{s.r(t),s.d(t,{default:()=>St});var r=s("../node_modules/react/index.js"),i=s("./app/actionCreators/indicator.tsx"),o=s("./app/locale.tsx"),n=s("./app/stores/projectsStore.tsx"),a=s("./app/utils/handleXhrErrorResponse.tsx"),l=s("./app/utils/useApi.tsx"),p=s("./app/utils/useOrganization.tsx"),d=s("./app/utils/useProjects.tsx"),c=s("./app/utils/withPageFilters.tsx"),u=s("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),h=s("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),g=(s("../node_modules/core-js/modules/es.array.push.js"),s("../node_modules/core-js/modules/es.error.cause.js"),s("../node_modules/react-router/es/index.js")),m=s("../node_modules/@sentry/core/esm/exports.js"),v=s("../node_modules/@sentry/react/esm/profiler.js"),y=s("../node_modules/prop-types/index.js"),f=s("./app/stores/organizationEnvironmentsStore.tsx"),b=s("./app/components/events/interfaces/crashContent/exception/setupSourceMapsAlert.tsx"),Z=s("./app/components/loadingError.tsx"),x=s("./app/components/loadingIndicator.tsx"),E=s("./app/components/organizations/pageFilters/container.tsx"),S=s("./app/components/projects/missingProjectMembership.tsx"),I=s("./app/components/sentryDocumentTitle.tsx"),w=s("./app/components/tabs/index.tsx"),k=s("./app/sentryTypes.tsx"),j=s("./app/stores/groupStore.tsx"),_=s("./app/styles/space.tsx"),D=s("./app/types/index.tsx"),R=s("./app/utils/analytics/trackAdvancedAnalyticsEvent.tsx"),A=s("./app/utils/dates.tsx"),T=s("./app/utils/events.tsx"),C=s("./app/utils/projects.tsx"),z=s("./app/utils/recreateRoute.tsx"),N=s("./app/utils/routeAnalytics/withRouteAnalytics.tsx"),O=s("./app/utils/withApi.tsx"),U=s("./app/utils/withDomainRequired.tsx");const B="GROUP_NOT_FOUND",$="MISSING_MEMBERSHIP";var P=s("../node_modules/lodash/omit.js"),M=s.n(P),G=s("./app/components/assistant/guideAnchor.tsx"),F=s("./app/components/badge.tsx"),q=s("./app/components/breadcrumbs.tsx"),L=s("./app/components/count.tsx"),X=s("./app/components/environmentPageFilter.tsx"),V=s("./app/components/eventOrGroupTitle.tsx"),H=s("./app/components/events/errorLevel.tsx"),Y=s("./app/components/events/eventMessage.tsx"),Q=s("./app/components/featureBadge.tsx"),K=s("./app/components/group/inboxBadges/inboxReason.tsx"),J=s("./app/components/group/inboxBadges/unhandledTag.tsx"),W=s("./app/components/idBadge/projectBadge.tsx"),ee=s("./app/components/layouts/thirds.tsx"),te=s("./app/components/links/link.tsx"),se=s("./app/components/replays/replayCountBadge.tsx"),re=s("./app/components/replays/replaysFeatureBadge.tsx"),ie=s("./app/components/replays/useReplaysCount.tsx"),oe=s("./app/components/shortId.tsx"),ne=s("./app/components/tooltip.tsx"),ae=s("./app/icons/index.tsx"),le=s("./app/utils/issueTypeConfig/index.tsx"),pe=s("./app/utils/replays/projectSupportsReplay.tsx"),de=s("./app/utils/useLocation.tsx"),ce=s("./app/actionCreators/group.tsx"),ue=s("./app/actionCreators/modal.tsx"),he=s("./app/components/acl/feature.tsx"),ge=s("./app/components/acl/featureDisabled.tsx"),me=s("./app/components/actions/archive.tsx"),ve=s("./app/components/actions/button.tsx"),ye=s("./app/components/actions/ignore.tsx"),fe=s("./app/components/actions/resolve.tsx"),be=s("./app/components/button.tsx"),Ze=s("./app/components/dropdownMenu/index.tsx"),xe=s("./app/utils/discover/eventView.tsx"),Ee=s("./app/utils/discover/types.tsx"),Se=s("./app/utils/displayReprocessEventAction.tsx"),Ie=s("./app/utils/guid.tsx"),we=s("./app/utils/isActiveSuperuser.tsx"),ke=s("./app/utils/withOrganization.tsx"),je=s("./app/utils/useRouter.tsx"),_e=s("./app/views/issueDetails/openAIFixSuggestion/utils.ts"),De=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function Re(e){let{className:t,disabled:s,size:i,onClick:n,groupId:a,activeSuperUser:l}=e;const d=(0,p.Z)(),c=(0,je.Z)(),u=(0,U.D)(`/organizations/${d.slug}/issues/${a}/`),h=(0,r.useCallback)((()=>{n(),c.push({pathname:u,query:{...c.location.query,showSuggestedFix:!0}})}),[c,u,n]);return d.features.includes("open-ai-suggestion")?(0,De.tZ)(ve.Z,{className:t,disabled:l||s,title:l?(0,o.t)("Superusers can't consent to policies"):(0,De.BX)("div",{children:[_e.v,(0,De.tZ)(Q.Z,{type:"experimental",noTooltip:!0})]}),size:i,onClick:h,children:(0,o.t)("Suggested Fix")}):null}Re.displayName="OpenAIFixSuggestionButton";var Ae=s("./app/components/autoSelectText.tsx"),Te=s("./app/components/switchButton.tsx"),Ce=s("./app/stores/useLegacyStore.tsx");function ze(e){let{Header:t,Body:s,Footer:n,organization:a,projectSlug:p,groupId:d,onToggle:c,closeModal:u}=e;const h=(0,l.Z)({persistInFlight:!0}),[g,m]=(0,r.useState)(!1),v=(0,r.useRef)(null),y=(0,Ce.X)(j.Z).find((e=>e.id===d)),f=y?.isPublic,b=(0,r.useCallback)(((e,t)=>{e?.preventDefault(),m(!0),c(),(0,ce.Gv)(h,{orgId:a.slug,projectId:p,itemIds:[d],data:{isPublic:t??!f}},{error:()=>{(0,i.Iw)((0,o.t)("Error sharing"))},complete:()=>{m(!1)}})}),[h,m,c,f,a.slug,p,d]);(0,r.useEffect)((()=>{f||b(null,!0)}),[]);const Z=y?.shareId?function(){const e=`/share/issue/${y.shareId}/`,{host:t,protocol:s}=window.location;return`${s}//${t}${e}`}():null,E=()=>{navigator.clipboard.writeText(Z).then((()=>{(0,i.S9)((0,o.t)("Copied to clipboard"))})).catch((()=>{(0,i.Iw)((0,o.t)("Error copying to clipboard"))}))};return(0,De.BX)(r.Fragment,{children:[(0,De.tZ)(t,{closeButton:!0,children:(0,De.tZ)("h4",{children:(0,o.t)("Share Issue")})}),(0,De.tZ)(s,{children:(0,De.BX)(Oe,{children:[(0,De.BX)(Ue,{children:[(0,De.BX)("div",{children:[(0,De.tZ)(Be,{children:(0,o.t)("Create a public link")}),(0,De.tZ)($e,{children:(0,o.t)("Share a link with anyone outside your organization")})]}),(0,De.tZ)(Te.Z,{"aria-label":f?(0,o.t)("Unshare"):(0,o.t)("Share"),isActive:f,size:"lg",toggle:b})]}),(!y||g)&&(0,De.tZ)(Pe,{children:(0,De.tZ)(x.Z,{mini:!0})}),y&&!g&&f&&Z&&(0,De.BX)(Me,{children:[(0,De.tZ)(Fe,{children:(0,De.tZ)(Ge,{ref:v,children:Z})}),(0,De.tZ)(qe,{title:(0,o.t)("Copy to clipboard"),borderless:!0,size:"sm",onClick:()=>{v.current?.selectText(),E()},icon:(0,De.tZ)(ae.vU,{}),"aria-label":(0,o.t)("Copy to clipboard")}),(0,De.tZ)(Le,{title:(0,o.t)("Generate new URL. Invalidates previous URL"),"aria-label":(0,o.t)("Generate new URL"),borderless:!0,size:"sm",icon:(0,De.tZ)(ae.tr,{}),onClick:()=>b(null,!0)})]})]})}),(0,De.tZ)(n,{children:!g&&f&&Z?(0,De.tZ)(be.zx,{priority:"primary",onClick:()=>{E(),u()},children:(0,o.t)("Copy Link")}):(0,De.tZ)(be.zx,{priority:"primary",onClick:()=>{u()},children:(0,o.t)("Close")})})]})}ze.displayName="ShareIssueModal";const Ne=ze,Oe=(0,h.Z)("div",{target:"e1w9vv749"})("display:flex;gap:",(0,_.D)(2),";flex-direction:column;min-height:100px;"),Ue=(0,h.Z)("div",{target:"e1w9vv748"})("display:flex;justify-content:space-between;align-items:center;gap:",(0,_.D)(2),";"),Be=(0,h.Z)("div",{target:"e1w9vv747"})("padding-right:",(0,_.D)(4),";white-space:nowrap;"),$e=(0,h.Z)("p",{target:"e1w9vv746"})("color:",(e=>e.theme.subText),";font-size:",(e=>e.theme.fontSizeSmall),";"),Pe=(0,h.Z)("div",{target:"e1w9vv745"})({name:"zl1inp",styles:"display:flex;justify-content:center"}),Me=(0,h.Z)("div",{target:"e1w9vv744"})("display:flex;align-items:stretch;border:1px solid ",(e=>e.theme.border),";border-radius:",(0,_.D)(.5),";"),Ge=(0,h.Z)(Ae.Z,{target:"e1w9vv743"})("padding:",(0,_.D)(1)," ",(0,_.D)(1),";",(e=>e.theme.overflowEllipsis),";"),Fe=(0,h.Z)("div",{target:"e1w9vv742"})("position:relative;display:flex;flex-grow:1;background-color:transparent;border-right:1px solid ",(e=>e.theme.border),";min-width:0;"),qe=(0,h.Z)(be.zx,{target:"e1w9vv741"})("border-radius:0;border-right:1px solid ",(e=>e.theme.border),";height:100%;flex-shrink:0;&:hover{border-right:1px solid ",(e=>e.theme.border),";}"),Le=(0,h.Z)(be.zx,{target:"e1w9vv740"})({name:"vdwx3d",styles:"height:100%;flex-shrink:0"});var Xe=s("./app/views/issueDetails/utils.tsx");function Ve(e){let{className:t,disabled:s,group:r,icon:i,onClick:n,disablePriority:a,size:l="xs"}=e;const p=r.subscriptionDetails?.disabled??!1;return(0,De.tZ)(ve.Z,{className:t,disabled:s||p,title:(0,Xe.sC)(r),tooltipProps:{delay:300},priority:!a&&r.isSubscribed?"primary":"default",size:l,"aria-label":(0,o.t)("Subscribe"),onClick:n,icon:i??(0,De.tZ)(ae.lJ,{size:l})})}Ve.displayName="SubscribeAction";const He=Ve;class Ye extends r.Component{constructor(){super(...arguments),(0,u.Z)(this,"onDelete",(()=>{const{group:e,project:t,organization:s,api:r}=this.props;(0,i.E3)((0,o.t)("Delete event…")),(0,ce.MU)(r,{orgId:s.slug,projectId:t.slug,itemIds:[e.id]},{complete:()=>{(0,i.B8)(),g.browserHistory.push((0,U.D)({pathname:`/organizations/${s.slug}/issues/`,query:{project:t.id}}))}}),this.trackIssueAction("deleted")})),(0,u.Z)(this,"onUpdate",(e=>{const{group:t,project:s,organization:r,api:n}=this.props;(0,i.E3)((0,o.t)("Saving changes…")),(0,ce.Gv)(n,{orgId:r.slug,projectId:s.slug,itemIds:[t.id],data:e},{complete:i.B8}),e.status&&this.trackIssueAction(e.status),void 0!==e.inbox&&this.trackIssueAction("mark_reviewed")})),(0,u.Z)(this,"onReprocessEvent",(()=>{const{group:e,organization:t}=this.props;(0,ue.openReprocessEventModal)({organization:t,groupId:e.id})})),(0,u.Z)(this,"onToggleShare",(()=>{!this.props.group.isPublic&&(0,R.Z)("issue.shared_publicly",{organization:this.props.organization}),this.trackIssueAction("shared")})),(0,u.Z)(this,"onToggleBookmark",(()=>{this.onUpdate({isBookmarked:!this.props.group.isBookmarked}),this.trackIssueAction("bookmarked")})),(0,u.Z)(this,"onToggleSubscribe",(()=>{this.onUpdate({isSubscribed:!this.props.group.isSubscribed}),this.trackIssueAction("subscribed")})),(0,u.Z)(this,"onDiscard",(()=>{const{group:e,project:t,organization:s,api:r}=this.props,n=(0,Ie.E)();(0,i.E3)((0,o.t)("Discarding event…")),j.Z.onDiscard(n,e.id),r.request(`/issues/${e.id}/`,{method:"PUT",data:{discard:!0},success:r=>{j.Z.onDiscardSuccess(n,e.id,r),g.browserHistory.push((0,U.D)({pathname:`/organizations/${s.slug}/issues/`,query:{project:t.id}}))},error:t=>{j.Z.onDiscardError(n,e.id,t)},complete:i.B8}),this.trackIssueAction("discarded")})),(0,u.Z)(this,"renderDiscardModal",(e=>{let{Body:t,Footer:s,closeModal:i}=e;const{organization:n,project:a}=this.props;return(0,De.tZ)(he.Z,{features:["projects:discard-groups"],hookName:"feature-disabled:discard-groups",organization:n,project:a,renderDisabled:function(e){let{children:t,...s}=e;return t({...s,renderDisabled:e=>{let{features:t}=e;return(0,De.tZ)(ge.Z,{alert:!0,featureName:(0,o.t)("Discard and Delete"),features:t})}})},children:e=>{let{hasFeature:n,renderDisabled:a,...l}=e;return(0,De.BX)(r.Fragment,{children:[(0,De.BX)(t,{children:[!n&&"function"==typeof a&&a({...l,hasFeature:n,children:null}),(0,o.t)("Discarding this event will result in the deletion of most data associated with this issue and future events being discarded before reaching your stream. Are you sure you wish to continue?")]}),(0,De.BX)(s,{children:[(0,De.tZ)(be.zx,{onClick:i,children:(0,o.t)("Cancel")}),(0,De.tZ)(be.zx,{style:{marginLeft:(0,_.D)(1)},priority:"primary",onClick:this.onDiscard,disabled:!n,children:(0,o.t)("Discard Future Events")})]})]})}})})),(0,u.Z)(this,"openDeleteModal",(()=>(0,ue.openModal)((e=>{let{Body:t,Footer:s,closeModal:i}=e;return(0,De.BX)(r.Fragment,{children:[(0,De.tZ)(t,{children:(0,o.t)("Deleting this issue is permanent. Are you sure you wish to continue?")}),(0,De.BX)(s,{children:[(0,De.tZ)(be.zx,{onClick:i,children:(0,o.t)("Cancel")}),(0,De.tZ)(be.zx,{style:{marginLeft:(0,_.D)(1)},priority:"primary",onClick:this.onDelete,children:(0,o.t)("Delete")})]})]})})))),(0,u.Z)(this,"openDiscardModal",(()=>{(0,ue.openModal)(this.renderDiscardModal)})),(0,u.Z)(this,"openShareModal",(()=>{const{group:e,organization:t}=this.props;(0,ue.openModal)((s=>(0,De.tZ)(Ne,{...s,organization:t,projectSlug:e.project.slug,groupId:e.id,onToggle:this.onToggleShare})))}))}getShareUrl(e){if(!e)return"";const t=`/share/issue/${e}/`,{host:s,protocol:r}=window.location;return`${r}//${s}${t}`}getDiscoverUrl(){const{group:e,project:t,organization:s}=this.props,{title:r,type:i,shortId:o}=e,n=(0,le.Y)(e),a={id:void 0,name:r||i,fields:["title","release","environment","user.display","timestamp"],orderby:"-timestamp",query:`issue:${o}`,projects:[Number(t.id)],version:2,range:"90d",dataset:n.usesIssuePlatform?Ee.as.ISSUE_PLATFORM:void 0};return xe.ZP.fromSavedQuery(a).getResultsViewUrlTarget(s.slug)}trackIssueAction(e){const{group:t,project:s,organization:r,query:i={}}=this.props,{alert_date:o,alert_rule_id:n,alert_type:a}=i;(0,R.Z)("issue_details.action_clicked",{organization:r,project_id:parseInt(s.id,10),action_type:e,alert_date:"string"==typeof o?(0,A.v5)(Number(o)):void 0,alert_rule_id:"string"==typeof n?n:void 0,alert_type:"string"==typeof a?a:void 0,...(0,T.Sq)(t)})}handleClick(e,t){return function(s){if(e)return s.preventDefault(),void s.stopPropagation();t(s)}}render(){const{group:e,project:t,organization:s,disabled:i,event:n}=this.props,{status:a,isBookmarked:l}=e,p=l?"unbookmark":"bookmark",d=l?(0,o.t)("Remove bookmark"):(0,o.t)("Bookmark"),c=!!t.features?.includes("releases"),u="resolved"===a,h="resolved"===e.status?e.statusDetails.autoResolved:void 0,m="ignored"===a,{delete:v,deleteAndDiscard:y,share:f}=(0,le.Y)(e).actions,b=s.features.includes("escalating-issues"),Z=s.access.includes("event:admin"),x=(0,we.M)(),{dropdownItems:E,onIgnore:S}=(0,ye.c)({onUpdate:this.onUpdate}),{dropdownItems:I}=(0,me.X)({onUpdate:this.onUpdate});return(0,De.BX)(Qe,{children:[(0,De.tZ)(Ze.h,{triggerProps:{"aria-label":(0,o.t)("More Actions"),icon:(0,De.tZ)(ae.YR,{size:"xs"}),showChevron:!1,size:"sm"},items:[...m||b?[]:[{key:"ignore",className:"hidden-sm hidden-md hidden-lg",label:(0,o.t)("Ignore"),isSubmenu:!0,disabled:i,children:[{key:"ignore-now",label:(0,o.t)("Ignore Issue"),onAction:()=>S()},...E]}],...b?m?[]:[{key:"Archive",className:"hidden-sm hidden-md hidden-lg",label:(0,o.t)("Archive"),isSubmenu:!0,disabled:i,children:I}]:[],{key:"open-in-discover",className:"hidden-sm hidden-md hidden-lg",label:(0,o.t)("Open in Discover"),to:i?"":this.getDiscoverUrl(),onAction:()=>this.trackIssueAction("open_in_discover")},{key:"suggested-fix",className:"hidden-sm hidden-md hidden-lg",disabled:x,tooltip:x?(0,o.t)("Superusers can't consent to policies"):void 0,label:(0,De.BX)(ne.u,{title:_e.v,containerDisplayMode:"inline-flex",children:[(0,o.t)("Suggested Fix"),(0,De.tZ)(Q.Z,{type:"experimental",noTooltip:!0})]}),onAction:()=>{this.trackIssueAction("open_ai_suggested_fix"),g.browserHistory.push({pathname:g.browserHistory.getCurrentLocation().pathname,query:{...g.browserHistory.getCurrentLocation().query,showSuggestedFix:!0}})},hidden:!s.features.includes("open-ai-suggestion")},{key:e.isSubscribed?"unsubscribe":"subscribe",className:"hidden-sm hidden-md hidden-lg",label:e.isSubscribed?(0,o.t)("Unsubscribe"):(0,o.t)("Subscribe"),disabled:i||e.subscriptionDetails?.disabled,onAction:this.onToggleSubscribe},{key:"mark-review",label:(0,o.t)("Mark reviewed"),disabled:!e.inbox||i,details:!e.inbox||i?(0,o.t)("Issue has been reviewed"):void 0,onAction:()=>this.onUpdate({inbox:!1})},{key:"share",label:(0,o.t)("Share"),disabled:i||!f.enabled,hidden:!s.features.includes("shared-issues"),onAction:this.openShareModal},{key:p,label:d,onAction:this.onToggleBookmark},{key:"reprocess",label:(0,o.t)("Reprocess events"),hidden:!(0,Se.B)(s.features,n),onAction:this.onReprocessEvent},{key:"delete-issue",priority:"danger",label:(0,o.t)("Delete"),hidden:!Z,disabled:!v.enabled,details:v.disabledReason,onAction:this.openDeleteModal},{key:"delete-and-discard",priority:"danger",label:(0,o.t)("Delete and discard future events"),hidden:!Z,disabled:!y.enabled,details:y.disabledReason,onAction:this.openDiscardModal}]}),(0,De.tZ)(He,{className:"hidden-xs",disabled:i,disablePriority:!0,group:e,onClick:this.handleClick(i,this.onToggleSubscribe),icon:e.isSubscribed?(0,De.tZ)(ae.lJ,{}):(0,De.tZ)(ae.mA,{}),size:"sm"}),(0,De.tZ)("div",{className:"hidden-xs",children:(0,De.tZ)(X.Z,{alignDropdown:"right",size:"sm"})}),(0,De.tZ)(he.Z,{hookName:"feature-disabled:open-in-discover",features:["discover-basic"],organization:s,children:(0,De.tZ)(ve.Z,{className:"hidden-xs",disabled:i,to:i?"":this.getDiscoverUrl(),onClick:()=>this.trackIssueAction("open_in_discover"),size:"sm",children:(0,De.tZ)(G.Z,{target:"open_in_discover",children:(0,o.t)("Open in Discover")})})}),(0,De.tZ)(he.Z,{features:["open-ai-suggestion"],organization:s,children:(0,De.tZ)(G.Z,{target:"suggested-fix",position:"bottom",offset:20,children:(0,De.tZ)(Re,{className:"hidden-xs",size:"sm",disabled:i,groupId:e.id,onClick:()=>this.trackIssueAction("open_ai_suggested_fix"),activeSuperUser:x})})}),u||m?(0,De.tZ)(ve.Z,{priority:"primary",title:h?(0,o.t)("This event is resolved due to the Auto Resolve configuration for this project"):(0,o.t)("Change status to unresolved"),size:"sm",icon:u?(0,De.tZ)(ae.DL,{}):(0,De.tZ)(ae.i1,{}),disabled:i||h,onClick:()=>this.onUpdate({status:D.d7.UNRESOLVED,statusDetails:{}}),children:m?(0,o.t)("Ignored"):(0,o.t)("Resolved")}):(0,De.BX)(r.Fragment,{children:[b?(0,De.tZ)(me.Z,{className:"hidden-xs",size:"sm",isArchived:m,onUpdate:this.onUpdate,disabled:i,hideIcon:!0,disableTooltip:!0}):(0,De.tZ)(ye.Z,{className:"hidden-xs",isIgnored:m,onUpdate:this.onUpdate,disabled:i,size:"sm",hideIcon:!0,disableTooltip:!0}),(0,De.tZ)(G.Z,{target:"resolve",position:"bottom",offset:20,children:(0,De.tZ)(fe.Z,{disableTooltip:!0,disabled:i,disableDropdown:i,hasRelease:c,latestRelease:t.latestRelease,onUpdate:this.onUpdate,orgSlug:s.slug,projectSlug:t.slug,isResolved:u,isAutoResolved:h,size:"sm",hideIcon:!0,priority:"primary"})})]})]})}}Ye.displayName="Actions";const Qe=(0,h.Z)("div",{target:"e1muhq5a0"})("display:flex;align-items:center;gap:",(0,_.D)(.5),";"),Ke=(0,O.Z)((0,ke.Z)(Ye));var Je=s("./app/views/issueDetails/types.tsx"),We=s("./app/views/issueDetails/unhandledTag.tsx");function et(e){let{baseUrl:t,disabledTabs:s,eventRoute:i,group:n,project:a}=e;const l=(0,p.Z)(),d=(0,r.useMemo)((()=>a.id?[Number(a.id)]:[]),[a.id]),c=(0,ie.Z)({groupIds:n.id,organization:l,projectIds:d})[n.id],u=new Set(a?a.features:[]),h=new Set(l?l.features:[]),g=h.has("grouping-tree-ui"),m=u.has("similarity-view"),v=h.has("event-attachments"),y=h.has("session-replay")&&(0,pe.Z)(a),f=(0,le.Y)(n);return(0,De.BX)(ht,{hideBorder:!0,children:[(0,De.tZ)(w.td.Item,{disabled:s.includes(Je.O.DETAILS),to:`${t}${location.search}`,children:(0,o.t)("Details")},Je.O.DETAILS),(0,De.BX)(w.td.Item,{textValue:(0,o.t)("Activity"),disabled:s.includes(Je.O.ACTIVITY),to:`${t}activity/${location.search}`,children:[(0,o.t)("Activity"),(0,De.BX)(ut,{children:[n.numComments,(0,De.tZ)(ae.f7,{size:"xs"})]})]},Je.O.ACTIVITY),(0,De.BX)(w.td.Item,{textValue:(0,o.t)("User Feedback"),hidden:!f.userFeedback.enabled,disabled:s.includes(Je.O.USER_FEEDBACK),to:`${t}feedback/${location.search}`,children:[(0,o.t)("User Feedback")," ",(0,De.tZ)(F.Z,{text:n.userReportCount})]},Je.O.USER_FEEDBACK),(0,De.tZ)(w.td.Item,{hidden:!v||!f.attachments.enabled,disabled:s.includes(Je.O.ATTACHMENTS),to:`${t}attachments/${location.search}`,children:(0,o.t)("Attachments")},Je.O.ATTACHMENTS),(0,De.tZ)(w.td.Item,{disabled:s.includes(Je.O.TAGS),to:`${t}tags/${location.search}`,children:(0,o.t)("Tags")},Je.O.TAGS),(0,De.tZ)(w.td.Item,{disabled:s.includes(Je.O.EVENTS),to:i,children:(0,o.t)("All Events")},Je.O.EVENTS),(0,De.tZ)(w.td.Item,{hidden:!f.mergedIssues.enabled,disabled:s.includes(Je.O.MERGED),to:`${t}merged/${location.search}`,children:(0,o.t)("Merged Issues")},Je.O.MERGED),(0,De.tZ)(w.td.Item,{hidden:!g||!f.grouping.enabled,disabled:s.includes(Je.O.GROUPING),to:`${t}grouping/${location.search}`,children:(0,o.t)("Grouping")},Je.O.GROUPING),(0,De.tZ)(w.td.Item,{hidden:!m||!f.similarIssues.enabled,disabled:s.includes(Je.O.SIMILAR_ISSUES),to:`${t}similar/${location.search}`,children:(0,o.t)("Similar Issues")},Je.O.SIMILAR_ISSUES),(0,De.BX)(w.td.Item,{textValue:(0,o.t)("Replays"),hidden:!y||!f.replays.enabled,to:`${t}replays/${location.search}`,children:[(0,o.t)("Replays"),(0,De.tZ)(se.Z,{count:c}),(0,De.tZ)(re.Z,{noTooltip:!0})]},Je.O.REPLAYS)]})}function tt(e){let{baseUrl:t,group:s,groupReprocessingStatus:i,organization:n,event:a,project:l}=e;const p=(0,de.T)(),d=(0,r.useMemo)((()=>n.features.includes("reprocessing-v2")?i===Xe.m7.REPROCESSING?[Je.O.ACTIVITY,Je.O.USER_FEEDBACK,Je.O.ATTACHMENTS,Je.O.EVENTS,Je.O.MERGED,Je.O.GROUPING,Je.O.SIMILAR_ISSUES,Je.O.TAGS]:i===Xe.m7.REPROCESSED_AND_HASNT_EVENT?[Je.O.DETAILS,Je.O.ATTACHMENTS,Je.O.EVENTS,Je.O.MERGED,Je.O.GROUPING,Je.O.SIMILAR_ISSUES,Je.O.TAGS,Je.O.USER_FEEDBACK]:[]:[]),[n,i]),c=(0,r.useMemo)((()=>{const e=M()(p.query,"query");return{pathname:`${t}events/`,query:e}}),[p,t]),{userCount:u}=s;let h="group-detail";s.hasSeen&&(h+=" hasSeen"),"resolved"===s.status&&(h+=" isResolved");const g=(0,T.FC)(s),m=!!d.length,v=s.shortId&&(0,De.tZ)(G.Z,{target:"issue_number",position:"bottom",children:(0,De.BX)(it,{children:[(0,De.tZ)(W.Z,{project:l,avatarSize:16,hideName:!0,avatarProps:{hasTooltip:!0,tooltip:l.slug}}),(0,De.tZ)(ne.u,{className:"help-link",title:(0,o.t)("This identifier is unique across your organization, and can be used to reference an issue in various places, like commit messages."),position:"bottom",children:(0,De.tZ)(ot,{shortId:s.shortId})}),s.issueType===D.EM.PERFORMANCE_CONSECUTIVE_DB_QUERIES&&(0,De.tZ)(Q.Z,{type:"alpha",title:(0,o.t)("Consecutive HTTP Performance Issues are in active development and may change")}),s.issueType===D.EM.PERFORMANCE_SLOW_DB_QUERY&&(0,De.tZ)(Q.Z,{type:"alpha",title:(0,o.t)("Slow DB Query Performance Issues are in active development and may change")}),s.issueType===D.EM.PERFORMANCE_CONSECUTIVE_DB_QUERIES&&(0,De.tZ)(Q.Z,{type:"beta",title:(0,o.t)("Consecutive DB Query Performance Issues are in active development and may change")}),s.issueType===D.EM.PERFORMANCE_RENDER_BLOCKING_ASSET&&(0,De.tZ)(Q.Z,{type:"alpha",title:(0,o.t)("Large Render Blocking Asset Performance Issues are in active development and may change")})]})});return(0,De.tZ)(ee.h4,{children:(0,De.BX)("div",{className:h,children:[(0,De.BX)(rt,{children:[(0,De.tZ)(q.Z,{crumbs:[{label:"Issues",to:`/organizations/${n.slug}/issues/${p.search}`},{label:v}]}),(0,De.tZ)(Ke,{group:s,project:l,disabled:m,event:a,query:p.query})]}),(0,De.BX)(nt,{children:[(0,De.BX)(at,{children:[(0,De.BX)(lt,{children:[(0,De.tZ)("h3",{children:(0,De.tZ)(pt,{hasGuideAnchor:!0,data:s})}),s.inbox&&(0,De.tZ)(K.Z,{inbox:s.inbox,fontSize:"md"})]}),(0,De.BX)(ct,{children:[s.level&&(0,De.tZ)(H.Z,{level:s.level,size:"11px"}),s.isUnhandled&&(0,De.tZ)(J.Z,{}),(0,De.tZ)(Y.Z,{message:g})]})]}),(0,De.BX)(dt,{children:[(0,De.BX)("div",{className:"count",children:[(0,De.tZ)("h6",{className:"nav-header",children:(0,o.t)("Events")}),(0,De.tZ)(te.Z,{disabled:m,to:c,children:(0,De.tZ)(L.Z,{className:"count",value:s.count})})]}),(0,De.BX)("div",{className:"count",children:[(0,De.tZ)("h6",{className:"nav-header",children:(0,o.t)("Users")}),0!==u?(0,De.tZ)(te.Z,{disabled:m,to:`${t}tags/user/${p.search}`,children:(0,De.tZ)(L.Z,{className:"count",value:u})}):(0,De.tZ)("span",{children:"0"})]})]})]}),(0,De.tZ)(nt,{className:"hidden-sm hidden-md hidden-lg",children:(0,De.tZ)(X.Z,{alignDropdown:"right"})}),(0,De.tZ)(et,{baseUrl:t,disabledTabs:d,eventRoute:c,group:s,project:l})]})})}et.displayName="GroupHeaderTabs",tt.displayName="GroupHeader";const st=tt,rt=(0,h.Z)("div",{target:"ez9r7o610"})("display:flex;flex-direction:row;justify-content:space-between;gap:",(0,_.D)(1),";align-items:center;"),it=(0,h.Z)("div",{target:"ez9r7o69"})("display:flex;gap:",(0,_.D)(1),";align-items:center;"),ot=(0,h.Z)(oe.Z,{target:"ez9r7o68"})("font-family:",(e=>e.theme.text.family),";font-size:",(e=>e.theme.fontSizeMedium),";line-height:1;"),nt=(0,h.Z)("div",{target:"ez9r7o67"})("display:flex;gap:",(0,_.D)(2),";justify-content:space-between;margin-top:",(0,_.D)(2),";@media (max-width: ",(e=>e.theme.breakpoints.small),"){flex-direction:column;}"),at=(0,h.Z)("div",{target:"ez9r7o66"})("@media (min-width: ",(e=>e.theme.breakpoints.small),"){max-width:65%;}"),lt=(0,h.Z)("div",{target:"ez9r7o65"})("display:flex;line-height:2;gap:",(0,_.D)(1),";"),pt=(0,h.Z)(V.Z,{target:"ez9r7o64"})({name:"870gjp",styles:"font-size:inherit"}),dt=(0,h.Z)("div",{target:"ez9r7o63"})("display:grid;grid-template-columns:repeat(2, min-content);gap:calc(",(0,_.D)(3)," + ",(0,_.D)(3),");@media (min-width: ",(e=>e.theme.breakpoints.small),"){justify-content:flex-end;}"),ct=(0,h.Z)(We.S,{target:"ez9r7o62"})("display:flex;gap:",(0,_.D)(1),";justify-content:flex-start;line-height:1.2;"),ut=(0,h.Z)(F.Z,{target:"ez9r7o61"})("display:flex;align-items:center;gap:",(0,_.D)(.5),";"),ht=(0,h.Z)(w.td,{target:"ez9r7o60"})("margin-top:",(0,_.D)(2),";");var gt=s("./app/components/pageAlertBar.tsx");function mt(e){let{organization:t,project:s}=e;return(0,De.BX)(gt.Z,{children:[(0,De.tZ)(ae.Db,{}),(0,De.tZ)(yt,{children:(0,o.t)("You are viewing a sample error. Configure Sentry to start viewing real errors.")}),(0,De.tZ)(be.zx,{size:"xs",priority:"primary",to:`/${t.slug}/${s.slug}/getting-started/${s.platform||""}`,onClick:()=>(0,R.Z)("growth.sample_error_onboarding_link_clicked",{project_id:s.id?.toString(),organization:t,platform:s.platform}),children:(0,o.t)("Get Started")})]})}mt.displayName="SampleEventAlert";const vt=mt,yt=(0,h.Z)("span",{target:"egvxlkr0"})("margin:0 ",(0,_.D)(1),";");class ft extends r.Component{constructor(){super(...arguments),(0,u.Z)(this,"state",this.initialState),(0,u.Z)(this,"refetchInterval",null),(0,u.Z)(this,"remountComponent",(()=>{this.setState(this.initialState),this.fetchData()})),(0,u.Z)(this,"refetchGroup",(async()=>{const{loadingGroup:e,loading:t,loadingEvent:s,group:r}=this.state;if(r?.status!==Xe.m7.REPROCESSING||e||t||s)return;const{api:i}=this.props;this.setState({loadingGroup:!0});try{const e=await i.requestPromise(this.groupDetailsEndpoint,{query:this.getGroupQuery()}),t=this.getReprocessingNewRoute(e);if(t)return void g.browserHistory.push(t);this.setState({group:e,loadingGroup:!1})}catch(e){this.handleRequestError(e)}})),(0,u.Z)(this,"listener",j.Z.listen((e=>this.onGroupChange(e)),void 0))}getChildContext(){return{group:this.state.group,location:this.props.location}}componentDidMount(){this.fetchData(this.canLoadEventEarly(this.props)),this.updateReprocessingProgress(),async function(e,t){f.Z.onFetchEnvironments();try{const s=await e.requestPromise(`/organizations/${t}/environments/`);if(!s)return void f.Z.onFetchEnvironmentsError(new Error("retrieved environments is falsey"));f.Z.onFetchEnvironmentsSuccess(s)}catch(e){f.Z.onFetchEnvironmentsError(e)}}(this.props.api,this.props.organization.slug)}componentDidUpdate(e,t){const s=e.isGlobalSelectionReady!==this.props.isGlobalSelectionReady;(s||e.location.pathname!==this.props.location.pathname)&&this.fetchData(s&&this.canLoadEventEarly(this.props)),(!this.canLoadEventEarly(e)&&!t?.group&&this.state.group||e.params?.eventId!==this.props.params?.eventId&&this.state.group)&&this.getEvent(this.state.group).then((()=>{if(!this.state.group?.project)return;const e=this.props.projects.find((e=>e.id===this.state.group?.project.id));e&&this.trackView(e)}))}componentWillUnmount(){j.Z.reset(),this.listener?.(),this.refetchInterval&&window.clearInterval(this.refetchInterval)}get initialState(){return{group:null,loading:!0,loadingEvent:!0,loadingGroup:!0,error:!1,eventError:!1,errorType:null,project:null}}trackView(e){const{group:t,event:s}=this.state,{location:r,organization:i,router:o}=this.props,{alert_date:n,alert_rule_id:a,alert_type:l,ref_fallback:p,stream_index:d,query:c}=r.query;this.props.setEventNames("issue_details.viewed","Issue Details: Viewed"),this.props.setRouteAnalyticsParams({...(0,T.Sq)(t),...(0,T.T7)(s),...(0,C.p)(e),stream_index:"string"==typeof d?Number(d):void 0,query:"string"==typeof c?c:void 0,alert_date:"string"==typeof n?(0,A.v5)(Number(n)):void 0,alert_rule_id:"string"==typeof a?a:void 0,alert_type:"string"==typeof l?l:void 0,has_setup_source_maps_alert:(0,b.I)(i,o.location.query.project,s),ref_fallback:p,stacktrace_link_viewed:!1,trace_status:"none"})}canLoadEventEarly(e){return!e.params.eventId||["oldest","latest"].includes(e.params.eventId)}get groupDetailsEndpoint(){return`/issues/${this.props.params.groupId}/`}get groupReleaseEndpoint(){return`/issues/${this.props.params.groupId}/first-last-release/`}async getEvent(e){e&&this.setState({loadingEvent:!0,eventError:!1});const{params:t,environments:s,api:r,organization:i}=this.props,o=i.slug,n=t.groupId,a=t.eventId??"latest",l=e?.project?.slug;try{const e=await(0,Xe.MN)(r,o,n,a,s,l);this.setState({event:e,loading:!1,eventError:!1,loadingEvent:!1})}catch(e){m.Tb(e),this.setState({eventError:!0,loading:!1,loadingEvent:!1})}}getCurrentTab(){const{router:e,routes:t}=this.props,s=t[t.length-1];return e.params.tagKey?Je.O.TAGS:Object.values(Je.O).find((e=>s.path===Je.h[e]))??Je.O.DETAILS}getCurrentRouteInfo(e){const{organization:t,params:s}=this.props,{event:r}=this.state,i=this.getCurrentTab();return{baseUrl:(0,U.D)(`/organizations/${t.slug}/issues/${e.id}/${s.eventId&&r?`events/${r.id}/`:""}`),currentTab:i}}updateReprocessingProgress(){this.hasReprocessingV2Feature()&&(this.refetchInterval&&window.clearInterval(this.refetchInterval),this.refetchInterval=window.setInterval(this.refetchGroup,3e4))}hasReprocessingV2Feature(){const{organization:e}=this.props;return e.features?.includes("reprocessing-v2")}getReprocessingNewRoute(e){const{routes:t,location:s,params:r}=this.props,{groupId:i}=r,{id:o}=e,n=this.hasReprocessingV2Feature(),a=(0,Xe.M3)(e),{currentTab:l,baseUrl:p}=this.getCurrentRouteInfo(e);if(i!==o)return n&&a===Xe.m7.REPROCESSED_AND_HASNT_EVENT&&l!==Je.O.ACTIVITY?{pathname:`${p}${Je.O.ACTIVITY}/`,query:{...r,groupId:o}}:(0,z.Z)("",{routes:t,location:s,params:{...r,groupId:o}});if(n){if(a===Xe.m7.REPROCESSING&&l!==Je.O.DETAILS)return{pathname:p,query:r};if(a===Xe.m7.REPROCESSED_AND_HASNT_EVENT&&l!==Je.O.ACTIVITY&&l!==Je.O.USER_FEEDBACK)return{pathname:`${p}${Je.O.ACTIVITY}/`,query:r}}}getGroupQuery(){const{environments:e}=this.props;return{...e?{environment:e}:{},expand:["inbox","owners"],collapse:"release"}}getFetchDataRequestErrorType(e){return e?404===e?B:403===e?$:null:null}handleRequestError(e){m.Tb(e);const t=this.getFetchDataRequestErrorType(e?.status);this.setState({loadingGroup:!1,loading:!1,error:!0,errorType:t})}async fetchGroupReleases(){const{api:e}=this.props,t=await e.requestPromise(this.groupReleaseEndpoint);j.Z.onPopulateReleases(this.props.params.groupId,t)}async fetchData(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const{api:t,isGlobalSelectionReady:s,organization:r,params:i}=this.props;if(s)try{const s=this.canLoadEventEarly(this.props)?this.getEvent():void 0,o=await t.requestPromise(this.groupDetailsEndpoint,{query:this.getGroupQuery()}),[n]=await Promise.all([o,s]),a=this.fetchGroupReleases(),l=this.getReprocessingNewRoute(n);if(l)return void g.browserHistory.push(l);const p=this.props.projects.find((e=>e.id===n.project.id));if(p){(0,Xe.V7)(t,r.slug,p.slug,i.groupId);const e={...this.props.location};void 0===e.query.project&&void 0===e.query._allp&&(e.query={...e.query,project:p.id}),delete e.query._allp,g.browserHistory.replace(e)}else m.$e((e=>{const t=this.props.projects.map((e=>e.id));e.setContext("missingProject",{projectId:n.project.id,availableProjects:t}),m.Tb(new Error("Project not found"))}));this.setState({project:p||n.project,loadingGroup:!1}),j.Z.loadInitialData([n]),e&&a.then((()=>p&&this.trackView(p)))}catch(e){this.handleRequestError(e)}}onGroupChange(e){const t=this.props.params.groupId;if(e.has(t)){const e=j.Z.get(t);if(e){if(e.stale)return void this.fetchData();this.setState({group:e})}}}getTitle(){const{organization:e}=this.props,{group:t}=this.state,s="Sentry";if(!t)return s;const{title:r}=(0,T.YQ)(t,e?.features),i=(0,T.FC)(t),{project:o}=t,n=`${e.slug} - ${o.slug}`;return r&&i?`${r}: ${i} - ${n}`:`${r||i||s} - ${n}`}tabClickAnalyticsEvent(e){const{organization:t}=this.props,{project:s,group:r,event:i}=this.state;if(!s||!r)return;if((0,R.Z)("issue_details.tab_changed",{organization:t,project_id:parseInt(s.id,10),tab:e,...(0,T.Sq)(r)}),r.issueCategory!==D.qE.ERROR)return;const o=i?i.tags.filter((e=>{let{key:t}=e;return["device","os","browser"].includes(t)})).reduce(((e,t)=>{let{key:s,value:r}=t;return e[s]=r,e}),{}):{};(0,R.Z)("issue_group_details.tab.clicked",{organization:t,tab:e,platform:s.platform,...o})}renderError(){const{projects:e,location:t}=this.props,s=t.query.project,r=e.find((e=>e.id===s));switch(this.state.errorType){case B:return(0,De.tZ)(Zt,{message:(0,o.t)("The issue you were looking for was not found.")});case $:return(0,De.tZ)(S.Z,{organization:this.props.organization,project:r});default:return(0,De.tZ)(Zt,{onRetry:this.remountComponent})}}renderContent(e,t){const{children:s,environments:i,organization:o,router:n}=this.props,{loadingEvent:a,eventError:l,event:p}=this.state,{currentTab:d,baseUrl:c}=this.getCurrentRouteInfo(t),u=(0,Xe.M3)(t);let h={environments:i,group:t,project:e};if(d===Je.O.DETAILS)if(t.id===p?.groupID||l)h={...h,event:p,loadingEvent:a,eventError:l,groupReprocessingStatus:u,onRetry:()=>this.remountComponent()};else{const e=`/organizations/${o.slug}/issues/${p?.groupID}/events/${p?.id}/`;n.push((0,U.D)(e))}return d===Je.O.TAGS&&(h={...h,event:p,baseUrl:c}),(0,De.BX)(w.mQ,{value:d,onChange:e=>this.tabClickAnalyticsEvent(e),children:[(0,De.tZ)(st,{organization:o,groupReprocessingStatus:u,event:p,group:t,baseUrl:c,project:e}),(0,De.tZ)(xt,{children:(0,De.tZ)(w.nP.Item,{children:(0,r.isValidElement)(s)?(0,r.cloneElement)(s,h):s},d)})]})}renderPageContent(){const{error:e,group:t,project:s,loading:r}=this.state;if(r||!t&&!e)return(0,De.tZ)(x.Z,{});if(e)return this.renderError();const{organization:i}=this.props;return(0,De.tZ)(C.Z,{orgId:i.slug,slugs:[s?.slug??""],"data-test-id":"group-projects-container",children:e=>{let{projects:r,initiallyLoaded:i,fetchError:n}=e;return i?n?(0,De.tZ)(Zt,{message:(0,o.t)("Error loading the specified project")}):this.renderContent((s?.slug?r.find((e=>{let{slug:t}=e;return t===s?.slug})):void 0)??r[0],t):(0,De.tZ)(x.Z,{})}})}render(){const{project:e,group:t}=this.state,{organization:s}=this.props,i=t?.tags?.some((e=>"sample_event"===e.key));return(0,De.BX)(r.Fragment,{children:[i&&e&&(0,De.tZ)(vt,{project:e,organization:s}),(0,De.tZ)(I.Z,{noSuffix:!0,title:this.getTitle(),children:(0,De.tZ)(E.Z,{skipLoadLastUsed:!0,forceProject:e,shouldForceProject:!0,children:this.renderPageContent()})})]})}}ft.displayName="GroupDetails",(0,u.Z)(ft,"childContextTypes",{group:k.Z.Group,location:y.object});const bt=(0,N.Z)((0,O.Z)(v.zH(ft))),Zt=(0,h.Z)(Z.Z,{target:"e218s1f1"})("margin:",(0,_.D)(2),";"),xt=(0,h.Z)(w.nP,{target:"e218s1f0"})({name:"1xwzzid",styles:"flex-grow:1;display:flex;flex-direction:column;justify-content:stretch"});function Et(e){let{selection:t,...s}=e;const c=(0,p.Z)(),{projects:u}=(0,d.Z)(),h=(0,l.Z)(),{params:g,location:m}=s,v=m.query.project,y=u.find((e=>e.id===v));return(0,r.useEffect)((()=>{y?.slug&&function(e){let{api:t,orgSlug:s,projSlug:r}=e;t.requestPromise(`/projects/${s}/${r}/`).then(n.Z.onUpdateSuccess).catch((e=>{const t=(0,o.t)("Unable to fetch project details");(0,a.Z)(t)(e),(0,i.Iw)(t)}))}({api:h,orgSlug:c.slug,projSlug:y.slug})}),[h,c.slug,y?.slug]),(0,De.tZ)(bt,{environments:t.environments,organization:c,projects:u,...s},`${g.groupId}-envs:${t.environments.join(",")}`)}Et.displayName="IssueDetailsContainer";const St=(0,c.Z)(Et)},"./app/views/issueDetails/openAIFixSuggestion/utils.ts":(e,t,s)=>{s.d(t,{v:()=>r});const r=(0,s("./app/locale.tsx").t)("This is an OpenAI generated solution that suggests a fix for this issue. Be aware that this may not be accurate.")},"./app/views/issueDetails/utils.tsx":(e,t,s)=>{s.d(t,{Ad:()=>g,M3:()=>v,MN:()=>l,V7:()=>p,dG:()=>c,g5:()=>d,m7:()=>m,sC:()=>h});var r=s("../node_modules/lodash/orderBy.js"),i=s.n(r),o=s("./app/actionCreators/group.tsx"),n=s("./app/api.tsx"),a=s("./app/locale.tsx");async function l(e,t,s,r,i,o){const n="latest"===r||"oldest"===r?`/issues/${s}/events/${r}/`:`/projects/${t}/${o}/events/${r}/?group_id=${s}`,a={};return 0!==i.length&&(a.environment=i),await e.requestPromise(n,{query:a})}function p(e,t,s,r){(0,o.Gv)(e,{orgId:t,projectId:s,itemIds:[r],failSilently:!0,data:{hasSeen:!0}},{})}function d(e,t){return(new n.KU).requestPromise(`/issues/${e}/user-reports/`,{includeAllArgs:!0,query:t})}function c(e){const t=e.tags.find((e=>{let{key:t}=e;return"environment"===t}));return t?t.value:null}const u={commented:(0,a.t)("You're receiving workflow notifications because you have commented on this issue."),assigned:(0,a.t)("You're receiving workflow notifications because you were assigned to this issue."),bookmarked:(0,a.t)("You're receiving workflow notifications because you have bookmarked this issue."),changed_status:(0,a.t)("You're receiving workflow notifications because you have changed the status of this issue."),mentioned:(0,a.t)("You're receiving workflow notifications because you have been mentioned in this issue.")};function h(e){if(e.subscriptionDetails&&e.subscriptionDetails.disabled)return(0,a.t)("You have disabled workflow notifications for this project.");if(!e.isSubscribed)return(0,a.t)("Subscribe to workflow notifications for this issue");if(e.subscriptionDetails){const{reason:t}=e.subscriptionDetails;if("unknown"===t)return(0,a.t)("You're receiving workflow notifications because you are subscribed to this issue.");if(t&&u.hasOwnProperty(t))return u[t]}return(0,a.t)("You're receiving updates because you are subscribed to workflow notifications for this project.")}function g(e){return i()([...e],(e=>{let{dateCreated:t}=e;return new Date(t)}),["desc"])[0]}let m;function v(e,t){const{status:s,count:r,activity:i}=e,o=Number(r);switch(s){case"reprocessing":return m.REPROCESSING;case"unresolved":{const e=t??g(i);return"reprocess"===e?.type?0===o?m.REPROCESSED_AND_HASNT_EVENT:m.REPROCESSED_AND_HAS_EVENT:m.NO_STATUS}default:return m.NO_STATUS}}!function(e){e.REPROCESSED_AND_HASNT_EVENT="reprocessed_and_hasnt_event",e.REPROCESSED_AND_HAS_EVENT="reprocessed_and_has_event",e.REPROCESSING="reprocessing",e.NO_STATUS="no_status"}(m||(m={}))}}]);
//# sourceMappingURL=../sourcemaps/app_views_issueDetails_index_tsx.de43425f7d4700736b35edcac1a67b60.js.map