"use strict";(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([["app_views_settings_project_projectKeys_details_index_tsx"],{"./app/views/asyncView.tsx":(e,t,s)=>{s.d(t,{Z:()=>n});var a=s("./app/components/asyncComponent.tsx"),r=s("./app/components/sentryDocumentTitle.tsx"),i=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");class n extends a.Z{getTitle(){return""}render(){return(0,i.tZ)(r.Z,{title:this.getTitle(),children:this.renderComponent()})}}n.displayName="AsyncView"},"./app/views/settings/project/permissionAlert.tsx":(e,t,s)=>{s.d(t,{Z:()=>p});var a=s("./app/components/acl/access.tsx"),r=s("./app/components/alert.tsx"),i=s("./app/locale.tsx"),n=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function o(e){let{access:t=["project:write"],...s}=e;return(0,n.tZ)(a.Z,{access:t,children:e=>{let{hasAccess:t}=e;return!t&&(0,n.tZ)(r.bZ,{"data-test-id":"project-permission-alert",type:"warning",...s,children:(0,i.t)("These settings can only be edited by users with the organization owner, manager, or admin role.")})}})}o.displayName="PermissionAlert";const p=o},"./app/views/settings/project/projectKeys/details/index.tsx":(e,t,s)=>{s.r(t),s.d(t,{default:()=>v});var a=s("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),r=(s("../node_modules/core-js/modules/es.array.push.js"),s("../node_modules/react-router/es/index.js")),i=s("./app/locale.tsx"),n=s("./app/utils/withDomainRequired.tsx"),o=s("./app/views/asyncView.tsx"),p=s("./app/views/settings/components/settingsPageHeader.tsx"),c=s("./app/views/settings/project/permissionAlert.tsx"),d=s("./app/views/settings/project/projectKeys/details/keySettings.tsx"),l=s("../node_modules/react/index.js"),m=s("./app/components/charts/miniBarChart.tsx"),h=s("./app/components/emptyMessage.tsx"),u=s("./app/components/loadingError.tsx"),g=s("./app/components/panels/index.tsx"),y=s("./app/components/placeholder.tsx"),x=s("./app/utils/theme.tsx"),Z=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");class j extends l.Component{constructor(){super(...arguments),(0,a.Z)(this,"state",(()=>{const e=Math.floor((new Date).getTime()/1e3);return{since:e-2592e3,until:e,loading:!0,error:!1,series:[],emptyStats:!1}})()),(0,a.Z)(this,"fetchData",(()=>{const{organization:e}=this.props,{keyId:t,projectId:s}=this.props.params;this.props.api.request(`/projects/${e.slug}/${s}/keys/${t}/stats/`,{query:{since:this.state.since,until:this.state.until,resolution:"1d"},success:e=>{let t=!0;const s=[],a=[];e.forEach((e=>{e.total&&(t=!1),s.push({name:1e3*e.ts,value:e.dropped}),a.push({name:1e3*e.ts,value:e.accepted})}));const r=[{seriesName:(0,i.t)("Accepted"),data:a},{seriesName:(0,i.t)("Rate Limited"),data:s}];this.setState({series:r,emptyStats:t,error:!1,loading:!1})},error:()=>{this.setState({error:!0,loading:!1})}})}))}componentDidMount(){this.fetchData()}render(){return this.state.error?(0,Z.tZ)(u.Z,{onRetry:this.fetchData}):(0,Z.BX)(g.s_,{children:[(0,Z.tZ)(g.V9,{children:(0,i.t)("Key usage in the last 30 days (by day)")}),(0,Z.tZ)(g.N,{withPadding:!0,children:this.state.loading?(0,Z.tZ)(y.Z,{height:"150px"}):this.state.emptyStats?(0,Z.tZ)(h.Z,{title:(0,i.t)("Nothing recorded in the last 30 days."),description:(0,i.t)("Total events captured using these credentials.")}):(0,Z.tZ)(m.Z,{isGroupedByDate:!0,series:this.state.series,height:150,colors:[x.ZP.gray200,x.ZP.red300],stacked:!0,labelYAxisExtents:!0})})]})}}j.displayName="KeyStats";const w=j;class v extends o.Z{constructor(){super(...arguments),(0,a.Z)(this,"handleRemove",(()=>{const{organization:e}=this.props,{projectId:t}=this.props.params;r.browserHistory.push((0,n.D)(`/settings/${e.slug}/projects/${t}/keys/`))}))}getTitle(){return(0,i.t)("Key Details")}getEndpoints(){const{organization:e}=this.props,{keyId:t,projectId:s}=this.props.params;return[["data",`/projects/${e.slug}/${s}/keys/${t}/`]]}renderBody(){const{organization:e,params:t}=this.props,{data:s}=this.state;return(0,Z.BX)("div",{"data-test-id":"key-details",children:[(0,Z.tZ)(p.Z,{title:(0,i.t)("Key Details")}),(0,Z.tZ)(c.Z,{}),(0,Z.tZ)(w,{api:this.api,organization:e,params:t}),(0,Z.tZ)(d.Jr,{data:s,onRemove:this.handleRemove,organization:e,params:t})]})}}}}]);
//# sourceMappingURL=../sourcemaps/app_views_settings_project_projectKeys_details_index_tsx.b4517a784db81c5fc0eddc4183c95000.js.map