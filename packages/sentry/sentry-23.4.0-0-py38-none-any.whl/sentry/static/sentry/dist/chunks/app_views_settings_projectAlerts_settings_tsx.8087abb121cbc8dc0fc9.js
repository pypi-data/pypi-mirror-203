"use strict";(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([["app_views_settings_projectAlerts_settings_tsx"],{"./app/components/pluginList.tsx":(e,t,s)=>{s.d(t,{Z:()=>j});var n=s("./app/actionCreators/plugins.tsx"),i=s("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),a=s("./app/components/panels/index.tsx"),o=s("./app/components/textOverflow.tsx"),l=s("./app/locale.tsx"),r=s("./app/plugins/components/pluginIcon.tsx"),p=s("./app/styles/space.tsx"),d=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function c(e){let{plugins:t,onEnablePlugin:s}=e;return 0===t.length?null:(0,d.BX)(a.s_,{children:[(0,d.tZ)(a.V9,{children:(0,l.t)("Inactive Integrations")}),(0,d.tZ)(a.N,{children:(0,d.tZ)(u,{children:t.map((e=>(0,d.tZ)(g,{onClick:()=>s(e),className:`ref-plugin-enable-${e.id}`,children:(0,d.BX)(m,{children:[(0,d.tZ)(h,{pluginId:e.id}),(0,d.tZ)(o.Z,{children:e.shortName||e.name})]})},e.id)))})})]})}c.displayName="InactivePlugins";const u=(0,i.Z)("div",{target:"e1mpcvbx3"})("display:flex;padding:",(0,p.D)(1),";flex:1;flex-wrap:wrap;"),g=(0,i.Z)("button",{target:"e1mpcvbx2"})("margin:",(0,p.D)(1),";width:175px;text-align:center;font-size:",(e=>e.theme.fontSizeSmall),";color:#889ab0;letter-spacing:0.1px;font-weight:600;text-transform:uppercase;border:1px solid #eee;background:inherit;border-radius:",(e=>e.theme.borderRadius),";padding:10px;&:hover{border-color:#ccc;}"),m=(0,i.Z)("div",{target:"e1mpcvbx1"})({name:"1wnowod",styles:"display:flex;align-items:center;justify-content:center"}),h=(0,i.Z)(r.ZP,{target:"e1mpcvbx0"})("margin-right:",(0,p.D)(1),";"),x=c;var b=s("./app/components/pluginConfig.tsx");function f(e){let{organization:t,project:s,pluginList:i,onDisablePlugin:o=(()=>{}),onEnablePlugin:r=(()=>{})}=e;const p=e=>{(0,n.rR)({projectId:s.slug,orgId:t.slug,pluginId:e.slug}),o(e)};return i.length?(0,d.BX)("div",{children:[i.filter((e=>e.enabled)).map((e=>(0,d.tZ)(b.Z,{data:e,organization:t,project:s,onDisablePlugin:p},e.id))),(0,d.tZ)(x,{plugins:i.filter((e=>!e.enabled&&!e.isHidden)),onEnablePlugin:e=>{(0,n.Cg)({projectId:s.slug,orgId:t.slug,pluginId:e.slug}),r(e)}})]}):(0,d.tZ)(a.s_,{children:(0,d.tZ)(a.Lv,{children:(0,l.t)("Oops! Looks like there aren't any available integrations installed.")})})}f.displayName="PluginList";const j=f},"./app/data/forms/projectAlerts.tsx":(e,t,s)=>{s.r(t),s.d(t,{fields:()=>o,route:()=>i});var n=s("./app/locale.tsx");const i="/settings/:orgId/projects/:projectId/alerts/",a=e=>(e=Number(e)/60,(0,n.tn)("%s minute","%s minutes",e)),o={subjectTemplate:{name:"subjectTemplate",type:"string",label:(0,n.t)("Subject Template"),placeholder:"e.g. $shortID - $title",help:(0,n.t)("The email subject to use (excluding the prefix) for individual alerts. Usable variables include: $title, $shortID, $projectID, $orgID, and ${tag:key}, such as ${tag:environment} or ${tag:release}.")},digestsMinDelay:{name:"digestsMinDelay",type:"range",min:60,max:3600,step:60,defaultValue:300,label:(0,n.t)("Minimum delivery interval"),help:(0,n.t)("Notifications will be delivered at most this often."),formatLabel:a},digestsMaxDelay:{name:"digestsMaxDelay",type:"range",min:60,max:3600,step:60,defaultValue:300,label:(0,n.t)("Maximum delivery interval"),help:(0,n.t)("Notifications will be delivered at least this often."),formatLabel:a}}},"./app/utils/routeTitle.tsx":(e,t,s)=>{s.d(t,{Z:()=>n});const n=function(e,t){let s=arguments.length>3?arguments[3]:void 0;const n=`${e} - ${t}`,i=s?`${n} - ${s}`:n;return arguments.length>2&&void 0!==arguments[2]&&!arguments[2]?i:`${i} - Sentry`}},"./app/views/asyncView.tsx":(e,t,s)=>{s.d(t,{Z:()=>o});var n=s("./app/components/asyncComponent.tsx"),i=s("./app/components/sentryDocumentTitle.tsx"),a=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");class o extends n.Z{getTitle(){return""}render(){return(0,a.tZ)(i.Z,{title:this.getTitle(),children:this.renderComponent()})}}o.displayName="AsyncView"},"./app/views/settings/project/permissionAlert.tsx":(e,t,s)=>{s.d(t,{Z:()=>r});var n=s("./app/components/acl/access.tsx"),i=s("./app/components/alert.tsx"),a=s("./app/locale.tsx"),o=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function l(e){let{access:t=["project:write"],...s}=e;return(0,o.tZ)(n.Z,{access:t,children:e=>{let{hasAccess:t}=e;return!t&&(0,o.tZ)(i.bZ,{"data-test-id":"project-permission-alert",type:"warning",...s,children:(0,a.t)("These settings can only be edited by users with the organization owner, manager, or admin role.")})}})}l.displayName="PermissionAlert";const r=l},"./app/views/settings/projectAlerts/settings.tsx":(e,t,s)=>{s.r(t),s.d(t,{default:()=>y});var n=s("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),i=s("../node_modules/react/index.js"),a=s("./app/components/alertLink.tsx"),o=s("./app/components/button.tsx"),l=s("./app/components/forms/form.tsx"),r=s("./app/components/forms/jsonForm.tsx"),p=s("./app/components/panels/index.tsx"),d=s("./app/components/pluginList.tsx"),c=s("./app/data/forms/projectAlerts.tsx"),u=s("./app/icons/index.tsx"),g=s("./app/locale.tsx"),m=s("./app/utils/routeTitle.tsx"),h=s("./app/views/asyncView.tsx"),x=s("./app/views/settings/components/settingsPageHeader.tsx"),b=s("./app/views/settings/project/permissionAlert.tsx"),f=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");class j extends h.Z{constructor(){super(...arguments),(0,n.Z)(this,"handleEnablePlugin",(e=>{this.setState((t=>({pluginList:(t.pluginList??[]).map((t=>t.id!==e.id?t:{...e,enabled:!0}))})))})),(0,n.Z)(this,"handleDisablePlugin",(e=>{this.setState((t=>({pluginList:(t.pluginList??[]).map((t=>t.id!==e.id?t:{...e,enabled:!1}))})))}))}getDefaultState(){return{...super.getDefaultState(),project:null,pluginList:[]}}getProjectEndpoint(){const{organization:e,params:t}=this.props;return`/projects/${e.slug}/${t.projectId}/`}getEndpoints(){const{organization:e,params:t}=this.props;return[["project",this.getProjectEndpoint()],["pluginList",`/projects/${e.slug}/${t.projectId}/plugins/`]]}getTitle(){const{projectId:e}=this.props.params;return(0,m.Z)((0,g.t)("Alerts Settings"),e,!1)}renderBody(){const{canEditRule:e,organization:t}=this.props,{project:s,pluginList:n}=this.state;if(!s)return null;const m=this.getProjectEndpoint();return(0,f.BX)(i.Fragment,{children:[(0,f.tZ)(x.Z,{title:(0,g.t)("Alerts Settings"),action:(0,f.tZ)(o.zx,{to:{pathname:`/organizations/${t.slug}/alerts/rules/`,query:{project:s.id}},size:"sm",children:(0,g.t)("View Alert Rules")})}),(0,f.tZ)(b.Z,{}),(0,f.tZ)(a.Z,{to:"/settings/account/notifications/",icon:(0,f.tZ)(u.h,{}),children:(0,g.t)("Looking to fine-tune your personal notification preferences? Visit your Account Settings")}),(0,f.BX)(l.Z,{saveOnBlur:!0,allowUndo:!0,initialData:{subjectTemplate:s.subjectTemplate,digestsMinDelay:s.digestsMinDelay,digestsMaxDelay:s.digestsMaxDelay},apiMethod:"PUT",apiEndpoint:m,children:[(0,f.tZ)(r.Z,{disabled:!e,title:(0,g.t)("Email Settings"),fields:[c.fields.subjectTemplate]}),(0,f.tZ)(r.Z,{title:(0,g.t)("Digests"),disabled:!e,fields:[c.fields.digestsMinDelay,c.fields.digestsMaxDelay],renderHeader:()=>(0,f.tZ)(p.aU,{type:"info",children:(0,g.t)("Sentry will automatically digest alerts sent by some services to avoid flooding your inbox with individual issue notifications. To control how frequently notifications are delivered, use the sliders below.")})})]}),e&&(0,f.tZ)(d.Z,{organization:t,project:s,pluginList:(n??[]).filter((e=>"notification"===e.type&&e.hasConfiguration)),onEnablePlugin:this.handleEnablePlugin,onDisablePlugin:this.handleDisablePlugin})]})}}const y=j}}]);
//# sourceMappingURL=../sourcemaps/app_views_settings_projectAlerts_settings_tsx.ddc0d29eae9951771d039991c99b2826.js.map