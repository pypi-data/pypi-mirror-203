"use strict";(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([["app_views_issueDetails_groupReplays_index_tsx"],{"./app/utils/useCleanQueryParamsOnRouteLeave.tsx":(e,t,s)=>{s.d(t,{Z:()=>n,j:()=>i});var o=s("../node_modules/react/index.js"),a=s("../node_modules/react-router/es/index.js"),r=s("./app/utils/useLocation.tsx");function i(e){let{fieldsToClean:t,newLocation:s,oldPathname:o}=e;const r=t.some((e=>void 0!==s.query[e]));if(s.pathname===o||!r)return;const i=t.reduce(((e,t)=>(e[t]=void 0,e)),{...s.query});a.browserHistory.replace({pathname:s.pathname,query:i})}const n=function(e){let{fieldsToClean:t}=e;const s=(0,r.T)(),n=(0,o.useCallback)((e=>{i({fieldsToClean:t,newLocation:e,oldPathname:s.pathname})}),[s.pathname,t]);(0,o.useEffect)((()=>a.browserHistory.listen(n)),[n])}},"./app/views/issueDetails/groupReplays/index.tsx":(e,t,s)=>{s.r(t),s.d(t,{default:()=>_});var o=s("./app/components/acl/feature.tsx"),a=s("./app/components/alert.tsx"),r=s("./app/components/layouts/thirds.tsx"),i=s("./app/locale.tsx"),n=s("./app/utils/useOrganization.tsx"),l=s("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),u=s("../node_modules/react/index.js"),p=s("./app/utils/replays/hooks/useReplayList.tsx"),c=s("./app/utils/useLocation.tsx"),d=s("../node_modules/@sentry/core/esm/exports.js"),y=s("./app/utils/discover/eventView.tsx"),m=s("./app/utils/queryString.tsx"),h=s("./app/utils/replays/fetchReplayList.tsx"),g=s("./app/utils/useApi.tsx"),x=s("./app/utils/useCleanQueryParamsOnRouteLeave.tsx"),v=s("./app/views/replays/types.tsx");var b=s("./app/views/replays/replayTable/index.tsx"),f=s("./app/views/replays/replayTable/types.tsx"),w=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");const Z=[f.M.replay,f.M.os,f.M.browser,f.M.duration,f.M.countErrors,f.M.activity];function j(e){let{group:t}=e;const s=(0,n.Z)(),o=(0,c.T)(),{eventView:a,fetchError:r,pageLinks:i}=function(e){let{group:t,location:s,organization:o}=e;const a=(0,g.Z)(),[r,i]=(0,u.useState)(),[n,l]=(0,u.useState)(),p=(0,u.useCallback)((async()=>{try{const e=await a.requestPromise(`/organizations/${o.slug}/replay-count/`,{query:{returnIds:!0,query:`issue.id:[${t.id}]`,statsPeriod:"14d",project:t.project.id}});i(e[t.id]||[])}catch(e){d.Tb(e),l(e)}}),[a,o.slug,t.id,t.project.id]),c=(0,u.useMemo)((()=>r?y.ZP.fromSavedQuery({id:"",name:"",version:2,fields:v.p,projects:[Number(t.project.id)],query:`id:[${String(r)}]`,range:"14d",orderby:(0,m.ro)(s.query.sort,h.y)}):null),[s.query.sort,t.project.id,r]);return(0,x.Z)({fieldsToClean:["cursor"]}),(0,u.useEffect)((()=>{p()}),[p]),{eventView:c,fetchError:n,pageLinks:null}}({group:t,location:o,organization:s});return a?(0,w.tZ)(C,{eventView:a,organization:s,pageLinks:i,visibleColumns:Z}):(0,w.tZ)(T,{withPadding:!0,children:(0,w.tZ)(b.Z,{fetchError:r,isFetching:!0,replays:[],sort:void 0,visibleColumns:Z})})}function C(e){let{eventView:t,organization:s,visibleColumns:o}=e;const a=(0,u.useMemo)((()=>({query:{}})),[]),{replays:r,isFetching:i,fetchError:n}=(0,p.Z)({eventView:t,location:a,organization:s});return(0,w.tZ)(T,{withPadding:!0,children:(0,w.tZ)(b.Z,{fetchError:n,isFetching:i,replays:r,sort:void 0,visibleColumns:o})})}j.displayName="GroupReplays",C.displayName="GroupReplaysTable";const T=(0,l.Z)(r.T3,{target:"e1ekyz00"})("box-shadow:0px 0px 1px ",(e=>e.theme.gray200),";background-color:",(e=>e.theme.background),";"),k=j;function q(){return(0,w.tZ)(r.T3,{withPadding:!0,children:(0,w.tZ)(a.bZ,{type:"warning",children:(0,i.t)("You don't have access to this feature")})})}function L(e){const t=(0,n.Z)();return(0,w.tZ)(o.Z,{features:["session-replay"],organization:t,renderDisabled:q,children:(0,w.tZ)(k,{...e})})}q.displayName="renderNoAccess",L.displayName="GroupReplaysContainer";const _=L}}]);
//# sourceMappingURL=../sourcemaps/app_views_issueDetails_groupReplays_index_tsx.1c329b29fe20a81377e5d9777eca526b.js.map