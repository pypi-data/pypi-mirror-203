"use strict";(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([["app_actionCreators_navigation_tsx-app_components_eventOrGroupHeader_tsx-app_components_pagina-1d6445"],{"./app/actionCreators/navigation.tsx":(e,t,n)=>{n.d(t,{T:()=>p}),n("../node_modules/core-js/modules/es.array.push.js");var s=n("./app/actionCreators/modal.tsx"),o=n("./app/components/contextPickerModal.tsx"),r=n("./app/stores/projectsStore.tsx"),i=n("./app/utils/replaceRouterParams.tsx"),a=n("./app/utils/withDomainRequired.tsx"),l=n("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function p(e,t,n){const p=e.includes(":orgId"),c=e.includes(":projectId")||e.includes(":project"),d=t?.location?.query?.project,u=!d||Array.isArray(d),g=r.Z.getById(d);p||c&&(u||!g)||n?(0,s.openModal)((s=>(0,l.tZ)(o.Z,{...s,nextPath:e,needOrg:p,needProject:c,configUrl:n,onFinish:e=>(s.closeModal(),window.setTimeout((()=>t.push((0,a.D)(e))),0))})),{}):(g&&(e=(0,i.Z)(e,{projectId:g.slug,project:g.id})),t.push((0,a.D)(e)))}},"./app/components/contextPickerModal.tsx":(e,t,n)=>{n.d(t,{Z:()=>w});var s=n("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),o=n("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),r=(n("../node_modules/core-js/modules/es.array.push.js"),n("../node_modules/react/index.js")),i=n("../node_modules/react-dom/profiling.js"),a=n("../node_modules/react-select/dist/index-4bd03571.esm.js"),l=n("./app/components/asyncComponent.tsx"),p=n("./app/components/forms/controls/selectControl.tsx"),c=n("./app/components/idBadge/index.tsx"),d=n("./app/components/links/link.tsx"),u=n("./app/components/loadingIndicator.tsx"),g=n("./app/locale.tsx"),m=n("./app/stores/configStore.tsx"),h=n("./app/stores/organizationsStore.tsx"),f=n("./app/stores/organizationStore.tsx"),v=n("./app/styles/space.tsx"),S=n("./app/utils/projects.tsx"),y=n("./app/utils/replaceRouterParams.tsx"),x=n("./app/views/settings/organizationIntegrations/integrationIcon.tsx"),Z=n("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");const j={menu:e=>({...e,position:"initial",boxShadow:"none",marginBottom:0}),option:(e,t)=>({...e,opacity:t.isDisabled?.6:1,cursor:t.isDisabled?"not-allowed":"pointer",pointerEvents:t.isDisabled?"none":"auto"})};class b extends r.Component{constructor(){var e;super(...arguments),e=this,(0,s.Z)(this,"onFinishTimeout",void 0),(0,s.Z)(this,"orgSelect",null),(0,s.Z)(this,"projectSelect",null),(0,s.Z)(this,"configSelect",null),(0,s.Z)(this,"navigateIfFinish",(function(t,n){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.props.organization;const{needProject:o,onFinish:r,nextPath:i,integrationConfigs:a}=e.props,{isSuperuser:l}=m.Z.get("user")||{};if(!o&&1!==t.length||o&&1!==n.length||a.length&&l)return;if(window.clearTimeout(e.onFinishTimeout),!o)return void(e.onFinishTimeout=r((0,y.Z)(i,{orgId:t[0].slug}))??void 0);let p=s;p||1!==t.length||(p=t[0].slug),e.onFinishTimeout=r((0,y.Z)(i,{orgId:p,projectId:n[0].slug,project:e.props.projects.find((e=>e.slug===n[0].slug))?.id}))??void 0})),(0,s.Z)(this,"doFocus",(e=>{if(!e||this.props.loading)return;const t=(0,i.findDOMNode)(e);if(null!==t){const e=t.querySelector("input");e&&e.focus()}})),(0,s.Z)(this,"handleSelectOrganization",(e=>{let{value:t}=e;this.props.needProject?this.props.onSelectOrganization(t):this.navigateIfFinish([{slug:t}],[])})),(0,s.Z)(this,"handleSelectProject",(e=>{let{value:t}=e;const{organization:n}=this.props;t&&n&&this.navigateIfFinish([{slug:n}],[{slug:t}])})),(0,s.Z)(this,"handleSelectConfiguration",(e=>{let{value:t}=e;const{onFinish:n,nextPath:s}=this.props;t&&n(`${s}${t}/`)})),(0,s.Z)(this,"getMemberProjects",(()=>{const{projects:e}=this.props,t=[],n=[];return e.forEach((e=>e.isMember?n.push(e):t.push(e))),[n,t]})),(0,s.Z)(this,"customOptionProject",(e=>{let{label:t,...n}=e;const s=this.props.projects.find((e=>{let{slug:t}=e;return n.value===t}));return s?(0,Z.tZ)(a.c.Option,{label:t,...n,children:(0,Z.tZ)(I,{project:s,avatarSize:20,displayName:t,avatarProps:{consistentWidth:!0},disableLink:!0})}):null}))}componentDidMount(){const{organization:e,projects:t,organizations:n}=this.props;1===n.length&&e&&this.navigateIfFinish([{slug:e}],t)}componentDidUpdate(e){JSON.stringify(e.projects)!==JSON.stringify(this.props.projects)&&this.navigateIfFinish(this.props.organizations,this.props.projects)}componentWillUnmount(){window.clearTimeout(this.onFinishTimeout)}get headerText(){const{needOrg:e,needProject:t,integrationConfigs:n}=this.props;return e&&t?(0,g.t)("Select an organization and a project to continue"):e?(0,g.t)("Select an organization to continue"):t?(0,g.t)("Select a project to continue"):n.length?(0,g.t)("Select a configuration to continue"):""}renderProjectSelectOrMessage(){const{organization:e,projects:t}=this.props,[n,s]=this.getMemberProjects(),{isSuperuser:o}=m.Z.get("user")||{},r=[{label:(0,g.t)("My Projects"),options:n.map((e=>({value:e.slug,label:e.slug,disabled:!1})))},{label:(0,g.t)("All Projects"),options:s.map((e=>({value:e.slug,label:e.slug,disabled:!o})))}];return t.length?(0,Z.tZ)(z,{ref:e=>{this.projectSelect=e,this.doFocus(this.projectSelect)},placeholder:(0,g.t)("Select a Project to continue"),name:"project",options:r,onChange:this.handleSelectProject,components:{Option:this.customOptionProject,DropdownIndicator:null},styles:j,menuIsOpen:!0}):(0,Z.tZ)("div",{children:(0,g._N)("You have no projects. Click [link] to make one.",{link:(0,Z.tZ)(d.Z,{to:`/organizations/${e}/projects/new/`,children:(0,g.t)("here")})})})}renderIntegrationConfigs(){const{integrationConfigs:e}=this.props,{isSuperuser:t}=m.Z.get("user")||{},n=[{label:(0,g._N)("[providerName] Configurations",{providerName:e[0].provider.name}),options:e.map((e=>({value:e.id,label:(0,Z.BX)(P,{children:[(0,Z.tZ)(x.Z,{size:22,integration:e}),(0,Z.tZ)("span",{children:e.domainName})]}),disabled:!t})))}];return(0,Z.tZ)(z,{ref:e=>{this.configSelect=e,this.doFocus(this.configSelect)},placeholder:(0,g.t)("Select a configuration to continue"),name:"configurations",options:n,onChange:this.handleSelectConfiguration,components:{DropdownIndicator:null},styles:j,menuIsOpen:!0})}render(){const{needOrg:e,needProject:t,organization:n,organizations:s,loading:o,Header:i,Body:a,integrationConfigs:l}=this.props,{isSuperuser:p}=m.Z.get("user")||{},c=n&&t&&!o,d=l.length>0&&p,u=s.filter((e=>{let{status:t}=e;return"pending_deletion"!==t.id})).map((e=>{let{slug:t}=e;return{label:t,value:t}}));return e||t||d?(0,Z.BX)(r.Fragment,{children:[(0,Z.tZ)(i,{closeButton:!0,children:this.headerText}),(0,Z.BX)(a,{children:[o&&(0,Z.tZ)(_,{overlay:!0}),e&&(0,Z.tZ)(z,{ref:e=>{this.orgSelect=e,c||this.doFocus(this.orgSelect)},placeholder:(0,g.t)("Select an Organization"),name:"organization",options:u,value:n,onChange:this.handleSelectOrganization,components:{DropdownIndicator:null},styles:j,menuIsOpen:!0}),c&&this.renderProjectSelectOrMessage(),d&&this.renderIntegrationConfigs()]})]}):null}}b.displayName="ContextPickerModal";class E extends l.Z{constructor(){super(...arguments),(0,s.Z)(this,"unlistener",h.Z.listen((e=>this.setState({organizations:e})),void 0)),(0,s.Z)(this,"handleSelectOrganization",(e=>{this.setState({selectedOrganization:e})}))}getDefaultState(){const e=f.Z.get();return{...super.getDefaultState(),organizations:h.Z.getAll(),selectedOrganization:e.organization?.slug}}getEndpoints(){const{configUrl:e}=this.props;return e?[["integrationConfigs",e]]:[]}componentWillUnmount(){this.unlistener?.()}renderModal(e){let{projects:t,initiallyLoaded:n,integrationConfigs:s}=e;return(0,Z.tZ)(b,{...this.props,projects:t||[],loading:!n,organizations:this.state.organizations,organization:this.state.selectedOrganization,onSelectOrganization:this.handleSelectOrganization,integrationConfigs:s||[]})}render(){const{projectSlugs:e,configUrl:t}=this.props;return t&&this.state.loading?(0,Z.tZ)(u.Z,{}):this.state.integrationConfigs?.length?this.renderModal({integrationConfigs:this.state.integrationConfigs,initiallyLoaded:!this.state.loading}):this.state.selectedOrganization?(0,Z.tZ)(S.Z,{orgId:this.state.selectedOrganization,allProjects:!e?.length,slugs:e,children:e=>{let{projects:t,initiallyLoaded:n}=e;return this.renderModal({projects:t,initiallyLoaded:n})}}):this.renderModal({})}}E.displayName="ContextPickerModalContainer";const w=E,z=(0,o.Z)(p.Z,{target:"e10w9lcp3"})("margin-top:",(0,v.D)(1),";"),I=(0,o.Z)(c.Z,{target:"e10w9lcp2"})("margin:",(0,v.D)(1),";"),_=(0,o.Z)(u.Z,{target:"e10w9lcp1"})({name:"1739oy8",styles:"z-index:1"}),P=(0,o.Z)("div",{target:"e10w9lcp0"})("display:grid;grid-template-columns:",(0,v.D)(4)," auto;grid-template-rows:1fr;")},"./app/components/eventOrGroupHeader.tsx":(e,t,n)=>{n.d(t,{Z:()=>k});var s=n("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),o=n("../node_modules/react/index.js"),r=n("../node_modules/lodash/capitalize.js"),i=n.n(r),a=n("./app/components/errorBoundary.tsx"),l=n("./app/components/eventOrGroupTitle.tsx"),p=n("./app/components/globalSelectionLink.tsx"),c=n("./app/components/tooltip.tsx"),d=n("./app/icons/index.tsx"),u=n("./app/locale.tsx"),g=n("./app/styles/space.tsx"),m=n("./app/utils/events.tsx"),h=n("./app/utils/useLocation.tsx"),f=n("./app/utils/withOrganization.tsx"),v=n("./app/views/issueDetails/unhandledTag.tsx"),S=n("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function y(){return(0,S.BX)(Z,{children:[(0,S.tZ)(j,{children:(0,u.t)("<unknown>")}),(0,S.tZ)(b,{children:(0,u.t)("There was an error rendering the title")})]})}y.displayName="EventTitleError";const x=y,Z=(0,s.Z)("span",{target:"e1rvqltq2"})({name:"5kov97",styles:"display:flex;flex-wrap:wrap"}),j=(0,s.Z)("span",{target:"e1rvqltq1"})("margin-right:",(0,g.D)(.5),";"),b=(0,s.Z)("span",{target:"e1rvqltq0"})("color:",(e=>e.theme.alert.error.iconColor),";background:",(e=>e.theme.alert.error.backgroundLight),";font-size:",(e=>e.theme.fontSizeMedium),";padding:0 ",(0,g.D)(.5),";border-radius:",(e=>e.theme.borderRadius),";display:flex;align-items:center;");function E(e){let{data:t,index:n,organization:s,query:r,onClick:l,className:p,hideIcons:g,hideLevel:f,includeLink:v=!0,size:y="normal",grouping:Z=!1,source:j}=e;const b=(0,h.T)(),E=!!s.features?.includes("grouping-tree-ui");function w(){const{level:e,status:r,isBookmarked:l,hasSeen:p}=t;return(0,S.BX)(o.Fragment,{children:[!f&&e&&(0,S.tZ)(c.u,{skipWrapper:!0,disabled:"unknown"===e,title:(0,u._N)("Error level: [level]",{level:i()(e)}),children:(0,S.tZ)(D,{level:e})}),!g&&"ignored"===r&&(0,S.tZ)(T,{children:(0,S.tZ)(d.i1,{color:"red400"})}),!g&&l&&(0,S.tZ)(T,{children:(0,S.tZ)(d.GK,{isSolid:!0,color:"yellow400"})}),(0,S.tZ)(a.Z,{customComponent:(0,S.tZ)(x,{}),mini:!0,children:(0,S.tZ)(L,{data:t,organization:s,hasSeen:!(!E||void 0!==p)||p,withStackTracePreview:!0,hasGuideAnchor:0===n,grouping:Z})})]})}const z=(0,m.k$)(t),_=(0,m.FC)(t);return(0,S.BX)("div",{className:p,"data-test-id":"event-issue-header",children:[(0,S.tZ)(I,{size:y,hasGroupingTreeUI:E,children:function(){const e=s.slug,{id:o,status:i}=t,{eventID:a,groupID:p}=t,c={"data-test-id":"resolved"===i?"resolved-issue":null,style:"resolved"===i?{textDecoration:"line-through"}:void 0};return v?(0,S.tZ)(R,{...c,to:{pathname:`/organizations/${e}/issues/${a?p:o}/${a?`events/${a}/`:""}`,query:{referrer:j||"event-or-group-header",stream_index:n,query:r,...void 0!==b.query.sort?{sort:b.query.sort}:{},...void 0!==b.query.project?{}:{_allp:1}}},onClick:l,children:w()}):(0,S.tZ)(O,{...c,children:w()})}()}),z&&(0,S.tZ)(P,{size:y,children:z}),_&&(0,S.tZ)(N,{size:y,children:_&&(0,S.tZ)(C,{children:_})})]})}E.displayName="EventOrGroupHeader";const w={name:"c9isw4",styles:"overflow:hidden;max-width:100%;text-overflow:ellipsis;white-space:nowrap"},z=e=>{let{size:t}=e;return"small"===t?"margin: 0;":"margin: 0 0 5px"},I=(0,s.Z)("div",{target:"e1c8ut038"})("line-height:1;margin-bottom:",(0,g.D)(.25),";& em{font-size:",(e=>e.theme.fontSizeMedium),";font-style:normal;font-weight:300;color:",(e=>e.theme.subText),";}"),_=(0,s.Z)("div",{target:"e1c8ut037"})(w,";",z,";direction:rtl;text-align:left;font-size:",(e=>e.theme.fontSizeMedium),";color:",(e=>e.theme.subText),";span{direction:ltr;}");function P(e){const{children:t,...n}=e;return(0,S.tZ)(_,{...n,children:(0,u._N)("in [location]",{location:(0,S.tZ)("span",{children:t})})})}P.displayName="Location";const N=(0,s.Z)(v.S,{target:"e1c8ut036"})(z,";line-height:1.2;"),C=(0,s.Z)("div",{target:"e1c8ut035"})(w,";font-size:",(e=>e.theme.fontSizeMedium),";"),T=(0,s.Z)("span",{target:"e1c8ut034"})({name:"1nwo1x0",styles:"position:relative;margin-right:5px"}),D=(0,s.Z)("div",{target:"e1c8ut033"})("position:absolute;left:-1px;width:9px;height:15px;border-radius:0 3px 3px 0;background-color:",(e=>e.theme.level[e.level]??e.theme.level.default),";"),R=(0,s.Z)(p.Z,{target:"e1c8ut032"})({name:"zjik7",styles:"display:flex"}),O=(0,s.Z)("span",{target:"e1c8ut031"})({name:"zjik7",styles:"display:flex"}),k=(0,f.Z)(E),L=(0,s.Z)(l.Z,{target:"e1c8ut030"})("font-weight:",(e=>e.hasSeen?400:600),";")},"./app/components/eventOrGroupTitle.tsx":(e,t,n)=>{n.d(t,{Z:()=>B});var s=n("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),o=n("../node_modules/react/index.js"),r=n("../node_modules/@emotion/react/dist/emotion-react.browser.esm.js"),i=n("./app/utils/events.tsx"),a=n("./app/utils/withOrganization.tsx"),l=n("./app/styles/space.tsx"),p=n("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function c(e){let{treeLabel:t}=e;const n=t.slice(0,4),s=t.slice(n.length);return(0,p.BX)(u,{children:[(0,p.tZ)(g,{children:n.map(((e,t)=>{const s=(0,i.K2)(e);return t!==n.length-1?(0,p.BX)(o.Fragment,{children:[(0,p.tZ)(h,{children:s}),(0,p.tZ)(v,{children:"|"})]},t):(0,p.tZ)(h,{children:s},t)}))}),!!s.length&&(0,p.tZ)(f,{children:s.map(((e,t)=>{const n=(0,i.K2)(e);return(0,p.BX)(o.Fragment,{children:[(0,p.tZ)(v,{children:"|"}),(0,p.tZ)(m,{children:n})]},t)}))})]})}c.displayName="EventTitleTreeLabel";const d=c,u=(0,s.Z)("div",{target:"e1o0zbyk5"})({name:"povk8l",styles:"display:inline-grid;grid-template-columns:auto 1fr;align-items:center"}),g=(0,s.Z)("div",{target:"e1o0zbyk4"})({name:"ww2cfn",styles:"display:inline-grid;grid-auto-flow:column;align-items:center"}),m=(0,s.Z)("div",{target:"e1o0zbyk3"})({name:"1r5gb7q",styles:"display:inline-block"}),h=(0,s.Z)(m,{target:"e1o0zbyk2"})((e=>e.theme.overflowEllipsis)," display:inline-block;"),f=(0,s.Z)("div",{target:"e1o0zbyk1"})((e=>e.theme.overflowEllipsis)," display:inline-block;min-width:50px;"),v=(0,s.Z)("div",{target:"e1o0zbyk0"})("color:",(e=>e.theme.gray200),";display:inline-block;padding:0 ",(0,l.D)(1),";");var S=n("./app/components/events/interfaces/keyValueList/index.tsx"),y=n("./app/components/groupPreviewTooltip/groupPreviewHovercard.tsx"),x=n("./app/components/groupPreviewTooltip/utils.tsx"),Z=n("./app/components/loadingIndicator.tsx"),j=n("./app/locale.tsx"),b=n("./app/utils/queryClient.tsx"),E=n("./app/utils/useOrganization.tsx");function w(e){let{endpointUrl:t,onRequestBegin:n,onRequestEnd:s,onUnmount:r}=e;const{data:i,isLoading:a,isError:l}=(0,b.WE)([t,{query:{referrer:"api.issues.preview-performance"}}],{staleTime:6e4});if((0,o.useEffect)((()=>(a?n():s(),r)),[a,n,s,r]),a)return(0,p.tZ)(I,{children:(0,p.tZ)(Z.Z,{hideMessage:!0,size:32})});if(l)return(0,p.tZ)(I,{children:(0,j.t)("Failed to load preview")});const c=i?.occurrence?.evidenceDisplay;return c?.length?(0,p.tZ)(_,{"data-test-id":"evidence-preview-body",children:(0,p.tZ)(S.Z,{data:c.map((e=>({key:e.name,subject:e.name,value:e.value}))),shouldSort:!1})}):(0,p.tZ)(I,{children:(0,j.t)("There is no evidence available for this issue.")})}function z(e){let{children:t,groupId:n,eventId:s,projectSlug:r}=e;const i=(e=>{let{orgSlug:t,eventId:n,groupId:s,projectSlug:o}=e;return n&&o?`/projects/${t}/${o}/events/${n}/`:s?`/issues/${s}/events/latest/`:null})({groupId:n,eventId:s,projectSlug:r,orgSlug:(0,E.Z)().slug}),{shouldShowLoadingState:a,onRequestBegin:l,onRequestEnd:c,reset:d}=(0,x.H)();return i?(0,p.tZ)(y.v,{hide:!a,body:(0,p.tZ)(w,{onRequestBegin:l,onRequestEnd:c,onUnmount:d,endpointUrl:i}),children:t}):(0,p.tZ)(o.Fragment,{children:t})}w.displayName="SpanEvidencePreviewBody",z.displayName="EvidencePreview";const I=(0,s.Z)("div",{target:"erjmuql1"})("color:",(e=>e.theme.subText),";padding:",(0,l.D)(1.5),";font-size:",(e=>e.theme.fontSizeMedium),";display:flex;align-items:center;justify-content:center;min-height:56px;"),_=(0,s.Z)("div",{target:"erjmuql0"})("width:700px;padding:",(0,l.D)(1.5)," ",(0,l.D)(1.5)," 0 ",(0,l.D)(1.5),";");var P=n("./app/stores/projectsStore.tsx"),N=n("./app/types/index.tsx"),C=n("./app/components/events/interfaces/performance/spanEvidenceKeyValueList.tsx");function T(e){let{endpointUrl:t,onRequestBegin:n,onRequestEnd:s,onUnmount:r,projectSlug:i}=e;const{data:a,isLoading:l,isError:c}=(0,b.WE)([t,{query:{referrer:"api.issues.preview-performance"}}],{staleTime:6e4});return(0,o.useEffect)((()=>(l?n():s(),r)),[l,n,s,r]),l?(0,p.tZ)(R,{children:(0,p.tZ)(Z.Z,{hideMessage:!0,size:32})}):c?(0,p.tZ)(R,{children:(0,j.t)("Failed to load preview")}):a?(0,p.tZ)(O,{"data-test-id":"span-evidence-preview-body",children:(0,p.tZ)(C.VD,{event:a,projectSlug:i})}):(0,p.tZ)(R,{children:(0,j.t)("There is no span evidence available for this issue.")})}function D(e){let{children:t,groupId:n,eventId:s,projectSlug:r}=e;const i=(e=>{let{orgSlug:t,eventId:n,groupId:s,projectSlug:o}=e;return n&&o?`/projects/${t}/${o}/events/${n}/`:s?`/issues/${s}/events/latest/`:null})({groupId:n,eventId:s,projectSlug:r,orgSlug:(0,E.Z)().slug}),{shouldShowLoadingState:a,onRequestBegin:l,onRequestEnd:c,reset:d}=(0,x.H)();return i?(0,p.tZ)(y.v,{hide:!a,body:(0,p.tZ)(T,{onRequestBegin:l,onRequestEnd:c,onUnmount:d,endpointUrl:i,projectSlug:r}),children:t}):(0,p.tZ)(o.Fragment,{children:t})}T.displayName="SpanEvidencePreviewBody",D.displayName="SpanEvidencePreview";const R=(0,s.Z)("div",{target:"e1r0qo9w1"})("color:",(e=>e.theme.subText),";padding:",(0,l.D)(1.5),";font-size:",(e=>e.theme.fontSizeMedium),";display:flex;align-items:center;justify-content:center;min-height:56px;"),O=(0,s.Z)("div",{target:"e1r0qo9w0"})("width:700px;padding:",(0,l.D)(1.5)," ",(0,l.D)(1.5)," 0 ",(0,l.D)(1.5),";");var k=n("./app/components/groupPreviewTooltip/stackTracePreview.tsx");const L=function(e){let{children:t,eventId:n,groupId:s,groupingCurrentLevel:o,issueCategory:r,projectId:i}=e;const a=n?P.Z.getById(i)?.slug:void 0;switch(r){case N.qE.ERROR:return(0,p.tZ)(k._$,{issueId:s,groupingCurrentLevel:o,eventId:n,projectSlug:a,children:t});case N.qE.PERFORMANCE:return(0,p.tZ)(D,{groupId:s,eventId:n,projectSlug:a,children:t});default:return(0,p.tZ)(z,{groupId:s,eventId:n,projectSlug:a,children:t})}};function M(e){let{organization:t,data:n,withStackTracePreview:s,grouping:r=!1,className:a}=e;const l=n,c=n.metadata?.current_level,u=n?.issueCategory,g=!!t?.features.includes("grouping-tree-ui"),{id:m,eventID:h,groupID:f,projectID:v}=l,{title:S,subtitle:y,treeLabel:x}=(0,i.YQ)(l,t?.features,r);return(0,p.BX)(U,{className:a,hasGroupingTreeUI:g,children:[s?(0,p.tZ)(L,{groupId:f||m,issueCategory:u,groupingCurrentLevel:c,eventId:h,projectId:v,children:x?(0,p.tZ)(d,{treeLabel:x}):S??""}):x?(0,p.tZ)(d,{treeLabel:x}):S,y&&(0,p.BX)(o.Fragment,{children:[(0,p.tZ)(q,{}),(0,p.tZ)(F,{title:y,children:y}),(0,p.tZ)("br",{})]})]})}M.displayName="EventOrGroupTitle";const B=(0,a.Z)(M);function q(){return(0,p.tZ)("span",{style:{display:"inline-block",width:10},children:" "})}q.displayName="Spacer";const F=(0,s.Z)("em",{target:"e1v8ok1u1"})("color:",(e=>e.theme.gray300),";font-style:normal;"),U=(0,s.Z)("span",{target:"e1v8ok1u0"})("font-size:",(e=>e.theme.fontSizeLarge),";",(e=>e.hasGroupingTreeUI&&(0,r.iv)("display:inline-grid;grid-template-columns:auto max-content 1fr max-content;align-items:baseline;",F,"{",e.theme.overflowEllipsis,";display:inline-block;height:100%;}","")),";")},"./app/components/events/interfaces/performance/spanEvidenceKeyValueList.tsx":(e,t,n)=>{n.d(t,{VD:()=>w});var s=n("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),o=(n("../node_modules/core-js/modules/es.array.push.js"),n("../node_modules/react/index.js")),r=n("../node_modules/lodash/kebabCase.js"),i=n.n(r),a=n("../node_modules/lodash/mapValues.js"),l=n.n(a),p=n("./app/components/button.tsx"),c=n("./app/components/clippedBox.tsx"),d=n("./app/components/events/interfaces/performance/utils.tsx"),u=n("./app/components/events/meta/annotatedText/index.tsx"),g=n("./app/components/links/link.tsx"),m=n("./app/components/performance/waterfall/utils.tsx"),h=n("./app/locale.tsx"),f=n("./app/types/index.tsx"),v=n("./app/utils.tsx"),S=n("./app/utils/discover/urls.tsx"),y=n("./app/utils/performance/urls.ts"),x=n("./app/utils/useOrganization.tsx"),Z=n("./app/views/performance/transactionSummary/utils.tsx"),j=n("./app/views/performance/utils.tsx"),b=n("./app/components/events/interfaces/keyValueList/index.tsx"),E=n("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function w(e){let{event:t,projectSlug:n}=e;const{slug:s}=(0,x.Z)(),o=(0,d.L)(t),r=t.perfProblem?.issueType??(0,f.o5)(t.occurrence?.type);if(!r||!o)return(0,E.tZ)(k,{event:t,offendingSpans:[],causeSpans:[],parentSpan:null,orgSlug:s,projectSlug:n});const i={[f.EM.PERFORMANCE_N_PLUS_ONE_DB_QUERIES]:P,[f.EM.PERFORMANCE_N_PLUS_ONE_API_CALLS]:N,[f.EM.PERFORMANCE_SLOW_DB_QUERY]:D,[f.EM.PERFORMANCE_CONSECUTIVE_DB_QUERIES]:z,[f.EM.PERFORMANCE_RENDER_BLOCKING_ASSET]:R,[f.EM.PERFORMANCE_UNCOMPRESSED_ASSET]:O,[f.EM.PERFORMANCE_CONSECUTIVE_HTTP]:I,[f.EM.PERFORMANCE_LARGE_HTTP_PAYLOAD]:_}[r]??k;return(0,E.tZ)(c.Z,{clipHeight:300,children:(0,E.tZ)(i,{event:t,orgSlug:s,projectSlug:n,...o})})}function z(e){let{event:t,causeSpans:n,offendingSpans:s,orgSlug:o,projectSlug:r}=e;return(0,E.tZ)(L,{data:[M(t,o,r),n?B((0,h.t)("Starting Span"),q(n[0])):null,B("Parallelizable Spans",s.map(q)),B((0,h.t)("Duration Impact"),$(t,F(n,s)))].filter(Boolean)})}function I(e){let{event:t,offendingSpans:n,orgSlug:s,projectSlug:o}=e;return(0,E.tZ)(L,{data:[M(t,s,o),B("Offending Spans",n.map((e=>e.description)))].filter(Boolean)})}function _(e){let{event:t,offendingSpans:n,orgSlug:s,projectSlug:o}=e;return(0,E.tZ)(L,{data:[M(t,s,o),B((0,h.t)("Large HTTP Payload Span"),q(n[0])),B((0,h.t)("Payload Size"),Q(n[0],"Encoded Body Size"))].filter(Boolean)})}function P(e){let{event:t,causeSpans:n,parentSpan:s,offendingSpans:o,orgSlug:r,projectSlug:i}=e;const a=o.filter((e=>(e.op||"").startsWith("db"))),l=a.filter((e=>o.find((t=>t.hash===e.hash))===e)).map(((e,t)=>B(0===t?(0,h.t)("Repeating Spans (%s)",a.length):"",q(e))));return(0,E.tZ)(L,{data:[M(t,r,i),s?B((0,h.t)("Parent Span"),q(s)):null,n.length>0?B((0,h.t)("Preceding Span"),q(n[0])):null,...l].filter(Boolean)})}function N(e){let{event:t,offendingSpans:n,orgSlug:s,projectSlug:r}=e;const i=t?.entries?.find(T),a=i?.data?.url,p=function(e,t){const n=function(e){const t={};return e.forEach((e=>{for(const[n,s]of e.searchParams)t[n]??=[],t[n].push(s)})),l()(t,(e=>Array.from(new Set(e))))}(e.map((e=>X(e,t))).filter((e=>e instanceof URL))),s=[];for(const e in n){const t=n[e];t.length>1&&s.push(`${e}:{${t.join(",")}}`)}return s}(n,a),c=function(e,t){const n=X(e,t);return n?.pathname??""}(n[0],a);return(0,E.tZ)(L,{data:[M(t,s,r),c?B((0,h.t)("Repeating Spans (%s)",n.length),(0,E.tZ)("pre",{className:"val-string",children:(0,E.tZ)(u.q,{value:(0,E.BX)(o.Fragment,{children:[c,(0,E.tZ)(C,{children:"[Parameters]"})]})})})):null,p.length>0?B((0,h.t)("Parameters"),p):null].filter(Boolean)})}w.displayName="SpanEvidenceKeyValueList",z.displayName="ConsecutiveDBQueriesSpanEvidence",I.displayName="ConsecutiveHTTPSpanEvidence",_.displayName="LargeHTTPPayloadSpanEvidence",P.displayName="NPlusOneDBQueriesSpanEvidence",N.displayName="NPlusOneAPICallsSpanEvidence";const C=(0,s.Z)("span",{target:"enrenm20"})("color:",(e=>e.theme.errorText),";"),T=e=>e.type===f.UZ.REQUEST;function D(e){let{event:t,offendingSpans:n,orgSlug:s,projectSlug:o}=e;return(0,E.tZ)(L,{data:[M(t,s,o),B((0,h.t)("Slow DB Query"),q(n[0])),B((0,h.t)("Duration Impact"),V(t,n[0]))]})}function R(e){let{event:t,offendingSpans:n,orgSlug:s,projectSlug:o}=e;const r=n[0];return(0,E.tZ)(L,{data:[M(t,s,o),B((0,h.t)("Slow Resource Span"),q(r)),B((0,h.t)("FCP Delay"),H(A(r),t.measurements?.fcp?.value??0)),B((0,h.t)("Duration Impact"),V(t,r))]})}function O(e){let{event:t,offendingSpans:n,orgSlug:s,projectSlug:o}=e;return(0,E.tZ)(L,{data:[M(t,s,o),B((0,h.t)("Slow Resource Span"),q(n[0])),B((0,h.t)("Asset Size"),Q(n[0],"Encoded Body Size")),B((0,h.t)("Duration Impact"),V(t,n[0]))]})}function k(e){let{event:t,offendingSpans:n,orgSlug:s,projectSlug:o}=e;return(0,E.tZ)(L,{data:[M(t,s,o),n.length>0?B((0,h.t)("Offending Span"),q(n[0])):null].filter(Boolean)})}function L(e){let{data:t}=e;return(0,E.tZ)(b.Z,{shouldSort:!1,data:t})}D.displayName="SlowDBQueryEvidence",R.displayName="RenderBlockingAssetSpanEvidence",O.displayName="UncompressedAssetSpanEvidence",k.displayName="DefaultSpanEvidence",L.displayName="PresortedKeyValueList";const M=(e,t,n)=>{const s=(0,Z.e1)({orgSlug:t,projectID:e.projectID,transaction:e.title,query:{}}),o=(0,S.JE)({id:e.eventID,project:n}),r=(0,y.D)(t,o),i=n?(0,E.tZ)(p.zx,{size:"xs",to:r,children:(0,h.t)("View Full Event")}):void 0;return B((0,h.t)("Transaction"),(0,E.tZ)("pre",{children:(0,E.tZ)(g.Z,{to:s,children:e.title})}),i)},B=(e,t,n)=>{const s=i()(e);return{key:s,subject:e,value:t,subjectDataTestId:`span-evidence-key-value-list.${s}`,isMultiValue:Array.isArray(t),actionButton:n}};function q(e){return e&&(e.op||e.description)?!e.op&&e.description?e.description:e.op&&!e.description?e.op:`${e.op} - ${e.description}`:(0,h.t)("(no value)")}const F=(e,t)=>{const n=U(e),s=Math.max(...t.map((e=>A(e)))),o=t.map((e=>e.span_id));let r=0;return e.forEach((e=>{o.includes(e.span_id)||(r+=A(e))})),n-Math.max(s,r)},U=e=>{let t=0;return e.forEach((e=>{t+=A(e)})),t},A=e=>{let{timestamp:t,start_timestamp:n}=e;return 1e3*((t??0)-(n??0))};function $(e,t){const n=1e3*(e.endTimestamp-e.startTimestamp);return n?function(e,t){const n=e/t;return`${(0,m.uL)(n)} (${(0,j.YL)(e)}/${(0,j.YL)(t)})`}(t,n):null}function H(e,t){const n=e/t;return`${(0,j.YL)(e)} (${(0,m.uL)(n)} of ${(0,j.YL)(t)})`}function V(e,t){return $(e,A(t))}function Q(e,t){const n=function(e,t){return e.data?.[t]}(e,t);return n?`${(0,v.F)(n)} (${n} B)`:null}const X=(e,t)=>{let n;if(n=e?.data?.url,n)try{let n=e?.data?.url??"";const s=e?.data?.["http.query"];return s&&(n+=`?${s}`),new URL(n,t)}catch(e){}const[s,o]=(e?.description??"").split(" ",2);n=o;try{return new URL(o,t)}catch(e){}return null}},"./app/components/events/interfaces/performance/utils.tsx":(e,t,n)=>{n.d(t,{L:()=>a,x:()=>l}),n("../node_modules/core-js/modules/es.error.cause.js"),n("../node_modules/core-js/modules/es.array.push.js");var s=n("../node_modules/@sentry/core/esm/exports.js"),o=n("../node_modules/lodash/keyBy.js"),r=n.n(o),i=n("./app/types/index.tsx");function a(e){const t=e.perfProblem??e?.occurrence?.evidenceData;if(!t)return e.issueCategory===i.qE.PERFORMANCE&&e.endTimestamp>166356e4&&s.Tb(new Error("Span Evidence missing for performance issue.")),null;const n=e.entries.find((e=>e.type===i.UZ.SPANS)),o=n?.data?[...n.data]:[];e?.contexts?.trace&&e?.contexts?.trace?.span_id&&o.push(e.contexts.trace);const a=r()(o,"span_id"),l=t?.parentSpanIds??[],p=t?.offenderSpanIds??[],c=t?.causeSpanIds??[];return{parentSpan:a[l[0]],offendingSpans:p.map((e=>a[e])),causeSpans:c.map((e=>a[e]))}}function l(e){const t=e.perfProblem??e?.occurrence?.evidenceData,n=e.perfProblem?.issueType??(0,i.o5)(e?.occurrence?.type),s=[],o=[],r=t?.offenderSpanIds??[];if(s.push(...r),n!==i.EM.PERFORMANCE_N_PLUS_ONE_API_CALLS){const e=t?.parentSpanIds??[];s.push(...e)}if(n===i.EM.PERFORMANCE_CONSECUTIVE_DB_QUERIES){const e=t?.causeSpanIds??[];e.length<11&&o.push(...e)}if(n===i.EM.PERFORMANCE_N_PLUS_ONE_DB_QUERIES){const e=t?.causeSpanIds??[];o.push(...e)}return{affectedSpanIds:s,focusedSpanIds:o}}},"./app/components/pagination.tsx":(e,t,n)=>{n.d(t,{Z:()=>v});var s=n("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),o=(n("../node_modules/core-js/modules/es.array.push.js"),n("../node_modules/react-router/es/index.js")),r=n("./app/components/button.tsx"),i=n("./app/components/buttonBar.tsx"),a=n("./app/icons/index.tsx"),l=n("./app/locale.tsx"),p=n("./app/styles/space.tsx"),c=n("./app/utils/parseLinkHeader.tsx"),d=n("./app/utils/useLocation.tsx"),u=n("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");const g=(e,t,n,s)=>o.browserHistory.push({pathname:t,query:{...n,cursor:e}});function m(e){let{to:t,className:n,onCursor:s=g,paginationAnalyticsEvent:o,pageLinks:p,size:m="sm",caption:v,disabled:S=!1}=e;const y=(0,d.T)();if(!p)return null;const x=t??y.pathname,Z=y.query,j=(0,c.Z)(p),b=S||!1===j.previous?.results,E=S||!1===j.next?.results;return(0,u.BX)(h,{className:n,"data-test-id":"pagination",children:[v&&(0,u.tZ)(f,{children:v}),(0,u.BX)(i.ZP,{merged:!0,children:[(0,u.tZ)(r.zx,{icon:(0,u.tZ)(a.g6,{direction:"left",size:"sm"}),"aria-label":(0,l.t)("Previous"),size:m,disabled:b,onClick:()=>{s?.(j.previous?.cursor,x,Z,-1),o?.("Previous")}}),(0,u.tZ)(r.zx,{icon:(0,u.tZ)(a.g6,{direction:"right",size:"sm"}),"aria-label":(0,l.t)("Next"),size:m,disabled:E,onClick:()=>{s?.(j.next?.cursor,x,Z,1),o?.("Next")}})]})]})}m.displayName="Pagination";const h=(0,s.Z)("div",{target:"e1yybcqw1"})("display:flex;align-items:center;justify-content:flex-end;margin:",(0,p.D)(3)," 0 0 0;"),f=(0,s.Z)("span",{target:"e1yybcqw0"})("color:",(e=>e.theme.subText),";font-size:",(e=>e.theme.fontSizeMedium),";margin-right:",(0,p.D)(2),";"),v=m},"./app/utils/replaceRouterParams.tsx":(e,t,n)=>{function s(e,t){const n=e.match(/:\w+/g);return n&&n.length?(n.forEach((n=>{const s=n.slice(1);void 0!==t[s]&&(e=e.replace(n,String(t[s])))})),e):e}n.d(t,{Z:()=>s})},"./app/utils/useParams.tsx":(e,t,n)=>{n.d(t,{U:()=>i});var s=n("../node_modules/react/index.js"),o=n("./app/constants/index.tsx"),r=n("./app/utils/useRouteContext.tsx");function i(){const e=(0,r.s)().params;return(0,s.useMemo)((()=>o.Yj&&o.QI&&void 0===e.orgId?{...e,orgId:o.QI}:e),[e])}},"./app/utils/withOrganizations.tsx":(e,t,n)=>{n.d(t,{Z:()=>l});var s=n("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),o=n("../node_modules/react/index.js"),r=n("./app/stores/organizationsStore.tsx"),i=n("./app/utils/getDisplayName.tsx"),a=n("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");const l=function(e){class t extends o.Component{constructor(){super(...arguments),(0,s.Z)(this,"state",{organizations:r.Z.getAll()}),(0,s.Z)(this,"unsubscribe",r.Z.listen((e=>this.setState({organizations:e})),void 0))}componentWillUnmount(){this.unsubscribe()}render(){const{organizationsLoading:t,organizations:n,...s}=this.props;return(0,a.tZ)(e,{organizationsLoading:t??!r.Z.loaded,organizations:n??this.state.organizations,...s})}}return t.displayName="WithOrganizations",(0,s.Z)(t,"displayName",`withOrganizations(${(0,i.Z)(e)})`),t}},"./app/views/issueDetails/unhandledTag.tsx":(e,t,n)=>{n.d(t,{S:()=>d,Z:()=>u});var s=n("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),o=n("./app/components/tag.tsx"),r=n("./app/components/tooltip.tsx"),i=n("./app/locale.tsx"),a=n("./app/styles/space.tsx"),l=n("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function p(){return(0,l.tZ)(c,{children:(0,l.tZ)(r.u,{title:(0,i.t)("An unhandled error was detected in this Issue."),children:(0,l.tZ)(o.Z,{type:"error",children:(0,i.t)("Unhandled")})})})}p.displayName="UnhandledTag";const c=(0,s.Z)("div",{target:"ey2rimh1"})("margin-right:",(0,a.D)(1),";"),d=(0,s.Z)("div",{target:"ey2rimh0"})({name:"s5xdrg",styles:"display:flex;align-items:center"}),u="app"==n.j?p:null},"./app/views/performance/transactionSummary/utils.tsx":(e,t,n)=>{n.d(t,{DC:()=>d,K0:()=>u,MF:()=>y,PU:()=>m,Z6:()=>f,e1:()=>h,nx:()=>S,uI:()=>x,vd:()=>v,xf:()=>g});var s=n("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),o=n("./app/styles/space.tsx");if("app"==n.j)var r=n("./app/utils/discover/urls.tsx");var i=n("./app/utils/getRouteStringFromRoutes.tsx"),a=n("./app/utils/performance/urls.ts");if("app"==n.j)var l=n("./app/utils/profiling/routes.tsx");var p=n("./app/utils/tokenizeSearch.tsx"),c=n("./app/views/performance/traceDetails/utils.tsx");let d,u;function g(e){const t=m(e);return t.removeFilter("transaction"),t}function m(e){const t=new p.MY(e);return t.removeFilter("event.type"),t}function h(e){let{orgSlug:t,transaction:n,projectID:s,query:o,unselectedSeries:r="p100()",display:i,trendFunction:a,trendColumn:l,showTransactions:p,additionalQuery:c,subPath:d}=e;const u=function(e){let{orgSlug:t,subPath:n}=e;return`/organizations/${t}/performance/summary/${n?`${n}/`:""}`}({orgSlug:t,subPath:d});let m;return m="string"==typeof o.query?g(o.query).formatString():o.query,{pathname:u,query:{transaction:n,project:s,environment:o.environment,statsPeriod:o.statsPeriod,start:o.start,end:o.end,query:m,unselectedSeries:r,showTransactions:p,display:i,trendFunction:a,trendColumn:l,referrer:"performance-transaction-summary",...c}}}function f(e){return(t,n,s)=>{const o=`${n.trace}`;return o?(0,c.YA)(t,o,e,{}):{}}}function v(e){return(t,n,s,o)=>{const i=(0,r.JE)(n);return(0,a.D)(t.slug,i,e,s,o)}}function S(){return(e,t,n)=>{const s=t["profile.id"];return s?(0,l.O$)({orgSlug:e.slug,projectSlug:String(t["project.name"]),profileId:String(s)}):{}}}function y(e){const t=(0,i.Z)(e);return(e,n,s)=>{const o=n.replayId;if(!o)return{};const r=`${n["project.name"]}:${o}`;if(!n.timestamp)return{pathname:`/organizations/${e.slug}/replays/${r}/`,query:{referrer:t}};const i=new Date(n.timestamp).getTime()-n["transaction.duration"];return{pathname:`/organizations/${e.slug}/replays/${r}/`,query:{event_t:i,referrer:t}}}}!function(e){e.DURATION_PERCENTILE="durationpercentile",e.DURATION="duration",e.LATENCY="latency",e.TREND="trend",e.VITALS="vitals",e.USER_MISERY="usermisery"}(d||(d={})),function(e){e.FASTEST="fastest",e.SLOW="slow",e.OUTLIER="outlier",e.RECENT="recent"}(u||(u={}));const x=(0,s.Z)("div",{target:"etoucxl0"})("margin-top:",(0,o.D)(3),";")},"./app/views/settings/organizationIntegrations/integrationIcon.tsx":(e,t,n)=>{n.d(t,{Z:()=>c});var s=n("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),o=n("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),r=n("../node_modules/react/index.js"),i=n("./app/plugins/components/pluginIcon.tsx"),a=n("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");const l=(0,o.Z)("img",{target:"eidhfci0"})("height:",(e=>e.size),"px;width:",(e=>e.size),"px;border-radius:2px;display:block;");class p extends r.Component{constructor(){super(...arguments),(0,s.Z)(this,"state",{imgSrc:this.props.integration.icon})}render(){const{integration:e,size:t}=this.props;return(0,a.tZ)(l,{size:t,src:this.state.imgSrc,onError:()=>{this.setState({imgSrc:i.kg[e.provider.key]||i.jp})}})}}p.displayName="Icon";const c=function(e){let{integration:t,size:n=32}=e;return t.icon?(0,a.tZ)(p,{size:n,integration:t}):(0,a.tZ)(i.ZP,{size:n,pluginId:t.provider.key})}}}]);
//# sourceMappingURL=../sourcemaps/app_actionCreators_navigation_tsx-app_components_eventOrGroupHeader_tsx-app_components_pagina-1d6445.ac6c8bd921e5f31ab6847424855b373e.js.map