"use strict";(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([["app_components_onboarding_documentationWrapper_tsx-app_components_onboarding_footer_tsx-app_v-7ba665"],{"./app/components/onboarding/documentationWrapper.tsx":(e,t,o)=>{o.d(t,{l:()=>a});var n=o("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),r=o("./app/components/alert.tsx"),s=o("./app/styles/space.tsx");const a=(0,n.Z)("div",{target:"e1wp2gu70"})("padding-bottom:calc(72px + ",(0,s.D)(2),");h2{font-size:1.375rem;}h3{font-size:1.25rem;}h1,h2,h3,h4,h5,h6,p,ul,ol,li{margin-top:0.5em;margin-bottom:0.5em;}blockquote,hr,pre,pre[class*='language-'],div[data-language]{margin-top:1em;margin-bottom:1em;}blockquote{padding:",(0,s.D)(1.5)," ",(0,s.D)(2),";",(e=>(0,r.ne)({theme:e.theme,type:"info"})),";}blockquote>*{margin:0;}.gatsby-highlight:last-child{margin-bottom:0;}hr{border-color:",(e=>e.theme.border),";}code{color:",(e=>e.theme.pink400),";}.alert{border-radius:",(e=>e.theme.borderRadius),";}.content-flush-bottom *:last-child{margin-bottom:0;}",(e=>Object.keys(e.theme.alert).map((t=>`\n        ${(e=>"muted"===e?null:`.alert[level="${e}"], .alert-${e}`)(t)} {\n          ${(0,r.ne)({theme:e.theme,type:t})};\n          display: block;\n        }\n      `))),";")},"./app/components/onboarding/footer.tsx":(e,t,o)=>{o.d(t,{$:()=>I});var n=o("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),r=(o("../node_modules/core-js/modules/es.array.push.js"),o("../node_modules/react/index.js")),s=o("../node_modules/@emotion/is-prop-valid/dist/is-prop-valid.browser.esm.js"),a=o("../node_modules/@emotion/react/dist/emotion-react.browser.esm.js"),i=o("./app/actionCreators/indicator.tsx"),d=o("./app/actionCreators/modal.tsx"),l=o("./app/components/button.tsx"),c=o("./app/components/onboarding/onboardingContext.tsx"),p=o("./app/icons/index.tsx"),u=o("./app/locale.tsx"),m=o("./app/stores/preferencesStore.tsx"),g=o("./app/stores/useLegacyStore.tsx"),h=o("./app/styles/space.tsx"),b=o("./app/types/index.tsx"),f=o("./app/utils/analytics/trackAdvancedAnalyticsEvent.tsx"),w=o("./app/utils/queryClient.tsx"),x=o("./app/utils/useOrganization.tsx"),y=o("./app/utils/useProjects.tsx"),v=o("./app/views/onboarding/components/genericFooter.tsx"),j=o("./app/views/onboarding/utils.tsx"),_=o("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");const Z=5e3;function I(e){let{projectSlug:t,projectId:n,router:s,newOrg:a}=e;const h=(0,x.Z)(),v=(0,g.X)(m.Z),[I,W]=(0,r.useState)(null),[$,T]=(0,r.useState)(void 0),[N,O]=(0,j.m)(),{projects:F}=(0,y.Z)(),M=(0,r.useContext)(c.e),G=n?M.data[n]:void 0,L=F.find((e=>e.slug===t));(0,w.WE)([`/projects/${h.slug}/${t}/`],{staleTime:0,refetchInterval:Z,enabled:!!t&&!I&&G?.status===b.uo.WAITING,onSuccess:e=>{W(e.firstEvent)}}),(0,w.WE)([`/projects/${h.slug}/${t}/issues/`],{staleTime:0,enabled:!!I&&!$&&G?.status===b.uo.PROCESSING,onSuccess:e=>{T(e.find((e=>e.firstSeen===I)))}}),(0,r.useEffect)((()=>{n&&!G&&M.setProjectData({projectId:n,projectSlug:t,status:b.uo.WAITING})}),[G,M,t,n]),(0,r.useEffect)((()=>{n&&I&&G?.status===b.uo.WAITING&&((0,f.Z)("onboarding.first_error_received",{organization:h,new_organization:!!a,project_id:n,platform:L?.platform??"other"}),M.setProjectData({projectId:n,projectSlug:t,status:b.uo.PROCESSING}),(0,i.S9)((0,u.t)("First error received")))}),[I,a,h,n,G,M,t,L]),(0,r.useEffect)((()=>{n&&$&&G?.status===b.uo.PROCESSING&&((0,f.Z)("onboarding.first_error_processed",{organization:h,new_organization:!!a,project_id:n,platform:L?.platform??"other"}),M.setProjectData({projectId:n,projectSlug:t,status:b.uo.PROCESSED,firstIssueId:$.id}),(0,i.S9)((0,u.t)("First error processed")))}),[$,a,h,G,n,M,t,L]);const B=(0,r.useCallback)((()=>{n&&M.data[n].status!==b.uo.WAITING&&((0,f.Z)("onboarding.explore_sentry_button_clicked",{organization:h,project_id:n,platform:L?.platform??"other"}),N&&O({...N,state:"finished"}),s.push({...s.location,pathname:`/organizations/${h.slug}/issues/?referrer=onboarding-first-event-footer`}))}),[h,n,M,N,s,O,L]),R=(0,r.useCallback)((()=>{if(!n)return;if(M.data[n].status!==b.uo.WAITING)return;(0,f.Z)("growth.onboarding_clicked_skip",{organization:h,source:"targeted_onboarding_first_event_footer"});const e=L?.id;let t=`/organizations/${h.slug}/issues/?`;e&&(t+=`project=${e}&`),async function(e){let{clientState:t,nextLocation:n,router:r,setClientState:s}=e;const a=await o.e("app_components_onboarding_changeRouteModal_tsx").then(o.bind(o,"./app/components/onboarding/changeRouteModal.tsx")),{ChangeRouteModal:i}=a;(0,d.openModal)((e=>(0,_.tZ)(i,{...e,router:r,nextLocation:n,clientState:t,setClientState:s})))}({router:s,nextLocation:{...s.location,pathname:t+="referrer=onboarding-first-event-footer-skip"},setClientState:O,clientState:N})}),[s,h,O,N,L,M,n]),q=(0,r.useCallback)((()=>{n&&((0,f.Z)("onboarding.view_error_button_clicked",{organization:h,new_organization:!!a,project_id:n,platform:L?.platform??"other"}),N&&O({...N,state:"finished"}),s.push({...s.location,pathname:`/organizations/${h.slug}/issues/${M.data[n].firstIssueId}/?referrer=onboarding-first-event-footer`}))}),[h,a,s,N,O,M,n,L]);return(0,_.BX)(S,{newOrg:!!a,sidebarCollapsed:!!v.collapsed,children:[(0,_.tZ)(C,{children:G?.status===b.uo.WAITING&&a&&(0,_.tZ)(l.zx,{onClick:R,priority:"link",children:(0,u.t)("Skip Onboarding")})}),(0,_.tZ)(k,{children:G?.status===b.uo.WAITING?(0,_.BX)(E,{children:[(0,_.tZ)(p.f4,{size:"sm"}),(0,u.t)("Waiting for error")]}):G?.status===b.uo.PROCESSED?(0,_.BX)(D,{children:[(0,_.tZ)(p.DL,{isCircled:!0,size:"sm",color:"green300"}),(0,u.t)("Error Processed!")]}):(0,_.BX)(P,{children:[(0,_.tZ)(A,{size:"sm"}),(0,u.t)("Processing error")]})}),(0,_.tZ)(z,{children:G?.status===b.uo.PROCESSED?(0,_.tZ)(l.zx,{priority:"primary",onClick:q,children:(0,u.t)("View Error")}):(0,_.tZ)(l.zx,{priority:"primary",disabled:G?.status===b.uo.WAITING,onClick:B,title:G?.status===b.uo.WAITING?(0,u.t)("Waiting for error"):void 0,children:(0,u.t)("Explore Sentry")})})]})}I.displayName="Footer";const S=(0,n.Z)(v.Z,{shouldForwardProp:e=>(0,s.Z)(e),target:"e1b7owcf7"})("display:none;display:flex;flex-direction:row;padding:",(0,h.D)(2)," ",(0,h.D)(4),";justify-content:space-between;align-items:center;@media (min-width: ",(e=>e.theme.breakpoints.small),"){display:grid;grid-template-columns:repeat(3, 1fr);align-items:center;gap:",(0,h.D)(3),";}",(e=>!e.newOrg&&(0,a.iv)("@media (min-width: ",e.theme.breakpoints.medium,"){width:calc(\n          100% -\n            ",e.theme.sidebar[e.sidebarCollapsed?"collapsedWidth":"expandedWidth"],"\n        );right:0;left:auto;}","")),";"),C=(0,n.Z)("div",{target:"e1b7owcf6"})({name:"zjik7",styles:"display:flex"}),k=(0,n.Z)("div",{target:"e1b7owcf5"})({name:"zl1inp",styles:"display:flex;justify-content:center"}),z=(0,n.Z)("div",{target:"e1b7owcf4"})("display:none;@media (min-width: ",(e=>e.theme.breakpoints.small),"){display:flex;justify-content:flex-end;}"),E=(0,n.Z)("div",{target:"e1b7owcf3"})("display:grid;grid-template-columns:max-content max-content;gap:",(0,h.D)(.75),";align-items:center;padding:",(0,h.D)(1)," ",(0,h.D)(1.5),";border:1.5px solid ",(e=>e.theme.gray500),";border-radius:76px;color:",(e=>e.theme.gray500),";line-height:",(e=>e.theme.fontSizeLarge),";"),P=(0,n.Z)(E,{target:"e1b7owcf2"})("border-color:",(e=>e.theme.gray200),";color:",(e=>e.theme.gray300),";position:relative;@keyframes rotate{100%{transform:rotate(360deg);}}"),D=(0,n.Z)(E,{target:"e1b7owcf1"})("border-radius:44px;background:",(e=>e.theme.inverted.background),";color:",(e=>e.theme.inverted.textColor),";"),A=(0,n.Z)(p.tr,{target:"e1b7owcf0"})({name:"1aqtjrs",styles:"animation:rotate 1s linear infinite"})},"./app/components/onboarding/onboardingContext.tsx":(e,t,o)=>{o.d(t,{e:()=>d,P:()=>l});var n=o("../node_modules/react/index.js");const r=(0,o("./app/utils/createStorage.tsx").Z)((()=>window.sessionStorage)),s="undefined"!=typeof window;function a(e,t){const o=sessionStorage.getItem(e);if(null===o||"undefined"===o)return t;try{return JSON.parse(o)}catch{return t}}var i=o("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");const d=(0,n.createContext)({setProjectData:()=>{},data:{}});function l(e){let{children:t}=e;const[o,l]=function(e,t){const[o,i]=(0,n.useState)((()=>a(e,t)));(0,n.useEffect)((()=>{i(a(e,t))}),[e]);const d=(0,n.useCallback)((t=>{i(t);try{r.setItem(e,JSON.stringify(t))}catch{}}),[e]),l=(0,n.useCallback)((()=>{i(t),r.removeItem(e)}),[e,t]);return s?[o,d,l]:[t,()=>{},()=>{}]}("onboarding",{}),c=(0,n.useCallback)((e=>{let{projectId:t,projectSlug:n,status:r,firstIssueId:s}=e;l({...o,[t]:{status:r,firstIssueId:s,slug:n}})}),[l,o]);return(0,i.tZ)(d.Provider,{value:{data:o,setProjectData:c},children:t})}l.displayName="OnboardingContextProvider"},"./app/views/onboarding/components/genericFooter.tsx":(e,t,o)=>{o.d(t,{Z:()=>i});var n=o("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),r=o("../node_modules/framer-motion/dist/es/render/dom/motion.mjs"),s=o("./app/utils/testableTransition.tsx");const a=(0,n.Z)(r.E.div,{target:"emehc210"})("width:100%;position:fixed;bottom:0;left:0;height:72px;z-index:100;display:flex;background-color:",(e=>e.theme.background),";justify-content:space-between;box-shadow:0px -4px 24px rgba(43, 34, 51, 0.08);");a.defaultProps={initial:"initial",animate:"animate",exit:"exit",variants:{animate:{}},transition:(0,s.Z)({staggerChildren:.2})};const i=a},"./app/views/onboarding/components/integrations/addInstallationInstructions.tsx":(e,t,o)=>{o.d(t,{Z:()=>i});var n=o("../node_modules/react/index.js"),r=o("./app/components/links/externalLink.tsx"),s=o("./app/locale.tsx"),a=o("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function i(){return(0,a.BX)(n.Fragment,{children:[(0,a.tZ)("p",{children:(0,s._N)("The automated AWS Lambda setup will instrument your Lambda functions with Sentry error and performance monitoring without any code changes. We use CloudFormation Stack ([learnMore]) to create the Sentry role which gives us access to your AWS account.",{learnMore:(0,a.tZ)(r.Z,{href:"https://aws.amazon.com/cloudformation/",children:(0,s.t)("Learn more about CloudFormation")})})}),(0,a.tZ)("p",{children:(0,s._N)("Just press the [addInstallation] button below and complete the steps in the popup that opens.",{addInstallation:(0,a.tZ)("strong",{children:(0,s.t)("Add Installation")})})}),(0,a.tZ)("p",{children:(0,s._N)("If you donâ€™t want to add CloudFormation stack to your AWS environment, press the [manualSetup] button instead.",{manualSetup:(0,a.tZ)("strong",{children:(0,s.t)("Manual Setup")})})})]})}i.displayName="AddInstallationInstructions"},"./app/views/onboarding/components/integrations/postInstallCodeSnippet.tsx":(e,t,o)=>{o.d(t,{Z:()=>i});var n=o("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),r=o("../node_modules/react/index.js"),s=o("./app/locale.tsx"),a=o("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function i(e){let{provider:t,platform:o,isOnboarding:n}=e;const i="python-awslambda"===o?"()":"();";return(0,a.BX)("div",{children:[(0,a.tZ)("p",{children:(0,s.t)("Congrats, you just installed the %s integration! Now that it's is installed, the next time you trigger an error it will go to your Sentry.",t.name)}),(0,a.tZ)("p",{children:(0,s.t)("This snippet includes an intentional error, so you can test that everything is working as soon as you set it up:")}),(0,a.tZ)("div",{children:(0,a.tZ)(d,{children:(0,a.BX)("code",{children:[(0,a.tZ)(l,{children:"myUndefinedFunction"}),(0,a.tZ)(c,{children:i}),")"]})})}),n&&(0,a.BX)(r.Fragment,{children:[(0,a.tZ)("p",{children:(0,s.t)("If you're new to Sentry, use the email alert to access your account and complete a product tour.")}),(0,a.tZ)("p",{children:(0,s.t)("If you're an existing user and have disabled alerts, you won't receive this email.")})]})]})}i.displayName="PostInstallCodeSnippet";const d=(0,n.Z)("pre",{target:"el04xqa2"})({name:"1cbwt16",styles:"padding:1em;overflow:auto;background:#251f3d;font-size:15px"}),l=(0,n.Z)("span",{target:"el04xqa1"})({name:"abvjt",styles:"color:#7cc5c4"}),c=(0,n.Z)("span",{target:"el04xqa0"})({name:"rybrai",styles:"color:#b3acc1"})},"./app/views/onboarding/createSampleEventButton.tsx":(e,t,o)=>{o.d(t,{Z:()=>f});var n=o("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),r=(o("../node_modules/core-js/modules/es.error.cause.js"),o("../node_modules/core-js/modules/es.array.push.js"),o("../node_modules/react/index.js")),s=o("../node_modules/react-router/es/index.js"),a=o("../node_modules/@sentry/core/esm/exports.js"),i=o("./app/actionCreators/indicator.tsx"),d=o("./app/components/button.tsx"),l=o("./app/locale.tsx"),c=o("./app/utils/analytics/trackAdvancedAnalyticsEvent.tsx"),p=o("./app/utils/withApi.tsx"),u=o("./app/utils/withDomainRequired.tsx"),m=o("./app/utils/withOrganization.tsx"),g=o("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");const h=1e3;class b extends r.Component{constructor(){super(...arguments),(0,n.Z)(this,"state",{creating:!1}),(0,n.Z)(this,"_isMounted",!0),(0,n.Z)(this,"createSampleGroup",(async()=>{const{api:e,organization:t,project:o,onCreateSampleGroup:n}=this.props;let r;if(!o)return;n?n():(0,c.Z)("growth.onboarding_view_sample_event",{platform:o.platform,organization:t}),(0,i.E3)((0,l.t)("Processing sample event..."),{duration:3e4}),this.setState({creating:!0});try{const n=`/projects/${t.slug}/${o.slug}/create-sample/`;r=await e.requestPromise(n,{method:"POST"})}catch(e){return a.$e((t=>{t.setExtra("error",e),a.Tb(new Error("Failed to create sample event"))})),this.setState({creating:!1}),(0,i.B8)(),void(0,i.Iw)((0,l.t)("Failed to create a new sample event"))}const d=performance.now(),{eventCreated:p,retries:m}=await async function(e,t){let o=0;for(;;){if(o>30)return{eventCreated:!1,retries:o-1};await new Promise((e=>window.setTimeout(e,h)));try{return await e.requestPromise(`/issues/${t}/events/latest/`),{eventCreated:!0,retries:o}}catch{++o}}}(e,r.groupID);if(!this._isMounted)return;const g=performance.now();(0,i.B8)(),this.setState({creating:!1});const b=Math.ceil(g-d);if(this.recordAnalytics({eventCreated:p,retries:m,duration:b}),!p)return(0,i.Iw)((0,l.t)("Failed to load sample event")),void a.$e((e=>{e.setTag("groupID",r.groupID),e.setTag("platform",o.platform||""),e.setTag("interval",h.toString()),e.setTag("retries",m.toString()),e.setTag("duration",b.toString()),e.setLevel("warning"),a.uT("Failed to load sample event")}));s.browserHistory.push((0,u.D)(`/organizations/${t.slug}/issues/${r.groupID}/?project=${o.id}&referrer=sample-error`))}))}componentDidMount(){const{organization:e,project:t,source:o}=this.props;t&&(0,c.Z)("sample_event.button_viewed",{organization:e,project_id:t.id,source:o})}componentWillUnmount(){this._isMounted=!1}recordAnalytics(e){let{eventCreated:t,retries:o,duration:n}=e;const{organization:r,project:s,source:a}=this.props;if(!s)return;const i="sample_event."+(t?"created":"failed");(0,c.Z)(i,{organization:r,project_id:s.id,platform:s.platform||"",interval:h,retries:o,duration:n,source:a})}render(){const{api:e,organization:t,project:o,source:n,...r}=this.props,{creating:s}=this.state;return(0,g.tZ)(d.zx,{...r,disabled:r.disabled||s,onClick:this.createSampleGroup})}}b.displayName="CreateSampleEventButton";const f=(0,p.Z)((0,m.Z)(b))},"./app/views/settings/organizationIntegrations/addIntegration.tsx":(e,t,o)=>{o.d(t,{Z:()=>c});var n=o("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),r=o("../node_modules/react/index.js"),s=o("../node_modules/query-string/index.js"),a=o("./app/actionCreators/indicator.tsx"),i=o("./app/constants/index.tsx"),d=o("./app/locale.tsx"),l=o("./app/utils/integrationUtil.tsx");class c extends r.Component{constructor(){super(...arguments),(0,n.Z)(this,"dialog",null),(0,n.Z)(this,"openDialog",(e=>{const{account:t,analyticsParams:o,modalParams:n,organization:r,provider:a}=this.props;(0,l.Db)("integrations.installation_start",{integration:a.key,integration_type:"first_party",organization:r,...o});const{url:i,width:d,height:c}=a.setupDialog,{left:p,top:u}=this.computeCenteredWindow(d,c);let m={...e};t&&(m.account=t),n&&(m={...m,...n});const g=`${i}?${s.stringify(m)}`,h=`scrollbars=yes,width=${d},height=${c},top=${u},left=${p}`;this.dialog=window.open(g,"sentryAddIntegration",h),this.dialog&&this.dialog.focus()})),(0,n.Z)(this,"didReceiveMessage",(e=>{const{analyticsParams:t,onInstall:o,organization:n,provider:r}=this.props;if(e.origin!==document.location.origin&&"production"===i.lC)return;if(e.source!==this.dialog)return;const{success:s,data:c}=e.data;this.dialog=null,s?c&&((0,l.Db)("integrations.installation_complete",{integration:r.key,integration_type:"first_party",organization:n,...t}),(0,a.S9)((0,d.t)("%s added",r.name)),o(c)):(0,a.Iw)(c.error)}))}componentDidMount(){window.addEventListener("message",this.didReceiveMessage)}componentWillUnmount(){window.removeEventListener("message",this.didReceiveMessage),this.dialog?.close()}computeCenteredWindow(e,t){const o=void 0!==window.screenLeft?window.screenLeft:window.screenX,n=void 0!==window.screenTop?window.screenTop:window.screenY;return{left:(window.innerWidth?window.innerWidth:document.documentElement.clientWidth?document.documentElement.clientWidth:screen.width)/2-e/2+o,top:(window.innerHeight?window.innerHeight:document.documentElement.clientHeight?document.documentElement.clientHeight:screen.height)/2-t/2+n}}render(){const{children:e}=this.props;return e(this.openDialog)}}c.displayName="AddIntegration"},"./app/views/settings/organizationIntegrations/addIntegrationButton.tsx":(e,t,o)=>{o.d(t,{w:()=>d});var n=o("./app/components/button.tsx"),r=o("./app/components/tooltip.tsx"),s=o("./app/locale.tsx"),a=o("./app/views/settings/organizationIntegrations/addIntegration.tsx"),i=o("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function d(e){let{provider:t,buttonText:o,onAddIntegration:d,organization:l,reinstall:c,analyticsParams:p,modalParams:u,...m}=e;const g=o??(c?(0,s.t)("Enable"):(0,s.t)("Add %s",t.metadata.noun));return(0,i.tZ)(r.u,{disabled:t.canAdd,title:`Integration cannot be added on Sentry. Enable this integration via the ${t.name} instance.`,children:(0,i.tZ)(a.Z,{provider:t,onInstall:d,organization:l,analyticsParams:p,modalParams:u,children:e=>(0,i.tZ)(n.zx,{disabled:!t.canAdd,...m,onClick:()=>e(),"aria-label":(0,s.t)("Add integration"),children:g})})})}d.displayName="AddIntegrationButton"}}]);
//# sourceMappingURL=../sourcemaps/app_components_onboarding_documentationWrapper_tsx-app_components_onboarding_footer_tsx-app_v-7ba665.a4425166cccf3aa8d7729d292c733722.js.map