"use strict";(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([["app_views_monitors_monitors_tsx-images_spot_onboarding-preview_svg"],{"./app/actionCreators/monitors.tsx":(e,t,n)=>{n.d(t,{M:()=>r,s:()=>a});var o=n("./app/actionCreators/indicator.tsx"),s=n("./app/locale.tsx"),i=n("../node_modules/@sentry/core/esm/exports.js");async function r(e,t,n){(0,o.E3)((0,s.t)("Deleting Monitor..."));try{await e.requestPromise(`/organizations/${t}/monitors/${n}/`,{method:"DELETE"}),(0,o.B8)()}catch{(0,o.Iw)((0,s.t)("Unable to remove monitor."))}}async function a(e,t,n,r){(0,o.E3)();try{const s=await e.requestPromise(`/organizations/${t}/monitors/${n}/`,{method:"PUT",data:r});return(0,o.B8)(),s}catch(e){a=e,i.$e((e=>{i.Tb(a)})),window.console&&console.error&&console.error(a),(0,o.Iw)((0,s.t)("Unable to update monitor."))}var a;return null}},"./app/components/diamondStatus.tsx":(e,t,n)=>{n.d(t,{V:()=>r});var o=n("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),s=n("./app/icons/index.tsx"),i=n("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function r(e){let{color:t,icon:n,...o}=e;return(0,i.BX)(l,{role:"presentation",color:t,...o,children:[(0,i.tZ)(a,{color:t}),(0,i.tZ)(n,{color:"white"})]})}r.displayName="DiamondStatus";const a=(0,o.Z)(s.Sq,{target:"ehwnb4y1"})({name:"bgbjt4",styles:"width:36px;height:36px"}),l=(0,o.Z)("div",{target:"ehwnb4y0"})({name:"1uzdu7j",styles:"width:36px;height:36px;position:relative;svg:last-child{width:16px;z-index:2;position:absolute;top:0;bottom:0;left:0;right:0;margin:auto;}"})},"./app/components/onboardingPanel.tsx":(e,t,n)=>{n.d(t,{Z:()=>d});var o=n("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),s=n("./app/components/panels/index.tsx"),i=n("./app/styles/space.tsx"),r=n("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function a(e){let{image:t,noCenter:n,children:o,...i}=e;return(0,r.tZ)(s.s_,{...i,children:(0,r.BX)(l,{children:[t?(0,r.tZ)(p,{children:t}):null,(0,r.tZ)(c,{centered:!t&&!n,children:o})]})})}a.displayName="OnboardingPanel";const l=(0,o.Z)("div",{target:"euclof22"})("padding:",(0,i.D)(3),";position:relative;@media (min-width: ",(e=>e.theme.breakpoints.small),"){display:flex;align-items:center;flex-direction:row;justify-content:center;flex-wrap:wrap;min-height:300px;max-width:1000px;margin:0 auto;}@media (min-width: ",(e=>e.theme.breakpoints.medium),"){min-height:350px;}"),c=(0,o.Z)("div",{target:"euclof21"})("min-width:0;z-index:1;",(e=>e.centered?"text-align: center;":"")," ",(e=>e.centered?"max-width: 600px;":""),"@media (min-width: ",(e=>e.theme.breakpoints.small),"){flex:2;}"),p=(0,o.Z)(c,{target:"euclof20"})("position:relative;min-height:100px;max-width:300px;min-width:150px;margin:",(0,i.D)(2)," auto;@media (min-width: ",(e=>e.theme.breakpoints.small),"){flex:1;margin:",(0,i.D)(3),";max-width:auto;}"),d=a},"./app/components/searchBar.tsx":(e,t,n)=>{n.d(t,{Z:()=>x,p:()=>g});var o=n("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),s=n("../node_modules/react/index.js"),i=n("./app/components/button.tsx"),r=n("./app/components/inputGroup.tsx"),a=n("./app/icons/index.tsx"),l=n("./app/icons/iconClose.tsx"),c=n("./app/locale.tsx"),p=n("./app/styles/space.tsx"),d=n("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function m(e){let{query:t,defaultQuery:n="",onChange:o,onSearch:i,width:p,size:m,className:x,trailing:y,...Z}=e;const w=(0,s.useRef)(null),[b,v]=(0,s.useState)(t??n);(0,s.useEffect)((()=>{"string"==typeof t&&v(t)}),[t]);const f=(0,s.useCallback)((e=>{const{value:t}=e.target;v(t),o?.(t)}),[o]),k=(0,s.useCallback)((e=>{e.preventDefault(),w.current?.blur(),i?.(b)}),[i,b]),C=(0,s.useCallback)((()=>{v(""),o?.(""),i?.("")}),[o,i]);return(0,d.tZ)(u,{onSubmit:k,className:x,children:(0,d.BX)(r.BZ,{children:[(0,d.tZ)(r.BZ.LeadingItems,{disablePointerEvents:!0,children:(0,d.tZ)(a.jV,{color:"subText",size:"xs"===m?"xs":"sm"})}),(0,d.tZ)(h,{...Z,ref:w,type:"text",name:"query",autoComplete:"off",value:b,onChange:f,width:p,size:m}),(0,d.BX)(r.BZ.TrailingItems,{children:[y,!!b&&(0,d.tZ)(g,{size:"zero",borderless:!0,onClick:C,icon:(0,d.tZ)(l.b,{size:"xs"}),"aria-label":(0,c.t)("Clear")})]})]})})}m.displayName="SearchBar";const u=(0,o.Z)("form",{target:"elu65nr2"})({name:"4bgdod",styles:"display:block;position:relative"}),h=(0,o.Z)(r.BZ.Input,{target:"elu65nr1"})((e=>e.width&&`width: ${e.width};`),";"),g=(0,o.Z)(i.zx,{target:"elu65nr0"})("color:",(e=>e.theme.subText),";padding:",(0,p.D)(.5),";"),x=m},"./app/views/asyncView.tsx":(e,t,n)=>{n.d(t,{Z:()=>r});var o=n("./app/components/asyncComponent.tsx"),s=n("./app/components/sentryDocumentTitle.tsx"),i=n("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");class r extends o.Z{getTitle(){return""}render(){return(0,i.tZ)(s.Z,{title:this.getTitle(),children:this.renderComponent()})}}r.displayName="AsyncView"},"./app/views/monitors/components/cronsFeedbackButton.tsx":(e,t,n)=>{n.d(t,{Z:()=>r});var o=n("./app/components/featureFeedback/index.tsx"),s=n("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function i(){return(0,s.tZ)(o.z,{featureName:"crons",buttonProps:{size:"sm"}})}i.displayName="CronsFeedbackButton";const r=i},"./app/views/monitors/monitors.tsx":(e,t,n)=>{n.r(t),n.d(t,{default:()=>ce});var o=n("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),s=n("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),i=(n("../node_modules/core-js/modules/es.array.push.js"),n("../node_modules/react/index.js")),r=n("../node_modules/query-string/index.js");const a=n.p+"assets/onboarding-preview.9ab72020d945116f13ae.svg";var l=n("./app/components/button.tsx"),c=n("./app/components/buttonBar.tsx"),p=n("./app/components/environmentPageFilter.tsx"),d=n("./app/components/featureBadge.tsx"),m=n("./app/components/layouts/thirds.tsx"),u=n("./app/components/onboardingPanel.tsx"),h=n("./app/components/organizations/pageFilterBar.tsx"),g=n("./app/components/organizations/pageFilters/parse.tsx"),x=n("./app/components/pageHeadingQuestionTooltip.tsx"),y=n("./app/components/pagination.tsx"),Z=n("./app/components/panels/index.tsx"),w=n("./app/components/projectPageFilter.tsx"),b=n("./app/components/searchBar.tsx"),v=n("./app/icons/index.tsx"),f=n("./app/locale.tsx"),k=n("./app/styles/space.tsx"),C=n("./app/utils/queryString.tsx"),j=n("./app/utils/routeAnalytics/withRouteAnalytics.tsx"),B=n("./app/utils/useOrganization.tsx"),S=n("./app/utils/usePageFilters.tsx"),_=n("./app/utils/withOrganization.tsx"),z=n("./app/utils/withSentryRouter.tsx"),E=n("./app/views/asyncView.tsx"),D=n("./app/views/monitors/components/cronsFeedbackButton.tsx"),I=n("./app/actionCreators/monitors.tsx"),N=n("./app/components/confirm.tsx"),T=n("./app/components/dropdownMenu/index.tsx"),q=n("./app/components/idBadge/index.tsx"),P=n("./app/components/links/link.tsx"),R=n("./app/components/list/index.tsx"),A=n("./app/components/list/listItem.tsx"),X=n("./app/components/text.tsx"),O=n("./app/components/textOverflow.tsx"),M=n("./app/components/timeSince.tsx"),$=n("./app/utils/useApi.tsx"),L=n("./app/utils/withDomainRequired.tsx"),F=n("./app/views/monitors/utils.tsx"),V=n("./app/views/monitors/types.tsx"),K=n("./app/components/diamondStatus.tsx"),U=n("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function H(e){let{status:t}=e;const{Icon:n,color:o}=W[t]??W.ok;return(0,U.tZ)(K.V,{icon:n,color:o})}H.displayName="MonitorBadge";const W={ok:{Icon:v.DL,color:"successText"},error:{Icon:v.zC,color:"errorText"},missed_checkin:{Icon:v.qV,color:"warningText"},active:{Icon:v._$,color:"subText"},disabled:{Icon:e=>(0,U.tZ)(v.ky,{...e,size:"xs"}),color:"subText"}};function G(e){if(e.schedule_type===V.Ix.CRONTAB)return(0,F.Z)(e.schedule)??(0,f.t)("Unknown schedule");const[t,n]=e.schedule;return"minute"===n?(0,f.tn)("Every minute","Every %s minutes",t):"hour"===n?(0,f.tn)("Every hour","Every %s hours",t):"day"===n?(0,f.tn)("Every day","Every %s days",t):"week"===n?(0,f.tn)("Every week","Every %s weeks",t):"month"===n?(0,f.tn)("Every month","Every %s months",t):(0,f.t)("Unknown schedule")}function Q(e){let{monitor:t,monitorEnv:n,organization:o,onDelete:s}=e;const r=(0,$.Z)(),a=n?.lastCheckIn?(0,U.tZ)(M.Z,{unitStyle:"regular",date:n.lastCheckIn}):null,l=(0,U.BX)(i.Fragment,{children:[(0,U.tZ)(X.Z,{children:(0,f._N)('Are you sure you want to permanently delete "[name]"?',{name:t.name})}),t.environments.length>1&&(0,U.BX)(oe,{children:[(0,U.tZ)(X.Z,{children:(0,f.t)("This will delete check-in data for this monitor associated with these environments:")}),(0,U.tZ)(R.Z,{symbol:"bullet",children:t.environments.map((e=>(0,U.tZ)(A.Z,{children:e.name},e.name)))})]})]}),c=[{key:"edit",label:(0,f.t)("Edit"),to:(0,L.D)({pathname:`/organizations/${o.slug}/crons/${t.slug}/edit/`,query:{environment:n?.name}})},{key:"delete",label:(0,f.t)("Delete"),priority:"danger",onAction:()=>{(0,N._)({onConfirm:async()=>{await(0,I.M)(r,o.slug,t.slug),s()},header:(0,f.t)("Delete Monitor?"),message:l,confirmText:(0,f.t)("Delete Monitor"),priority:"danger"})}}],p=`/organizations/${o.slug}/crons/${t.slug}/${n?`?environment=${n.name}`:""}`,d="disabled"!==t.status&&n?n.status:t.status;return(0,U.BX)(i.Fragment,{children:[(0,U.BX)(J,{children:[(0,U.tZ)(H,{status:d}),(0,U.BX)(Y,{children:[(0,U.tZ)(P.Z,{to:p,children:t.name}),(0,U.tZ)(ee,{children:t.slug})]})]}),(0,U.tZ)(te,{children:(0,U.tZ)(O.Z,{children:d===V.wo.DISABLED?(0,f.t)("Paused"):d!==V.wo.ACTIVE&&a?d===V.wo.OK?(0,f._N)("Check-in [lastCheckin]",{lastCheckin:a}):d===V.wo.MISSED_CHECKIN?(0,f._N)("Missed [lastCheckin]",{lastCheckin:a}):d===V.wo.ERROR?(0,f._N)("Failed [lastCheckin]",{lastCheckin:a}):null:(0,f.t)("Waiting for first check-in")})}),(0,U.tZ)(te,{children:G(t.config)}),(0,U.tZ)(te,{children:n?.nextCheckIn&&n.status!==V.wo.DISABLED&&n.status!==V.wo.ACTIVE?(0,U.tZ)(M.Z,{unitStyle:"regular",date:n.nextCheckIn}):"—"}),(0,U.tZ)(te,{children:(0,U.tZ)(q.Z,{project:t.project,avatarSize:18,avatarProps:{hasTooltip:!0,tooltip:t.project.slug}})}),(0,U.tZ)(te,{children:n?.name??"—"}),(0,U.tZ)(ne,{children:(0,U.tZ)(T.h,{items:c,position:"bottom-end",triggerProps:{"aria-label":(0,f.t)("Actions"),size:"xs",icon:(0,U.tZ)(v.YR,{size:"xs"}),showChevron:!1}})})]})}Q.displayName="MonitorRow";const J=(0,s.Z)("div",{target:"e137lq2l5"})("display:flex;align-items:center;gap:",(0,k.D)(2),";font-size:",(e=>e.theme.fontSizeLarge),";"),Y=(0,s.Z)("div",{target:"e137lq2l4"})("display:flex;flex-direction:column;gap:",(0,k.D)(.25),";"),ee=(0,s.Z)("div",{target:"e137lq2l3"})("font-size:",(e=>e.theme.fontSizeSmall),";color:",(e=>e.theme.subText),";"),te=(0,s.Z)("div",{target:"e137lq2l2"})({name:"s5xdrg",styles:"display:flex;align-items:center"}),ne=(0,s.Z)("div",{target:"e137lq2l1"})({name:"1wnowod",styles:"display:flex;align-items:center;justify-content:center"}),oe=(0,s.Z)("div",{target:"e137lq2l0"})("margin:",(0,k.D)(1)," 0;");function se(e){const t=(0,B.Z)(),{selection:n}=(0,S.Z)();return(0,U.tZ)(l.zx,{to:{pathname:`/organizations/${t.slug}/crons/create/`,query:{project:n.projects}},priority:"primary",...e,children:e.children})}se.displayName="NewMonitorButton";class ie extends E.Z{constructor(){super(...arguments),(0,o.Z)(this,"handleSearch",(e=>{const{location:t,router:n}=this.props;n.push({pathname:t.pathname,query:(0,g.fK)({...t.query||{},query:e})})}))}get orgSlug(){return this.props.organization.slug}getEndpoints(){const{location:e}=this.props;return[["monitorList",`/organizations/${this.orgSlug}/monitors/?includeNew`,{query:e.query}]]}getTitle(){return`Crons - ${this.orgSlug}`}onRequestSuccess(e){this.props.setEventNames("monitors.page_viewed","Monitors: Page Viewed"),this.props.setRouteAnalyticsParams({empty_state:0===e.data.length})}renderBody(){const{monitorList:e,monitorListPageLinks:t}=this.state,{organization:n}=this.props,o=(t,o)=>(0,U.tZ)(Q,{monitor:t,monitorEnv:o,onDelete:()=>{e&&this.setState({monitorList:e.filter((e=>e.slug!==t.slug))})},organization:n},t.slug);return(0,U.BX)(m.T3,{children:[(0,U.BX)(m.h4,{children:[(0,U.tZ)(m.oB,{children:(0,U.BX)(m.Dx,{children:[(0,f.t)("Cron Monitors"),(0,U.tZ)(x.u,{title:(0,f.t)("Scheduled monitors that check in on recurring jobs and tell you if they’re running on schedule, failing, or succeeding."),docsUrl:"https://docs.sentry.io/product/crons/"}),(0,U.tZ)(d.Z,{type:"beta"})]})}),(0,U.tZ)(m.kP,{children:(0,U.BX)(c.ZP,{gap:1,children:[(0,U.tZ)(D.Z,{}),(0,U.tZ)(se,{size:"sm",icon:(0,U.tZ)(v.N_,{isCircled:!0,size:"xs"}),children:(0,f.t)("Add Monitor")})]})})]}),(0,U.tZ)(m.uT,{children:(0,U.BX)(m.or,{fullWidth:!0,children:[(0,U.BX)(re,{children:[(0,U.BX)(h.Z,{children:[(0,U.tZ)(w.Z,{resetParamsOnChange:["cursor"]}),(0,U.tZ)(p.Z,{resetParamsOnChange:["cursor"]})]}),(0,U.tZ)(b.Z,{query:(0,C.ro)(r.parse(location.search)?.query,""),placeholder:(0,f.t)("Search by name"),onSearch:this.handleSearch})]}),e?.length?(0,U.BX)(i.Fragment,{children:[(0,U.tZ)(ae,{headers:[(0,f.t)("Monitor Name"),(0,f.t)("Status"),(0,f.t)("Schedule"),(0,f.t)("Next Checkin"),(0,f.t)("Project"),(0,f.t)("Environment"),(0,f.t)("Actions")],children:e?.map((e=>e.environments.length>0?e.environments.map((t=>o(e,t))):o(e))).flat()}),t&&(0,U.tZ)(y.Z,{pageLinks:t,...this.props})]}):(0,U.BX)(u.Z,{image:(0,U.tZ)("img",{src:a}),children:[(0,U.tZ)("h3",{children:(0,f.t)("Let Sentry monitor your recurring jobs")}),(0,U.tZ)("p",{children:(0,f.t)("We'll tell you if your recurring jobs are running on schedule, failing, or succeeding.")}),(0,U.BX)(le,{gap:1,children:[(0,U.tZ)(se,{children:(0,f.t)("Set up first cron monitor")}),(0,U.tZ)(l.zx,{href:"https://docs.sentry.io/product/crons",external:!0,children:(0,f.t)("Read docs")})]})]})]})})]})}}const re=(0,s.Z)("div",{target:"e1ytug0t2"})("display:grid;grid-template-columns:max-content 1fr;gap:",(0,k.D)(1.5),";margin-bottom:",(0,k.D)(2),";"),ae=(0,s.Z)(Z.KB,{target:"e1ytug0t1"})({name:"1dqlhcg",styles:"grid-template-columns:1fr max-content 1fr max-content max-content max-content max-content"}),le=(0,s.Z)(c.ZP,{target:"e1ytug0t0"})({name:"vpj881",styles:"grid-template-columns:repeat(auto-fit, minmax(130px, max-content))"}),ce=(0,j.Z)((0,z.Z)((0,_.Z)(ie)))},"./app/views/monitors/types.tsx":(e,t,n)=>{let o,s,i,r;n.d(t,{Ix:()=>s,NI:()=>r,wo:()=>i}),function(e){e.UNKNOWN="unknown",e.CRON_JOB="cron_job"}(o||(o={})),function(e){e.CRONTAB="crontab",e.INTERVAL="interval"}(s||(s={})),function(e){e.OK="ok",e.ERROR="error",e.DISABLED="disabled",e.ACTIVE="active",e.MISSED_CHECKIN="missed_checkin"}(i||(i={})),function(e){e.OK="ok",e.ERROR="error",e.IN_PROGRESS="in_progress",e.MISSED="missed"}(r||(r={}))},"./app/views/monitors/utils.tsx":(e,t,n)=>{n.d(t,{Z:()=>r});var o=n("../node_modules/cronstrue/dist/cronstrue.js"),s=n.n(o),i=n("./app/utils/dates.tsx");function r(e){if(!e)return null;let t;try{t=s().toString(e,{verbose:!0,use24HourTimeFormat:(0,i.gn)()})}catch(e){return null}return t}}}]);
//# sourceMappingURL=../sourcemaps/app_views_monitors_monitors_tsx-images_spot_onboarding-preview_svg.31dff4c76c6bedc49772089c68ed32fe.js.map