"use strict";(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([["app_views_settings_project_projectKeys_list_index_tsx"],{"./app/utils/routeTitle.tsx":(e,t,i)=>{i.d(t,{Z:()=>s});const s=function(e,t){let i=arguments.length>3?arguments[3]:void 0;const s=`${e} - ${t}`,n=i?`${s} - ${i}`:s;return arguments.length>2&&void 0!==arguments[2]&&!arguments[2]?n:`${n} - Sentry`}},"./app/views/asyncView.tsx":(e,t,i)=>{i.d(t,{Z:()=>r});var s=i("./app/components/asyncComponent.tsx"),n=i("./app/components/sentryDocumentTitle.tsx"),o=i("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");class r extends s.Z{getTitle(){return""}render(){return(0,o.tZ)(n.Z,{title:this.getTitle(),children:this.renderComponent()})}}r.displayName="AsyncView"},"./app/views/settings/project/projectKeys/list/index.tsx":(e,t,i)=>{i.r(t),i.d(t,{default:()=>I});var s=i("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),n=i("../node_modules/react/index.js"),o=i("./app/actionCreators/indicator.tsx"),r=i("./app/components/button.tsx"),a=i("./app/components/emptyMessage.tsx"),l=i("./app/components/links/externalLink.tsx"),c=i("./app/components/pagination.tsx"),d=i("./app/components/panels/index.tsx"),p=i("./app/icons/index.tsx"),h=i("./app/locale.tsx"),u=i("./app/utils/routeTitle.tsx"),y=i("./app/utils/withOrganization.tsx"),m=i("./app/views/asyncView.tsx"),Z=i("./app/views/settings/components/settingsPageHeader.tsx"),g=i("./app/views/settings/components/text/textBlock.tsx"),x=i("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),b=i("./app/components/clippedBox.tsx"),k=i("./app/components/confirm.tsx"),_=i("./app/components/links/link.tsx"),w=i("./app/styles/space.tsx"),S=i("./app/utils/recreateRoute.tsx"),f=i("./app/views/settings/project/projectKeys/projectKeyCredentials.tsx"),v=i("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function j(e){let{data:t,onRemove:i,onToggle:s,access:n,routes:o,location:a,params:l}=e;const c=(0,S.Z)(`${t.id}/`,{routes:o,params:l,location:a}),u=n.has("project:write");return(0,v.BX)(d.s_,{children:[(0,v.BX)(d.V9,{hasButtons:!0,children:[(0,v.BX)(T,{disabled:!t.isActive,children:[(0,v.tZ)(C,{to:c,children:t.label}),!t.isActive&&(0,v.BX)("small",{children:[" —  ",(0,h.t)("Disabled")]})]}),(0,v.BX)(z,{children:[(0,v.tZ)(r.zx,{to:c,size:"sm",children:(0,h.t)("Configure")}),(0,v.tZ)(k.Z,{onConfirm:t.isActive?()=>s(!1,t):()=>s(!0,t),confirmText:t.isActive?(0,h.t)("Disable Key"):(0,h.t)("Enable Key"),message:t.isActive?(0,h.t)("Are you sure you want to disable this key?"):(0,h.t)("Are you sure you want to enable this key?"),children:(0,v.tZ)(r.zx,{size:"sm",disabled:!u,children:t.isActive?(0,h.t)("Disable"):(0,h.t)("Enable")})}),(0,v.tZ)(k.Z,{priority:"danger",onConfirm:()=>i(t),confirmText:(0,h.t)("Remove Key"),message:(0,h.t)("Are you sure you want to remove this key? This action is irreversible."),children:(0,v.tZ)(r.zx,{size:"sm",disabled:!u,icon:(0,v.tZ)(p.Fz,{}),"aria-label":(0,h.t)("Delete")})})]})]}),(0,v.tZ)(E,{clipHeight:300,defaultClipped:!0,btnText:(0,h.t)("Expand"),children:(0,v.tZ)(K,{disabled:!t.isActive,children:(0,v.tZ)(f.Z,{projectId:`${t.projectId}`,data:t})})})]})}j.displayName="KeyRow";const D=j,E=(0,x.Z)(b.Z,{target:"e1agrjzb4"})("padding:0;margin:0;>*:last-child{padding-bottom:",(0,w.D)(3),";}"),C=(0,x.Z)(_.Z,{target:"e1agrjzb3"})("color:",(e=>e.theme.subText),";"),T=(0,x.Z)("div",{target:"e1agrjzb2"})("flex:1;",(e=>e.disabled?"opacity: 0.5;":""),";margin-right:",(0,w.D)(1),";"),z=(0,x.Z)("div",{target:"e1agrjzb1"})("display:grid;align-items:center;gap:",(0,w.D)(1),";grid-auto-flow:column;"),K=(0,x.Z)(d.N,{target:"e1agrjzb0"})((e=>e.disabled?"opacity: 0.5;":""),";");class N extends m.Z{constructor(){super(...arguments),(0,s.Z)(this,"handleRemoveKey",(async e=>{const t=[...this.state.keyList];(0,o.E3)((0,h.t)("Revoking key…")),this.setState((t=>({keyList:t.keyList.filter((t=>t.id!==e.id))})));const{organization:i}=this.props,{projectId:s}=this.props.params;try{await this.api.requestPromise(`/projects/${i.slug}/${s}/keys/${e.id}/`,{method:"DELETE"}),(0,o.S9)((0,h.t)("Revoked key"))}catch(e){this.setState({keyList:t}),(0,o.Iw)((0,h.t)("Unable to revoke key"))}})),(0,s.Z)(this,"handleToggleKey",(async(e,t)=>{const i=[...this.state.keyList];(0,o.E3)((0,h.t)("Saving changes…")),this.setState((e=>({keyList:e.keyList.map((e=>e.id===t.id?{...e,isActive:!t.isActive}:e))})));const{organization:s}=this.props,{projectId:n}=this.props.params;try{await this.api.requestPromise(`/projects/${s.slug}/${n}/keys/${t.id}/`,{method:"PUT",data:{isActive:e}}),(0,o.S9)(e?(0,h.t)("Enabled key"):(0,h.t)("Disabled key"))}catch(t){(0,o.Iw)(e?(0,h.t)("Error enabling key"):(0,h.t)("Error disabling key")),this.setState({keyList:i})}})),(0,s.Z)(this,"handleCreateKey",(async()=>{const{organization:e}=this.props,{projectId:t}=this.props.params;try{const i=await this.api.requestPromise(`/projects/${e.slug}/${t}/keys/`,{method:"POST"});this.setState((e=>({keyList:[...e.keyList,i]}))),(0,o.S9)((0,h.t)("Created a new key."))}catch(e){(0,o.Iw)((0,h.t)("Unable to create new key. Please try again."))}}))}getTitle(){const{projectId:e}=this.props.params;return(0,u.Z)((0,h.t)("Client Keys"),e,!1)}getEndpoints(){const{organization:e}=this.props,{projectId:t}=this.props.params;return[["keyList",`/projects/${e.slug}/${t}/keys/`]]}renderEmpty(){return(0,v.tZ)(d.s_,{children:(0,v.tZ)(a.Z,{icon:(0,v.tZ)(p.Gy,{size:"xl"}),description:(0,h.t)("There are no keys active for this project.")})})}renderResults(){const{location:e,organization:t,routes:i,params:s}=this.props,{projectId:o}=s,r=new Set(t.access);return(0,v.BX)(n.Fragment,{children:[this.state.keyList.map((n=>(0,v.tZ)(D,{access:r,orgId:t.slug,projectId:`${o}`,data:n,onToggle:this.handleToggleKey,onRemove:this.handleRemoveKey,routes:i,location:e,params:s},n.id))),(0,v.tZ)(c.Z,{pageLinks:this.state.keyListPageLinks})]})}renderBody(){const e=!this.state.keyList.length;return(0,v.BX)("div",{"data-test-id":"project-keys",children:[(0,v.tZ)(Z.Z,{title:(0,h.t)("Client Keys"),action:this.props.organization.access.includes("project:write")?(0,v.tZ)(r.zx,{onClick:this.handleCreateKey,size:"sm",priority:"primary",icon:(0,v.tZ)(p.N_,{size:"xs",isCircled:!0}),children:(0,h.t)("Generate New Key")}):null}),(0,v.tZ)(g.Z,{children:(0,h._N)("To send data to Sentry you will need to configure an SDK with a client key\n          (usually referred to as the [code:SENTRY_DSN] value). For more\n          information on integrating Sentry with your application take a look at our\n          [link:documentation].",{link:(0,v.tZ)(l.Z,{href:"https://docs.sentry.io/platform-redirect/?next=/configuration/options/"}),code:(0,v.tZ)("code",{})})}),e?this.renderEmpty():this.renderResults()]})}}const I=(0,y.Z)(N)},"./app/views/settings/project/projectKeys/projectKeyCredentials.tsx":(e,t,i)=>{i.d(t,{Z:()=>m});var s=i("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),n=i("../node_modules/react/index.js"),o=i("./app/components/forms/fieldGroup/index.tsx"),r=i("./app/components/links/externalLink.tsx"),a=i("./app/components/links/link.tsx"),l=i("./app/components/textCopyInput.tsx"),c=i("./app/locale.tsx"),d=i("./app/styles/space.tsx"),p=i("./app/utils/getDynamicText.tsx"),h=i("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function u(e){let{data:t,projectId:i,showDsn:s=!0,showDsnPublic:d=!0,showMinidump:u=!0,showProjectId:m=!1,showPublicKey:Z=!1,showSecretKey:g=!1,showSecurityEndpoint:x=!0,showUnreal:b=!0}=e;const[k,_]=(0,n.useState)(!1);return(0,h.BX)(n.Fragment,{children:[d&&(0,h.BX)(o.Z,{label:(0,c.t)("DSN"),inline:!1,flexibleControlStateSize:!0,help:(0,c._N)("The DSN tells the SDK where to send the events to. [link]",{link:s?(0,h.tZ)(a.Z,{to:"",onClick:()=>_((e=>!e)),children:k?(0,c.t)("Hide deprecated DSN"):(0,c.t)("Show deprecated DSN")}):null}),children:[(0,h.tZ)(l.Z,{children:(0,p.Z)({value:t.dsn.public,fixed:"__DSN__"})}),k&&(0,h.tZ)(y,{label:null,help:(0,c.t)("Deprecated DSN includes a secret which is no longer required by newer SDK versions. If you are unsure which to use, follow installation instructions for your language."),inline:!1,flexibleControlStateSize:!0,children:(0,h.tZ)(l.Z,{children:(0,p.Z)({value:t.dsn.secret,fixed:"__DSN_DEPRECATED__"})})})]}),!d&&s&&(0,h.tZ)(o.Z,{label:(0,c.t)("DSN (Deprecated)"),help:(0,c.t)("Deprecated DSN includes a secret which is no longer required by newer SDK versions. If you are unsure which to use, follow installation instructions for your language."),inline:!1,flexibleControlStateSize:!0,children:(0,h.tZ)(l.Z,{children:(0,p.Z)({value:t.dsn.secret,fixed:"__DSN_DEPRECATED__"})})}),x&&(0,h.tZ)(o.Z,{label:(0,c.t)("Security Header Endpoint"),help:(0,c.t)("Use your security header endpoint for features like CSP and Expect-CT reports."),inline:!1,flexibleControlStateSize:!0,children:(0,h.tZ)(l.Z,{children:(0,p.Z)({value:t.dsn.security,fixed:"__SECURITY_HEADER_ENDPOINT__"})})}),u&&(0,h.tZ)(o.Z,{label:(0,c.t)("Minidump Endpoint"),help:(0,c._N)("Use this endpoint to upload [link], for example with Electron, Crashpad or Breakpad.",{link:(0,h.tZ)(r.Z,{href:"https://docs.sentry.io/platforms/native/guides/minidumps/",children:"minidump crash reports"})}),inline:!1,flexibleControlStateSize:!0,children:(0,h.tZ)(l.Z,{children:(0,p.Z)({value:t.dsn.minidump,fixed:"__MINIDUMP_ENDPOINT__"})})}),b&&(0,h.tZ)(o.Z,{label:(0,c.t)("Unreal Engine 4 Endpoint"),help:(0,c.t)("Use this endpoint to configure your UE4 Crash Reporter."),inline:!1,flexibleControlStateSize:!0,children:(0,h.tZ)(l.Z,{children:(0,p.Z)({value:t.dsn.unreal||"",fixed:"__UNREAL_ENDPOINT__"})})}),Z&&(0,h.tZ)(o.Z,{label:(0,c.t)("Public Key"),inline:!0,flexibleControlStateSize:!0,children:(0,h.tZ)(l.Z,{children:(0,p.Z)({value:t.public,fixed:"__PUBLICKEY__"})})}),g&&(0,h.tZ)(o.Z,{label:(0,c.t)("Secret Key"),inline:!0,flexibleControlStateSize:!0,children:(0,h.tZ)(l.Z,{children:(0,p.Z)({value:t.secret,fixed:"__SECRETKEY__"})})}),m&&(0,h.tZ)(o.Z,{label:(0,c.t)("Project ID"),inline:!0,flexibleControlStateSize:!0,children:(0,h.tZ)(l.Z,{children:(0,p.Z)({value:i,fixed:"__PROJECTID__"})})})]})}u.displayName="ProjectKeyCredentials";const y=(0,s.Z)(o.Z,{target:"edkubn60"})("padding:",(0,d.D)(.5)," 0 0 0;"),m=u}}]);
//# sourceMappingURL=../sourcemaps/app_views_settings_project_projectKeys_list_index_tsx.3f030da6317abeeadd8c24262dd131b9.js.map