(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[693],{79042:function(e,r,t){"use strict";t.d(r,{$R:function(){return g},Td:function(){return y},Th:function(){return x},Tr:function(){return v},hr:function(){return b},iA:function(){return h},p3:function(){return j},xJ:function(){return f}});var n=t(81439),i=t(15031),s=t(67294);function c(){return c=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},c.apply(this,arguments)}function a(e,r){if(null==e)return{};var t,n,i={},s=Object.keys(e);for(n=0;n<s.length;n++)t=s[n],r.indexOf(t)>=0||(i[t]=e[t]);return i}var o=["overflow","overflowX","className"],l=["className"],u=["placement"],d=["isNumeric"],p=["isNumeric"],f=(0,n.Gp)((function(e,r){var t,l=e.overflow,u=e.overflowX,d=e.className,p=a(e,o);return s.createElement(n.m$.div,c({ref:r,className:(0,i.cx)("chakra-table__container",d)},p,{__css:{display:"block",whiteSpace:"nowrap",WebkitOverflowScrolling:"touch",overflowX:null!=(t=null!=l?l:u)?t:"auto",overflowY:"hidden",maxWidth:"100%"}}))})),h=(0,n.Gp)((function(e,r){var t=(0,n.jC)("Table",e),o=(0,n.Lr)(e),u=o.className,d=a(o,l);return s.createElement(n.Fo,{value:t},s.createElement(n.m$.table,c({role:"table",ref:r,__css:t.table,className:(0,i.cx)("chakra-table",u)},d)))}));i.Ts&&(h.displayName="Table");var m=(0,n.Gp)((function(e,r){var t=e.placement,i=void 0===t?"bottom":t,o=a(e,u),l=(0,n.yK)();return s.createElement(n.m$.caption,c({},o,{ref:r,__css:c({},l.caption,{captionSide:i})}))}));i.Ts&&(m.displayName="TableCaption");var b=(0,n.Gp)((function(e,r){var t=(0,n.yK)();return s.createElement(n.m$.thead,c({},e,{ref:r,__css:t.thead}))})),j=(0,n.Gp)((function(e,r){var t=(0,n.yK)();return s.createElement(n.m$.tbody,c({},e,{ref:r,__css:t.tbody}))})),g=(0,n.Gp)((function(e,r){var t=(0,n.yK)();return s.createElement(n.m$.tfoot,c({},e,{ref:r,__css:t.tfoot}))})),x=(0,n.Gp)((function(e,r){var t=e.isNumeric,i=a(e,d),o=(0,n.yK)();return s.createElement(n.m$.th,c({},i,{ref:r,__css:o.th,"data-is-numeric":t}))})),v=(0,n.Gp)((function(e,r){var t=(0,n.yK)();return s.createElement(n.m$.tr,c({role:"row"},e,{ref:r,__css:t.tr}))})),y=(0,n.Gp)((function(e,r){var t=e.isNumeric,i=a(e,p),o=(0,n.yK)();return s.createElement(n.m$.td,c({role:"gridcell"},i,{ref:r,__css:o.td,"data-is-numeric":t}))}))},42498:function(e,r,t){"use strict";t.r(r),t.d(r,{default:function(){return z}});var n=t(68527),i=t(67294),s=t(59499),c=t(79042),a=t(15193),o=t(2664),l=t(97142),u=t(43072),d=t(97375),p=t(15320),f=t(11163),h=t(37161),m=t(45035),b=t(10867),j=t(41040),g=t(74015),x=t(78221),v=t(85893);function y(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function O(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?y(Object(t),!0).forEach((function(r){(0,s.Z)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):y(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}var w=function(e){var r,t,i=e.user,s=(0,f.useRouter)(),o=(0,d.qY)(),y=(0,l.C)(h.dy),w=!!y&&y.id===i.id,_=(0,b.Tg)([g.Sh.USER_UPDATE])||w,P=function(){_&&s.push("".concat(m.e3,"/profile/").concat(i.id))},E=(0,u.gU)(null!==(r=i.id)&&void 0!==r?r:"",{skip:!i.id}).data,T=(0,u.d6)(null!==(t=i.id)&&void 0!==t?t:"",{skip:!i.id}).data,N=[];return E&&E.roles&&E.roles.forEach((function(e){var r=j.K.find((function(r){return r.roleKey===e}));r&&N.push(r.permissions_label)})),(0,v.jsxs)(v.Fragment,{children:[(0,v.jsxs)(c.Tr,{_hover:{bg:"gray.50",cursor:_?"pointer":void 0},height:"36px","data-testid":"row-".concat(i.id),children:[(0,v.jsx)(c.Td,{pl:0,py:1,onClick:P,children:i.username}),(0,v.jsx)(c.Td,{pl:0,py:1,onClick:P,children:i.first_name}),(0,v.jsx)(c.Td,{pl:0,py:1,onClick:P,children:i.last_name}),(0,v.jsx)(c.Td,{pl:0,py:1,onClick:P,children:N.map((function(e){return(0,v.jsx)(n.Ct,{bg:"gray.500",color:"white",paddingLeft:"2",textTransform:"none",paddingRight:"8px",height:"18px",lineHeight:"18px",borderRadius:"6px",fontWeight:"500",textAlign:"center","data-testid":"user-permissions-badge",children:e},e)}))}),(0,v.jsx)(c.Td,{pl:0,py:1,onClick:P,children:(0,v.jsx)(n.Ct,{bg:"gray.500",color:"white",paddingLeft:"2",textTransform:"none",paddingRight:"8px",height:"18px",lineHeight:"18px",borderRadius:"6px",fontWeight:"500",textAlign:"center","data-testid":"user-systems-badge",children:T?T.length:0})}),(0,v.jsx)(c.Td,{pl:0,py:1,onClick:P,children:i.created_at?new Date(i.created_at).toUTCString():null}),(0,v.jsx)(b.ZP,{scopes:[g.Sh.USER_DELETE],children:(0,v.jsx)(c.Td,{pr:0,py:1,textAlign:"end",position:"relative",children:(0,v.jsx)(a.hE,{children:(0,v.jsx)(a.hU,{"aria-label":"delete",icon:(0,v.jsx)(p.l,{}),variant:"outline",size:"sm",onClick:o.onOpen,"data-testid":"delete-user-btn"})})})})]},i.id),(0,v.jsx)(x.Z,O({user:i},o))]})};function _(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function P(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?_(Object(t),!0).forEach((function(r){(0,s.Z)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):_(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}var E=function(){var e=function(){var e=(0,o.useDispatch)(),r=(0,o.useSelector)(u.lq),t=(0,u.wv)(r),n=t.data,i=t.isLoading,s=n||{users:[],total:0},c=s.items,a=s.total;return P(P({},r),{},{isLoading:i,users:c,total:a,handleNextPage:function(){e((0,u.YA)(r.page+1))},handlePreviousPage:function(){e((0,u.YA)(r.page-1))}})}(),r=e.users,t=e.total,s=e.page,d=e.size,p=e.handleNextPage,f=e.handlePreviousPage,h=(s-1)*d+1,m=Math.min(t,s*d),b=(0,l.T)();return(0,i.useEffect)((function(){b((0,u.Vv)(void 0))}),[b]),(0,v.jsxs)(v.Fragment,{children:[(0,v.jsxs)(c.iA,{size:"sm","data-testid":"user-management-table",children:[(0,v.jsx)(c.hr,{children:(0,v.jsxs)(c.Tr,{children:[(0,v.jsx)(c.Th,{pl:0,children:"Username"}),(0,v.jsx)(c.Th,{pl:0,children:"First Name"}),(0,v.jsx)(c.Th,{pl:0,children:"Last Name"}),(0,v.jsx)(c.Th,{pl:0,children:"Permissions"}),(0,v.jsx)(c.Th,{pl:0,children:"Assigned Systems"}),(0,v.jsx)(c.Th,{pl:0,children:"Created At"})]})}),(0,v.jsx)(c.p3,{children:null===r||void 0===r?void 0:r.map((function(e){return(0,v.jsx)(w,{user:e},e.id)}))})]}),(0,v.jsxs)(n.kC,{justifyContent:"space-between",mt:6,children:[(0,v.jsx)(n.xv,{fontSize:"xs",color:"gray.600",children:t>0?(0,v.jsxs)(v.Fragment,{children:["Showing ",Number.isNaN(h)?0:h," to"," ",Number.isNaN(m)?0:m," of"," ",Number.isNaN(t)?0:t," results"]}):"0 results"}),(0,v.jsxs)("div",{children:[(0,v.jsx)(a.zx,{disabled:s<=1,onClick:f,mr:2,size:"sm",children:"Previous"}),(0,v.jsx)(a.zx,{disabled:s*d>=t,onClick:p,size:"sm",children:"Next"})]})]})]})};E.defaultProps={users:[]};var T=E,N=t(41664),S=t.n(N),k=t(49743);function C(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}var D=function(){var e=(0,o.useSelector)(u.lq),r=(0,o.useDispatch)();return function(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?C(Object(t),!0).forEach((function(r){(0,s.Z)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):C(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}({handleSearchChange:function(e){r((0,u.SY)(e))}},e)},A=function(){var e=D(),r=e.handleSearchChange,t=e.username;return(0,v.jsxs)(n.Kq,{direction:"row",spacing:4,mb:6,children:[(0,v.jsx)(k.Z,{search:t,onChange:r,placeholder:"Search by Username"}),(0,v.jsx)(b.ZP,{scopes:[g.Sh.USER_CREATE],children:(0,v.jsx)(S(),{href:"".concat(m.e3,"/new"),passHref:!0,children:(0,v.jsx)(a.zx,{colorScheme:"primary",flexShrink:0,size:"sm","data-testid":"add-new-user-btn",children:"Add New User"})})})]})},U=t(18343),z=function(){return(0,v.jsxs)(U.Z,{title:"User Management",children:[(0,v.jsx)(n.X6,{fontSize:"2xl",fontWeight:"semibold",mb:4,children:"User Management"}),(0,v.jsx)(A,{}),(0,v.jsx)(T,{})]})}},58769:function(e,r,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/user-management",function(){return t(42498)}])}},function(e){e.O(0,[2437,3880,4231,3879,8354,9774,2888,179],(function(){return r=58769,e(e.s=r);var r}));var r=e.O();_N_E=r}]);