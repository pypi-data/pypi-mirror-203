{"version":3,"file":"changelist.43ca4ce1d79e97204dbf.js","mappings":"6IAiBe,MAAMA,EAIjBC,YAAYC,GACRC,KAAKC,WAAWF,EACpB,CAQAG,YAAYC,GACR,MAAMC,EAAUD,EAAMC,QACtB,MAAO,CACHC,GAAIC,SAASF,EAAQG,IACrBC,OAAQF,SAASF,EAAQI,QACzBC,QAASN,EACTO,OAAQ,GAEhB,CAOAC,SAASC,GACDA,GAA2B,iBAAZA,EAAKP,KACpBL,KAAKa,OAAOD,EAAKP,IAAMO,EACnBE,MAAMF,EAAKJ,SACXR,KAAKe,OAAOC,KAAKJ,GAG7B,CAOAX,WAAWF,GACP,MAAMkB,EAAQ,GAEdjB,KAAKa,OAAS,CAAC,EACfb,KAAKe,OAAS,GACdhB,EAASmB,SAAQC,IACb,MAAMP,EAAOZ,KAAKE,YAAYiB,GAG9B,IAFAnB,KAAKW,SAASC,GAEPK,EAAMG,QAAQ,CACjB,MAAMC,EAAYJ,EAAM,GACxB,GAAIL,EAAKJ,SAAWa,EAAUhB,GAG1B,OAFAgB,EAAUX,OAAOM,KAAKJ,EAAKP,SAC3BY,EAAMK,QAAQV,GAGlBK,EAAMM,OACV,CAEAN,EAAMK,QAAQV,EAAK,GAE3B,CAOAY,QAAQnB,GACJ,KAAMA,KAAML,KAAKa,QACb,MAAM,IAAIY,MAAO,QAAOpB,eAG5B,OAAOL,KAAKa,OAAOR,EACvB,CAMAqB,WACI,OAAO1B,KAAKe,OAAOY,KAAIC,GACZA,EAASnB,SAExB,CAOAoB,eAAexB,GAEX,OADaL,KAAKwB,QAAQnB,GACdK,OAAOoB,QAAO,CAACC,EAAQC,KAC/B,MAAMC,EAAYjC,KAAKwB,QAAQQ,GAK/B,OAJIC,IACAF,EAAOf,KAAKiB,EAAUxB,SACtBsB,EAASA,EAAOG,OAAOlC,KAAK6B,eAAeG,KAExCD,CAAM,GACd,GACP,ECvGW,MAAMI,EAKjBrC,YAAYsC,EAAOC,GAiBf,GAfArC,KAAKsC,KAAOC,OAAOC,OACf,CACIC,IAAK,KACLC,MAAM,EACNC,QAAS,WACTC,cAAe,YAEnBP,GAIJrC,KAAKoC,MAAQA,EAGbpC,KAAK6C,MAAQT,EAAMU,cAAc,UAC5B9C,KAAK6C,MACN,MAAM,IAAIpB,MAAM,wBAIpBzB,KAAK0C,KAAO,KAEZ1C,KAAK+C,iBACT,CAOAA,kBACI,OAAOC,EAAAA,GAAAA,OAAgBhD,KAAK6C,MAAO,CAC/BI,UAAW,EACXC,UAAW,KACXC,OAAQnD,KAAKsC,KAAKK,QAClBS,OAAQA,CAACC,EAAOC,EAAKC,KACjB,GAAID,EAAIE,UAAUC,SAASzD,KAAKsC,KAAKM,eACjC,OAAO,EAGX,MAAMD,EAAUW,EAAIR,cAAc9C,KAAKsC,KAAKK,SAC5C,SAAIA,IAAWA,EAAQa,UAAUC,SAASzD,KAAKsC,KAAKM,sBAApD,CAEA,EAEJc,WAAY,iBACZC,QAAS3D,KAAK4D,SAASC,KAAK7D,MAC5B8D,OAAQ9D,KAAK+D,QAAQF,KAAK7D,MAC1BgE,MAAOhE,KAAKiE,OAAOJ,KAAK7D,OAEhC,CAOA4D,SAASM,GACL,MAAMC,EAAOnE,KAAK6C,MAAMuB,iBAAiB,MAEzC,GAAIpE,KAAKsC,KAAKI,KAAM,CAChB1C,KAAK0C,KAAO,IAAI7C,EAASsE,GAGzB,MAAME,EAAkB/D,SAAS4D,EAAII,KAAKlE,QAAQI,QAC7CM,MAAMuD,IACPF,EAAKjD,SAAQoC,IACT,MAAMiB,EAAWjE,SAASgD,EAAIlD,QAAQI,QACjCM,MAAMyD,IAAaA,IAAaF,GACjCf,EAAIE,UAAUgB,IAAIxE,KAAKsC,KAAKM,cAChC,GAGZ,CACJ,CAQAmB,QAAQG,GACJ,OAAQA,EAAIO,QAAQjB,UAAUC,SAASzD,KAAKsC,KAAKM,cACrD,CAOAqB,OAAOC,GAEUlE,KAAK6C,MAAMuB,iBAAiB,MACpClD,SAAQoC,IACTA,EAAIE,UAAUkB,OAAO1E,KAAKsC,KAAKM,cAAc,IAGjD,MAAM+B,EAAQ3E,KAAK4E,cAAcV,GACjC,IAAKS,EAAMvD,QAA2B,IAAjBuD,EAAMvD,OACvB,OAGJpB,KAAK6E,gBAAgBX,EAAKS,GAE1B,MAAMhD,EAAM3B,KAAK8E,gBAAgBZ,EAAKS,GAGhCI,EAAW/E,KAAK6C,MAAMuB,iBAAiBpE,KAAKsC,KAAKK,SACvDoC,EAAS7D,SAAQyB,IACbA,EAAQa,UAAUgB,IAAIxE,KAAKsC,KAAKM,cAAc,IAIlD5C,KAAKgF,aAAarD,GAAKsD,MAAK,KAExBF,EAAS7D,SAAQyB,IACbA,EAAQa,UAAUkB,OAAO1E,KAAKsC,KAAKM,cAAc,GACnD,GAEV,CAQAgC,cAAcV,GACV,MAAMgB,EAAaC,KAAKC,IAAIlB,EAAImB,SAAUnB,EAAIoB,UACxCC,EAAWJ,KAAKK,IAAItB,EAAImB,SAAUnB,EAAIoB,UACtCnB,EAAOnE,KAAK6C,MAAMuB,iBAAiB,MACzC,IAAIqB,EAAQC,MAAMC,UAAUF,MAAMG,KAAKzB,EAAMe,EAAYK,EAAW,GACpE,GAAIvF,KAAK0C,KAAM,CAEX,MAAMrC,EAAKC,SAAS4D,EAAII,KAAKlE,QAAQG,IAC/BK,EAAOZ,KAAK0C,KAAKlB,QAAQnB,GAC/BoF,EAAQA,EAAMrC,QAAOE,GACVhD,SAASgD,EAAIlD,QAAQI,UAAYI,EAAKJ,QAErD,CACA,OAAOiF,CACX,CASAX,gBAAgBZ,EAAKC,GACjB,MAAM0B,EAAU,GACVC,EAAa,GAGnB3B,EAAKjD,SAAQoC,IACMA,EAAIR,cAAc9C,KAAKsC,KAAKK,WAEvCkD,EAAQ7E,KAAKV,SAASgD,EAAIlD,QAAQG,KAClCuF,EAAW9E,KAAKV,SAASgD,EAAIlD,QAAQ2F,aACzC,IAWJ,OAPkB7B,EAAImB,SAAWnB,EAAIoB,SAEjCQ,EAAWxE,QAAQwE,EAAWE,OAE9BF,EAAW9E,KAAK8E,EAAWvE,SAGxBsE,EAAQ/D,QAAO,CAACC,EAAQ1B,EAAI4F,KAC/BlE,EAAO1B,GAAMyF,EAAWG,GAMxB,OAHYjG,KAAK6C,MAAMC,cAAe,eAAczC,OAChD6F,aAAa,mBAAoBJ,EAAWG,IAEzClE,CAAM,GACd,CAAC,EACR,CAWA8C,gBAAgBX,EAAKS,GACjB,IAAK3E,KAAK0C,KACN,OAGJ,MAAMrC,EAAKC,SAAS4D,EAAII,KAAKlE,QAAQG,IAC/BK,EAAOZ,KAAK0C,KAAKlB,QAAQnB,GACzB8F,EAAOjC,EAAII,KAAK8B,uBAChBC,EAAOnC,EAAII,KAAKgC,mBAChBC,EAAU5B,EAAMc,QACtB,GAAIU,GAAQE,EAAM,CAGd,MAAMG,EAAgBlG,SAAS6F,EAAK/F,QAAQI,UAAYI,EAAKJ,OACvDiG,EAAcnG,SAAS+F,EAAKjG,QAAQI,UAAYF,SAAS6F,EAAK/F,QAAQG,IACxEiG,GAAiBC,IAAgBF,EAAQG,SAASP,IAClDI,EAAQjF,QAAQ6E,EAExB,CAGAI,EAAQrF,SAAQV,IACZ,MAAMH,EAAKC,SAASE,EAAOJ,QAAQG,IAC7BG,EAASV,KAAK0C,KAAKb,eAAexB,GACxCsG,QAAQhB,UAAUiB,MAAMC,MAAMrG,EAAQE,EAAO,GAErD,CAQAsE,aAAa8B,GACT,OAAOC,MAAM/G,KAAKsC,KAAKG,IAAK,CACxBuE,OAAQ,OACRC,YAAa,cACbC,QAAS,CACL,eAAgB,oBAEpBC,KAAMC,KAAKC,UAAUP,KACtB7B,MAAKqC,IACJ,IAAKA,EAASC,GAAI,CACd,MAAMC,EAAQ,IAAI/F,MAAO,GAAE6F,EAASG,UAAUH,EAASI,cAEvD,MADAF,EAAMF,SAAWA,EACXE,CACV,IAER,E,4CCpQG,MAAMG,UAAwBC,EAAAA,EAC7BC,eACA,MAAO,CACHC,UAAU,EACVC,OAAQ/H,KAAKgI,aACbC,WAAYjI,KAAKkI,iBAEzB,CAEApI,YAAYW,EAAS4B,GACjB8F,MAAM9F,GAENrC,KAAKoI,aAAe3H,EAAQqC,cAAc,uBAC1CuF,EAAAA,EAAAA,IAAUrI,KAAKoI,aAAcpI,KAAKqC,SAElCrC,KAAKsI,WAAa7H,EAAQqC,cAAc,qBACxCuF,EAAAA,EAAAA,IAAUrI,KAAKsI,WAAYtI,KAAKqC,SAEhCrC,KAAKuI,GAAG9H,EAAS,SAAS4C,IACtB,MAAMmF,EAASnF,EAAMoF,OAAOC,QAAQ,gBACpC,GAAIF,EAAQ,CACR,MAAMG,EAAaH,EAAOE,QAAQ,gBAC5BE,EAAQD,GAAcA,EAAW7F,cAAc,SACjD8F,GAASA,EAAMC,YACfD,EAAMC,WAAWC,QAAQ,QAEjC,IAER,CAEAC,UACIZ,MAAMY,UAEF/I,KAAKoI,aAAaS,YAClB7I,KAAKoI,aAAaS,WAAWE,UAG7B/I,KAAKsI,WAAWO,YAChB7I,KAAKsI,WAAWO,WAAWE,SAEnC,CAEAf,aACI,IAAK,MAAMD,KAAUiB,EAAAA,EAAAA,KACjB,GAAIX,EAAAA,GAAAA,MAAgBN,GAChB,OAAOA,EAGf,MAAO,SACX,CAEAG,iBACI,IAAK,MAAMH,KAAUiB,EAAAA,EAAAA,KACjB,GAAIC,EAAAA,GAAYlB,GACZ,OAAOkB,EAAAA,GAAYlB,GAG3B,MAAO,OACX,EAGJmB,EAAAA,EAAAA,SAAgB,0BAA2B,CACvCC,KAAM,SAAU1I,GACZA,EAAQ2I,iBAAmB,IAAIzB,EAAgBlH,EACnD,EACAsI,QAAS,SAAUtI,GACXA,EAAQ2I,mBACR3I,EAAQ2I,iBAAiBL,iBAClBtI,EAAQ2I,iBAEvB,ICzEJF,EAAAA,EAAAA,SAAgB,uBAAwB,CACpCC,KAAM,SAAU1I,GACZA,EAAQ4I,iBAAmB,IAAIC,EAAAA,EAAiB7I,EAAS,CACrD8I,MAAO,OACPC,YAAY,EACZC,kBAAmB,4BAE3B,EACAV,QAAS,SAAUtI,GACXA,EAAQ4I,mBACR5I,EAAQ4I,iBAAiBN,iBAClBtI,EAAQ4I,iBAEvB,ICZJ,MAAMK,EAAgB,gBAChBC,EAAiB,gBAEjBC,EAAgB,yBAChBC,EAAiB,0BACjBC,EAAY,qBACZC,EAAc,uBACdC,EAAe,oDA0KrB,SAASC,EAAW9F,EAAM+F,GACtB/F,EAAKjD,SAAQoC,IACLA,GAAuB,OAAhBA,EAAI6G,SACX7G,EAAI8G,cACA,IAAIC,YAAY,SAAU,CACtBC,SAAS,EACTC,YAAY,EACZC,OAAQ,CACJC,MAAOP,KAIvB,GAER,CAEA,SAASQ,EAAcC,GACnB,MAAMC,EAAWD,EAAO7I,QAAO,CAAC+I,EAAKjC,IAAUiC,GAAOjC,EAAMsB,QAAU,EAAI,IAAI,GAC7DY,SAAS1G,iBAAkB,IAAGwF,KACtC1I,SAAQ6J,IACbA,EAAQC,UAAYC,YAChBC,SAAS,8BAA+B,8BAA+BN,GACvE,CACIO,IAAKP,EACLQ,IAAKL,EAAQ3K,QAAQiL,cAEzB,EACH,IAGDT,IAAaD,EAAOvJ,OAWN0J,SAAS1G,iBAAkB,IAAGyF,KACtC3I,SAAQoK,IACdA,EAASC,QAAS,CAAK,IAVvBC,EAAYb,EAEpB,CAgBA,SAASc,EAAeC,GACAZ,SAAS1G,iBAAiB4F,GAClC9I,SAAQ0H,IAChBA,EAAM8C,MAAQC,OAAOD,EAAM,GAEnC,CA0BA,SAASF,EAAYb,GACjBc,GAAe,GAEEX,SAAS1G,iBAAkB,IAAGwF,KACtC1I,SAAQ6J,IACbA,EAAQQ,QAAS,CAAK,IAGJT,SAAS1G,iBAAkB,IAAG0F,KACtC5I,SAAQ0K,IAClBA,EAAUL,QAAS,CAAI,IAG3B,MAAMX,EAAWD,EAAO7I,QAAO,CAAC+I,EAAKjC,IAAUiC,GAAOjC,EAAMsB,QAAU,EAAI,IAAI,GAC5DY,SAAS1G,iBAAkB,IAAGyF,KACtC3I,SAAQoK,IACdA,EAASC,OAASX,IAAaD,EAAOvJ,MAAM,IAG1B0J,SAAS1G,iBAAkB,IAAG2F,KACtC7I,SAAQ2K,IAClBA,EAAaN,QAAS,CAAI,GAElC,CAEA,MAAMO,EAAahB,SAAS1G,iBAAkB,IAAGuF,KAC7CmC,EAAW1K,QApRf,SAAqBuJ,GACjB,IAAIoB,EAAc,KAClB,MAAM3J,EAAQ0I,SAASkB,eAAe,eAChCC,EAAiBnB,SAASkB,eAAetC,GAG/CuC,EAAeC,iBAAiB,UAAU,KACtC,MAAM/H,EAAOwG,EAAOhJ,KAAIiH,GAASA,EAAMF,QAAQ,QAC/CuB,EAAW9F,EAAM8H,EAAe/B,SAChCQ,EAAcC,EAAO,IAIzBvI,EAAM8J,iBAAiB,UAAU7I,IAC7B,MAAMoF,EAASpF,EAAMoF,OACrB,GAAuB,OAAnBA,EAAO0B,SAAoB1B,EAAOC,QAAQ,WAAatG,EACvD,OAGJ,MAAMqI,EAAQ0B,QAAQ9I,EAAMmH,OAAOC,OAClBhC,EAAO3F,cAAe,IAAG6G,KACjCO,QAAUO,EACnBhC,EAAOjF,UAAU4I,OAAO,WAAY3B,GAGpCwB,EAAe/B,QAAkD,MAAxCS,EAAO0B,MAAKzD,IAAUA,EAAMsB,SAAgB,IAGzE9H,EAAM8J,iBAAiB,SAAS7I,IAC5B,MAAMoF,EAASpF,EAAMoF,OAGfnF,EAAMmF,EAAOC,QAAQ,MAC3B,IAAKpF,EACD,OAGJ,MAAMgJ,EAAmB7D,EAAOC,QA5CR,oCA6ClB6D,EAAWjJ,EAAIR,cAAe,IAAG6G,KAEvC,GAAItG,EAAMmJ,UAAYT,EAAa,CAE/B,MAAMU,EAAY9B,EAAO+B,QAAQX,GAC3BY,EAAchC,EAAO+B,QAAQH,GAC7BK,EAAazH,KAAKC,IAAIqH,EAAWE,GACjCE,EAAW1H,KAAKK,IAAIiH,EAAWE,GAE/BxI,EADcwG,EAAOlF,MAAMmH,EAAYC,EAAW,GAC/BlL,KAAIiH,GAASA,EAAMF,QAAQ,QACpDuB,EAAW9F,EAAM4H,EAAY7B,QACjC,MAAWoC,GAAqBjJ,EAAMyJ,UAAYzJ,EAAMmJ,YAEpDT,EAAcQ,EACdtC,EAAW,CAAC3G,IAAOiJ,EAASrC,UAGhCQ,EAAcC,EAAO,IAIzBvI,EAAM8J,iBAAiB,aAAa7I,IAChC,MAAMoF,EAASpF,EAAMoF,QACjBpF,EAAMmJ,UAAgC,OAAnB/D,EAAO0B,SAAuC,OAAnB1B,EAAO0B,SACrD9G,EAAM0J,gBACV,IAIJjC,SAASoB,iBAAiB,SAAS7I,IAC/B,MAAMoF,EAASpF,EAAMoF,OACE,MAAnBA,EAAO0B,SAAmB1B,EAAOC,QAAS,IAAGmB,OAC7CxG,EAAM0J,iBA6JdtB,GAAe,GAEEX,SAAS1G,iBAAkB,IAAGwF,KACtC1I,SAAQ6J,IACbA,EAAQQ,QAAS,CAAI,IAGHT,SAAS1G,iBAAkB,IAAG0F,KACtC5I,SAAQ0K,IAClBA,EAAUL,QAAS,CAAK,IAGVT,SAAS1G,iBAAkB,IAAGyF,KACtC3I,SAAQoK,IACdA,EAASC,QAAS,CAAI,IAGJT,SAAS1G,iBAAkB,IAAG2F,KACtC7I,SAAQ2K,IAClBA,EAAaN,QAAS,CAAK,IA9K3B,IAIJT,SAASoB,iBAAiB,SAAS7I,IAC/B,MAAMoF,EAASpF,EAAMoF,OACrB,GAAuB,MAAnBA,EAAO0B,SAAmB1B,EAAOC,QAAS,IAAGqB,KAAgB,CAC7D1G,EAAM0J,iBACNd,EAAe/B,SAAU,EACzB,MAAM/F,EAAOwG,EAAOhJ,KAAIiH,GAASA,EAAMF,QAAQ,QAC/CuB,EAAW9F,GAAM,GACjBqH,EAAYb,GACZD,EAAcC,EAClB,KASR,WACI,IAAIqC,GAAwB,EACflC,SAASkB,eAAe,mBAEhCE,iBAAiB,UAAU7I,IAC5B,MAAMoF,EAASpF,EAAMoF,OACE,UAAnBA,EAAO0B,QACH1B,EAAOC,QAAS,IAAGiB,MAAqBlB,EAAOlI,KAAOmJ,IAGtDsD,GAAwB,GAEF,WAAnBvE,EAAO0B,SACV1B,EAAOC,QAAQ,oBAMnBsE,GAAwB,EAC5B,IAGJlC,SAASoB,iBAAiB,SAAS7I,IAChBA,EAAMoF,OACQC,QAAQ,mBAChBsE,IACHC,QACVC,QACI,sHAIJ7J,EAAM0J,iBAEd,IAGJjC,SAASoB,iBAAiB,SAAS7I,IAC/B,MACM8J,EADS9J,EAAMoF,OACMC,QAAQ,kBAE7B0E,EAAiBtC,SAAS1G,iBAAiB,kCAC3CiJ,GAAkB3H,MAAMC,UAAU2H,MAAM1H,KAAKwH,GAAgBG,IACvDA,EAAO7B,QAGnB,GAAIyB,GAAeE,EAAgB,CAC/B,IAAIxG,EAEAA,EADAmG,EACQC,QACJC,QACI,yJAIAD,QACJC,QACI,+JAIPrG,GACDxD,EAAM0J,gBAEd,IAER,CAzEIS,EACJ,CA4LIC,CAAY/H,MAAMgI,KAAK5B,ICjS3B6B,OAAOzB,iBAAiB,WAAW7I,IAC/B,IAAIA,EAAMuK,kBAINvK,EAAMyJ,QAAS,CACf,MAAMe,EAAa/C,SAAShI,cAAc,qBAC1C,IAAK+K,EACD,OAGJ,OAAQxK,EAAMyK,KACV,IAAK,OACL,IAAK,YACDD,EAAW/K,cAAc,qCAAqCiL,QAC9D,MACJ,IAAK,QACL,IAAK,aACDF,EAAW/K,cAAc,iCAAiCiL,QAC1D,MACJ,QAEI,OAIR1K,EAAM0J,gBACV,KCzBJ,MAAMiB,EAAOlD,SAAShI,cAAc,sBAC9B8F,EAAQoF,GAAQA,EAAKlL,cAAc,iBACzC8F,GACIA,EAAMsD,iBAAiB,SAAS,KAC5BtD,EAAM2E,QAAQ,ICiBtBrE,EAAAA,EAAAA,SAAgB,gBAAiB,CAC7BC,KAAM,SAAU1I,GACZA,EAAQwN,cAAgB,IAAI3E,EAAAA,EAAiB7I,EAAS,CAClD+I,YAAY,EACZC,kBAAmB,2BACnByE,wBAAyBC,KAEjC,EACApF,QAAS,SAAUtI,GACXA,EAAQwN,gBACRxN,EAAQwN,cAAclF,iBACftI,EAAQwN,cAEvB,IAIJ,MAAM7L,EAAQ0I,SAASkB,eAAe,eAClC5J,GAASA,EAAMoB,UAAUC,SAAS,0BAClC,IAAItB,EAAcC,EAAO,CACrBK,IAAKL,EAAMhC,QAAQgO,SACnB1L,KAAMN,EAAMoB,UAAUC,SAAS,qBAC/Bd,QAAS,8B","sources":["webpack://paper-admin/./paper_admin/static/paper_admin/src/js/components/sortable_table/ListTree.js","webpack://paper-admin/./paper_admin/static/paper_admin/src/js/components/sortable_table/SortableTable.js","webpack://paper-admin/./paper_admin/static/paper_admin/src/components/date-range-filter/index.js","webpack://paper-admin/./paper_admin/static/paper_admin/src/components/select2-filter/index.js","webpack://paper-admin/./paper_admin/static/paper_admin/src/bem/paper-actions/paper-actions.js","webpack://paper-admin/./paper_admin/static/paper_admin/src/bem/paper-pagination/paper-pagination.js","webpack://paper-admin/./paper_admin/static/paper_admin/src/bem/paper-search-form/paper-search-form.js","webpack://paper-admin/./paper_admin/static/paper_admin/src/js/changelist.js"],"sourcesContent":["/**\n * @module ListTree\n */\n\n/**\n * @typedef {Object} module:ListTree.ListTreeNode\n * @property {Number}       pk\n * @property {Number}       parent\n * @property {HTMLElement}  element\n * @property {Number[]}     childs\n */\n\n/**\n * Представление списка DOM-элементов в виде дерева.\n * Каждый DOM-элемент должен иметь data-атрибуты \"id\" и \"parent\".\n * Каждый дочерний узел должен идти после родителя.\n */\nexport default class ListTree {\n    /**\n     * @param {NodeList|Element[]} elements\n     */\n    constructor(elements) {\n        this._buildTree(elements);\n    }\n\n    /**\n     * Создание структуры узла дерева.\n     * @param {HTMLElement} child\n     * @returns {module:ListTree.ListTreeNode}\n     * @private\n     */\n    _createNode(child) {\n        const dataset = child.dataset;\n        return {\n            pk: parseInt(dataset.id),\n            parent: parseInt(dataset.parent),\n            element: child,\n            childs: []\n        };\n    }\n\n    /**\n     * Добавление узла дерева в карту, для быстрого поиска по ID.\n     * @param {module:ListTree.ListTreeNode} node\n     * @private\n     */\n    _addNode(node) {\n        if (node && typeof node.pk === \"number\") {\n            this._nodes[node.pk] = node;\n            if (isNaN(node.parent)) {\n                this._roots.push(node);\n            }\n        }\n    }\n\n    /**\n     * Построение дерева из DOM-элементов.\n     * @param {NodeList|Element[]} elements\n     * @private\n     */\n    _buildTree(elements) {\n        const stack = [];\n\n        this._nodes = {};\n        this._roots = [];\n        elements.forEach(elem => {\n            const node = this._createNode(elem);\n            this._addNode(node);\n\n            while (stack.length) {\n                const stackNode = stack[0];\n                if (node.parent === stackNode.pk) {\n                    stackNode.childs.push(node.pk);\n                    stack.unshift(node);\n                    return;\n                }\n                stack.shift();\n            }\n\n            stack.unshift(node);\n        });\n    }\n\n    /**\n     * Получение узла по ID.\n     * @param {Number} pk\n     * @returns {module:ListTree.ListTreeNode}\n     */\n    getNode(pk) {\n        if (!(pk in this._nodes)) {\n            throw new Error(`node ${pk} not found`);\n        }\n\n        return this._nodes[pk];\n    }\n\n    /**\n     * Получение корневых элементов.\n     * @returns {Element[]}\n     */\n    getRoots() {\n        return this._roots.map(rootNode => {\n            return rootNode.element;\n        });\n    }\n\n    /**\n     * Получение всех потомков узла.\n     * @param {Number} pk\n     * @returns {Element[]}\n     */\n    getDescendants(pk) {\n        const node = this.getNode(pk);\n        return node.childs.reduce((result, childId) => {\n            const childNode = this.getNode(childId);\n            if (childNode) {\n                result.push(childNode.element);\n                result = result.concat(this.getDescendants(childId));\n            }\n            return result;\n        }, []);\n    }\n}\n","/**\n * Таблица с возможностью сортировки строк.\n * Каждая строка должна иметь атрибуты data-id и data-order-value.\n * В случае, если строки представляют дерево, то еще необходим атрибут data-parent.\n * @module SortableTable\n */\n\n/**\n * @typedef {Object} module:SortableTable.SortableTableOptions\n * @property {String}  url\n * @property {Boolean} [tree]\n * @property {String}  [handler]\n * @property {String}  [disabledClass]\n */\n\nimport Sortable from \"sortablejs\";\nimport ListTree from \"js/components/sortable_table/ListTree.js\";\n\nexport default class SortableTable {\n    /**\n     * @param {Element} table\n     * @param {module:SortableTable.SortableTableOptions} [options]\n     */\n    constructor(table, options) {\n        /** @type {module:SortableTable.SortableTableOptions} */\n        this.opts = Object.assign(\n            {\n                url: null,\n                tree: false,\n                handler: \".handler\",\n                disabledClass: \"disabled\"\n            },\n            options\n        );\n\n        /** @type {Element} */\n        this.table = table;\n\n        /** @type {Element} */\n        this.tbody = table.querySelector(\"tbody\");\n        if (!this.tbody) {\n            throw new Error(\"table body not found\");\n        }\n\n        /** @type {?ListTree} */\n        this.tree = null;\n\n        this._createSortable();\n    }\n\n    /**\n     * Инициализация плагина сортировки.\n     * @returns {Sortable}\n     * @private\n     */\n    _createSortable() {\n        return Sortable.create(this.tbody, {\n            animation: 0,\n            draggable: \"tr\",\n            handle: this.opts.handler,\n            filter: (event, row, instance) => {\n                if (row.classList.contains(this.opts.disabledClass)) {\n                    return true;\n                }\n\n                const handler = row.querySelector(this.opts.handler);\n                if (handler && handler.classList.contains(this.opts.disabledClass)) {\n                    return true;\n                }\n            },\n            ghostClass: \"sortable-ghost\",\n            onStart: this._onStart.bind(this),\n            onMove: this._onMove.bind(this),\n            onEnd: this._onEnd.bind(this)\n        });\n    }\n\n    /**\n     * Обработчик события начала перетаскивания.\n     * @param evt\n     * @private\n     */\n    _onStart(evt) {\n        const rows = this.tbody.querySelectorAll(\"tr\");\n\n        if (this.opts.tree) {\n            this.tree = new ListTree(rows);\n\n            // Блокируем все узлы, кроме соседних.\n            const currentParentId = parseInt(evt.item.dataset.parent);\n            if (!isNaN(currentParentId)) {\n                rows.forEach(row => {\n                    const parentId = parseInt(row.dataset.parent);\n                    if (!isNaN(parentId) && parentId !== currentParentId) {\n                        row.classList.add(this.opts.disabledClass);\n                    }\n                });\n            }\n        }\n    }\n\n    /**\n     * Обработчик события перетаскивания.\n     * @param evt\n     * @returns {boolean}\n     * @private\n     */\n    _onMove(evt) {\n        return !evt.related.classList.contains(this.opts.disabledClass);\n    }\n\n    /**\n     * Обработчик события завершения перетаскивания.\n     * @param evt\n     * @private\n     */\n    _onEnd(evt) {\n        // Снимаем блокировку со всех узлов.\n        const rows = this.tbody.querySelectorAll(\"tr\");\n        rows.forEach(row => {\n            row.classList.remove(this.opts.disabledClass);\n        });\n\n        const moved = this._getMovedRows(evt);\n        if (!moved.length || moved.length === 1) {\n            return;\n        }\n\n        this._normalizeTable(evt, moved);\n\n        const map = this._createOrderMap(evt, moved);\n\n        // блокировка областей сортировки на время выполнения запроса\n        const handlers = this.tbody.querySelectorAll(this.opts.handler);\n        handlers.forEach(handler => {\n            handler.classList.add(this.opts.disabledClass);\n        });\n\n        // отправка запроса на сервер\n        this._sendRequest(map).then(() => {\n            // снятие блокировки\n            handlers.forEach(handler => {\n                handler.classList.remove(this.opts.disabledClass);\n            });\n        });\n    }\n\n    /**\n     * Получение строк, чей порядок изменился после перетаскивания.\n     * @param evt\n     * @returns {HTMLElement[]}\n     * @private\n     */\n    _getMovedRows(evt) {\n        const sliceStart = Math.min(evt.oldIndex, evt.newIndex);\n        const sliceEnd = Math.max(evt.oldIndex, evt.newIndex);\n        const rows = this.tbody.querySelectorAll(\"tr\");\n        let slice = Array.prototype.slice.call(rows, sliceStart, sliceEnd + 1);\n        if (this.tree) {\n            // пропускаем узлы, не являющиеся соседними\n            const pk = parseInt(evt.item.dataset.id);\n            const node = this.tree.getNode(pk);\n            slice = slice.filter(row => {\n                return parseInt(row.dataset.parent) === node.parent;\n            });\n        }\n        return slice;\n    }\n\n    /**\n     * Создание карты новых значений сортировки элементов.\n     * @param evt\n     * @param {HTMLElement[]} rows\n     * @returns {Object}\n     * @private\n     */\n    _createOrderMap(evt, rows) {\n        const pkArray = [];\n        const orderArray = [];\n\n        // заполнение массивов ID и сортировки\n        rows.forEach(row => {\n            const handle = row.querySelector(this.opts.handler);\n            if (handle) {\n                pkArray.push(parseInt(row.dataset.id));\n                orderArray.push(parseInt(row.dataset.orderValue));\n            }\n        });\n\n        // циклический сдвиг значений сортировки\n        const movedDown = evt.oldIndex < evt.newIndex;\n        if (movedDown) {\n            orderArray.unshift(orderArray.pop());\n        } else {\n            orderArray.push(orderArray.shift());\n        }\n\n        return pkArray.reduce((result, pk, i) => {\n            result[pk] = orderArray[i];\n\n            // обновляем атрибут data-order-value\n            const row = this.tbody.querySelector(`tr[data-id=\"${pk}\"]`);\n            row.setAttribute(\"data-order-value\", orderArray[i]);\n\n            return result;\n        }, {});\n    }\n\n    /**\n     * Нормализация таблицы.\n     * Все дочерние строки перемещаются под своего родителя.\n     * Без этого метода может случиться ситуация, когда элемент\n     * был перемещен между своим соседом и его детьми.\n     * @param evt\n     * @param {Element[]} moved\n     * @private\n     */\n    _normalizeTable(evt, moved) {\n        if (!this.tree) {\n            return;\n        }\n\n        const pk = parseInt(evt.item.dataset.id);\n        const node = this.tree.getNode(pk);\n        const prev = evt.item.previousElementSibling;\n        const next = evt.item.nextElementSibling;\n        const parents = moved.slice();\n        if (prev && next) {\n            // если предыдущая строка - сосед, а следующая - ребенок соседа,\n            // то сосед должен быть в списке нормализации.\n            const isPrevSibling = parseInt(prev.dataset.parent) === node.parent;\n            const isNextChild = parseInt(next.dataset.parent) === parseInt(prev.dataset.id);\n            if (isPrevSibling && isNextChild && !parents.includes(prev)) {\n                parents.unshift(prev);\n            }\n        }\n\n        // перенос детей под родителя\n        parents.forEach(parent => {\n            const pk = parseInt(parent.dataset.id);\n            const childs = this.tree.getDescendants(pk);\n            Element.prototype.after.apply(parent, childs);\n        });\n    }\n\n    /**\n     * Отправка новых значений сортировки на сервер.\n     * @param {Object} data\n     * @returns {Promise<Response>}\n     * @private\n     */\n    _sendRequest(data) {\n        return fetch(this.opts.url, {\n            method: \"POST\",\n            credentials: \"same-origin\",\n            headers: {\n                \"Content-Type\": \"application/json\"\n            },\n            body: JSON.stringify(data)\n        }).then(response => {\n            if (!response.ok) {\n                const error = new Error(`${response.status} ${response.statusText}`);\n                error.response = response;\n                throw error;\n            }\n        });\n    }\n}\n","/* global flatpickr */\nimport XClass from \"data-xclass\";\nimport { dateFormats, flatpickr } from \"components/flatpickr/index.js\";\nimport { BaseComponent } from \"js/components/baseComponent.js\";\nimport getPossibleLocales from \"js/utilities/locale.js\";\n\nexport class DateRangeFilter extends BaseComponent {\n    get Defaults() {\n        return {\n            altInput: true,\n            locale: this._getLocale(),\n            dateFormat: this._getDateFormat()\n        };\n    }\n\n    constructor(element, options) {\n        super(options);\n\n        this.startElement = element.querySelector(\"[data-range-start]\");\n        flatpickr(this.startElement, this.options);\n\n        this.endElement = element.querySelector(\"[data-range-end]\");\n        flatpickr(this.endElement, this.options);\n\n        this.on(element, \"click\", event => {\n            const button = event.target.closest(\"[data-today]\");\n            if (button) {\n                const inputGroup = button.closest(\".input-group\");\n                const input = inputGroup && inputGroup.querySelector(\"input\");\n                if (input && input._flatpickr) {\n                    input._flatpickr.setDate(\"today\");\n                }\n            }\n        });\n    }\n\n    destroy() {\n        super.destroy();\n\n        if (this.startElement._flatpickr) {\n            this.startElement._flatpickr.destroy();\n        }\n\n        if (this.endElement._flatpickr) {\n            this.endElement._flatpickr.destroy();\n        }\n    }\n\n    _getLocale() {\n        for (const locale of getPossibleLocales()) {\n            if (flatpickr.l10ns[locale]) {\n                return locale;\n            }\n        }\n        return \"default\";\n    }\n\n    _getDateFormat() {\n        for (const locale of getPossibleLocales()) {\n            if (dateFormats[locale]) {\n                return dateFormats[locale];\n            }\n        }\n        return \"Y-m-d\";\n    }\n}\n\nXClass.register(\"paper-date-range-filter\", {\n    init: function (element) {\n        element._dateRangeFilter = new DateRangeFilter(element);\n    },\n    destroy: function (element) {\n        if (element._dateRangeFilter) {\n            element._dateRangeFilter.destroy();\n            delete element._dateRangeFilter;\n        }\n    }\n});\n","import XClass from \"data-xclass\";\nimport { Select2Component } from \"components/select2/index.js\";\n\nXClass.register(\"paper-select2-filter\", {\n    init: function (element) {\n        element._select2Instance = new Select2Component(element, {\n            width: \"100%\",\n            allowClear: true,\n            containerCssClass: \"select2-container--small\"\n        });\n    },\n    destroy: function (element) {\n        if (element._select2Instance) {\n            element._select2Instance.destroy();\n            delete element._select2Instance;\n        }\n    }\n});\n","/*global gettext, interpolate, ngettext*/\n\nimport \"./paper-actions.scss\";\n\nconst TOGGLE_ALL_ID = \"action-toggle\";\nconst CHECKBOX_CLASS = \"action-select\";\nconst CHECKBOX_LABEL_SELECTOR = \".action-checkbox .custom-control\";\nconst COUNTER_CLASS = \"paper-actions__counter\";\nconst QUESTION_CLASS = \"paper-actions__question\";\nconst ALL_CLASS = \"paper-actions__all\";\nconst CLEAR_CLASS = \"paper-actions__clear\";\nconst ACROSS_INPUT = \".paper-actions__select_across input.select-across\";\n\nfunction initActions(inputs) {\n    let lastChecked = null;\n    const table = document.getElementById(\"result_list\");\n    const allToggleInput = document.getElementById(TOGGLE_ALL_ID);\n\n    // клик на чекбокс \"выбрать все\"\n    allToggleInput.addEventListener(\"change\", () => {\n        const rows = inputs.map(input => input.closest(\"tr\"));\n        toggleRows(rows, allToggleInput.checked);\n        updateCounter(inputs);\n    });\n\n    // пользовательское событие выделения ряда таблицы\n    table.addEventListener(\"select\", event => {\n        const target = event.target;\n        if (target.tagName !== \"TR\" || target.closest(\"table\") !== table) {\n            return;\n        }\n\n        const state = Boolean(event.detail.state);\n        const checkbox = target.querySelector(`.${CHECKBOX_CLASS}`);\n        checkbox.checked = state;\n        target.classList.toggle(\"selected\", state);\n\n        // все ли чекбоксы выделены\n        allToggleInput.checked = inputs.find(input => !input.checked) == null;\n    });\n\n    table.addEventListener(\"click\", event => {\n        const target = event.target;\n\n        // клик вне строк таблицы\n        const row = target.closest(\"tr\");\n        if (!row) {\n            return;\n        }\n\n        const checkbox_clicked = target.closest(CHECKBOX_LABEL_SELECTOR);\n        const checkbox = row.querySelector(`.${CHECKBOX_CLASS}`);\n\n        if (event.shiftKey && lastChecked) {\n            // массовое выделение (через Shift)\n            const lastIndex = inputs.indexOf(lastChecked);\n            const targetIndex = inputs.indexOf(checkbox);\n            const startIndex = Math.min(lastIndex, targetIndex);\n            const endIndex = Math.max(lastIndex, targetIndex);\n            const input_slice = inputs.slice(startIndex, endIndex + 1);\n            const rows = input_slice.map(input => input.closest(\"tr\"));\n            toggleRows(rows, lastChecked.checked);\n        } else if (checkbox_clicked || (event.ctrlKey && !event.shiftKey)) {\n            // клик на чекбокс или на строку через Ctrl\n            lastChecked = checkbox;\n            toggleRows([row], !checkbox.checked);\n        }\n\n        updateCounter(inputs);\n    });\n\n    // отмена выделения текста при клике с удержанным Shift\n    table.addEventListener(\"mousedown\", event => {\n        const target = event.target;\n        if (event.shiftKey && (target.tagName === \"TD\" || target.tagName === \"TH\")) {\n            event.preventDefault();\n        }\n    });\n\n    // выбор всех записей таблицы\n    document.addEventListener(\"click\", event => {\n        const target = event.target;\n        if (target.tagName === \"A\" && target.closest(`.${QUESTION_CLASS}`)) {\n            event.preventDefault();\n            selectAcross();\n        }\n    });\n\n    // очистка выбора\n    document.addEventListener(\"click\", event => {\n        const target = event.target;\n        if (target.tagName === \"A\" && target.closest(`.${CLEAR_CLASS}`)) {\n            event.preventDefault();\n            allToggleInput.checked = false;\n            const rows = inputs.map(input => input.closest(\"tr\"));\n            toggleRows(rows, false);\n            clearAcross(inputs);\n            updateCounter(inputs);\n        }\n    });\n\n    protectEditForm();\n}\n\n/**\n * Требование подтверждения выполнения действия, если в форме были изменения.\n */\nfunction protectEditForm() {\n    let list_editable_changed = false;\n    const form = document.getElementById(\"changelist-form\");\n\n    form.addEventListener(\"change\", event => {\n        const target = event.target;\n        if (target.tagName === \"INPUT\") {\n            if (target.closest(`.${CHECKBOX_CLASS}`) || target.id === TOGGLE_ALL_ID) {\n                // nothing\n            } else {\n                list_editable_changed = true;\n            }\n        } else if (target.tagName === \"SELECT\") {\n            if (target.closest(\".action-action\")) {\n                // nothing\n            } else {\n                list_editable_changed = true;\n            }\n        } else {\n            list_editable_changed = true;\n        }\n    });\n\n    document.addEventListener(\"click\", event => {\n        const target = event.target;\n        const action_button = target.closest('[name=\"index\"]');\n        if (action_button && list_editable_changed) {\n            const agree = confirm(\n                gettext(\n                    \"You have unsaved changes on individual editable fields. If you run an action, your unsaved changes will be lost.\"\n                )\n            );\n            if (!agree) {\n                event.preventDefault();\n            }\n        }\n    });\n\n    document.addEventListener(\"click\", event => {\n        const target = event.target;\n        const save_button = target.closest('[name=\"_save\"]');\n\n        const action_selects = document.querySelectorAll('.actions select[name=\"action\"]');\n        const action_changed = !Array.prototype.every.call(action_selects, select => {\n            return !select.value;\n        });\n\n        if (save_button && action_changed) {\n            let apply;\n            if (list_editable_changed) {\n                apply = confirm(\n                    gettext(\n                        \"You have selected an action, but you haven't saved your changes to individual fields yet. Please click OK to save. You'll need to re-run the action.\"\n                    )\n                );\n            } else {\n                apply = confirm(\n                    gettext(\n                        \"You have selected an action, and you haven't made any changes on individual fields. You're probably looking for the Go button rather than the Save button.\"\n                    )\n                );\n            }\n            if (!apply) {\n                event.preventDefault();\n            }\n        }\n    });\n}\n\n/**\n * Установка/сброс галочки в чекбоксах.\n * @param {HTMLTableRowElement[]} rows\n * @param {Boolean} checked\n */\nfunction toggleRows(rows, checked) {\n    rows.forEach(row => {\n        if (row && row.tagName === \"TR\") {\n            row.dispatchEvent(\n                new CustomEvent(\"select\", {\n                    bubbles: true,\n                    cancelable: true,\n                    detail: {\n                        state: checked\n                    }\n                })\n            );\n        }\n    });\n}\n\nfunction updateCounter(inputs) {\n    const selected = inputs.reduce((sum, input) => sum + (input.checked ? 1 : 0), 0);\n    const counters = document.querySelectorAll(`.${COUNTER_CLASS}`);\n    counters.forEach(counter => {\n        counter.innerHTML = interpolate(\n            ngettext(\"%(sel)s of %(cnt)s selected\", \"%(sel)s of %(cnt)s selected\", selected),\n            {\n                sel: selected,\n                cnt: counter.dataset.actionsIcnt\n            },\n            true\n        );\n    });\n\n    if (selected === inputs.length) {\n        showQuestion();\n    } else {\n        clearAcross(inputs);\n    }\n}\n\n/**\n * Показ ссылки \"выбрать всё\"\n */\nfunction showQuestion() {\n    const questions = document.querySelectorAll(`.${QUESTION_CLASS}`);\n    questions.forEach(question => {\n        question.hidden = false;\n    });\n}\n\n/**\n * Установка значения input-элементу для выполнения действия над всеми элементами\n * @param {Boolean} value\n */\nfunction setAcrossInput(value) {\n    const acrossInput = document.querySelectorAll(ACROSS_INPUT);\n    acrossInput.forEach(input => {\n        input.value = Number(value);\n    });\n}\n\nfunction selectAcross() {\n    setAcrossInput(true);\n\n    const counters = document.querySelectorAll(`.${COUNTER_CLASS}`);\n    counters.forEach(counter => {\n        counter.hidden = true;\n    });\n\n    const allContainers = document.querySelectorAll(`.${ALL_CLASS}`);\n    allContainers.forEach(container => {\n        container.hidden = false;\n    });\n\n    const questions = document.querySelectorAll(`.${QUESTION_CLASS}`);\n    questions.forEach(question => {\n        question.hidden = true;\n    });\n\n    const clear_buttons = document.querySelectorAll(`.${CLEAR_CLASS}`);\n    clear_buttons.forEach(clear_button => {\n        clear_button.hidden = false;\n    });\n}\n\nfunction clearAcross(inputs) {\n    setAcrossInput(false);\n\n    const counters = document.querySelectorAll(`.${COUNTER_CLASS}`);\n    counters.forEach(counter => {\n        counter.hidden = false;\n    });\n\n    const allContainers = document.querySelectorAll(`.${ALL_CLASS}`);\n    allContainers.forEach(container => {\n        container.hidden = true;\n    });\n\n    const selected = inputs.reduce((sum, input) => sum + (input.checked ? 1 : 0), 0);\n    const questions = document.querySelectorAll(`.${QUESTION_CLASS}`);\n    questions.forEach(question => {\n        question.hidden = selected !== inputs.length;\n    });\n\n    const clear_buttons = document.querySelectorAll(`.${CLEAR_CLASS}`);\n    clear_buttons.forEach(clear_button => {\n        clear_button.hidden = true;\n    });\n}\n\nconst checkboxes = document.querySelectorAll(`.${CHECKBOX_CLASS}`);\nif (checkboxes.length) {\n    initActions(Array.from(checkboxes));\n}\n","// Ctrl + Arrows navigation\nwindow.addEventListener(\"keydown\", event => {\n    if (event.defaultPrevented) {\n        return; // Do nothing if the event was already processed\n    }\n\n    if (event.ctrlKey) {\n        const pagination = document.querySelector(\".paper-pagination\");\n        if (!pagination) {\n            return;\n        }\n\n        switch (event.key) {\n            case \"Left\":\n            case \"ArrowLeft\":\n                pagination.querySelector('.page-link[aria-label=\"Previous\"]').click();\n                break;\n            case \"Right\":\n            case \"ArrowRight\":\n                pagination.querySelector('.page-link[aria-label=\"Next\"]').click();\n                break;\n            default:\n                // Quit when this doesn't handle the key event.\n                return;\n        }\n\n        // Cancel the default action to avoid it being handled twice\n        event.preventDefault();\n    }\n});\n","import \"./paper-search-form.scss\";\n\n// Выделение текста в поле поиска при фокусе\nconst form = document.querySelector(\".paper-search-form\");\nconst input = form && form.querySelector(\".form-control\");\ninput &&\n    input.addEventListener(\"focus\", () => {\n        input.select();\n    });\n","import XClass from \"data-xclass\";\nimport SortableTable from \"js/components/sortable_table/SortableTable.js\";\nimport { Select2Component } from \"components/select2/index.js\";\n\n// -----------------\n//  JS Components\n// -----------------\nimport \"components/date-range-filter/index.js\";\nimport \"components/select2-filter/index.js\";\n\n// -----------------\n//  BEM\n// -----------------\nimport \"bem/paper-actions/paper-actions.js\";\nimport \"bem/paper-filter/paper-filter.js\";\nimport \"bem/paper-pagination/paper-pagination.js\";\nimport \"bem/paper-search-form/paper-search-form.js\";\n\n// -----------------\n//  Styles\n// -----------------\nimport \"css/changelist.scss\";\n\n// Select2 для выпадающего списка действий над списком\nXClass.register(\"paper-actions\", {\n    init: function (element) {\n        element._paperActions = new Select2Component(element, {\n            allowClear: true,\n            containerCssClass: \"select2-container--small\",\n            minimumResultsForSearch: Infinity\n        });\n    },\n    destroy: function (element) {\n        if (element._paperActions) {\n            element._paperActions.destroy();\n            delete element._paperActions;\n        }\n    }\n});\n\n// Сортируемые таблицы\nconst table = document.getElementById(\"result_list\");\nif (table && table.classList.contains(\"paper-table--sortable\")) {\n    new SortableTable(table, {\n        url: table.dataset.orderUrl,\n        tree: table.classList.contains(\"paper-table--tree\"),\n        handler: \".paper-table__sort-handler\"\n    });\n}\n"],"names":["ListTree","constructor","elements","this","_buildTree","_createNode","child","dataset","pk","parseInt","id","parent","element","childs","_addNode","node","_nodes","isNaN","_roots","push","stack","forEach","elem","length","stackNode","unshift","shift","getNode","Error","getRoots","map","rootNode","getDescendants","reduce","result","childId","childNode","concat","SortableTable","table","options","opts","Object","assign","url","tree","handler","disabledClass","tbody","querySelector","_createSortable","Sortable","animation","draggable","handle","filter","event","row","instance","classList","contains","ghostClass","onStart","_onStart","bind","onMove","_onMove","onEnd","_onEnd","evt","rows","querySelectorAll","currentParentId","item","parentId","add","related","remove","moved","_getMovedRows","_normalizeTable","_createOrderMap","handlers","_sendRequest","then","sliceStart","Math","min","oldIndex","newIndex","sliceEnd","max","slice","Array","prototype","call","pkArray","orderArray","orderValue","pop","i","setAttribute","prev","previousElementSibling","next","nextElementSibling","parents","isPrevSibling","isNextChild","includes","Element","after","apply","data","fetch","method","credentials","headers","body","JSON","stringify","response","ok","error","status","statusText","DateRangeFilter","BaseComponent","Defaults","altInput","locale","_getLocale","dateFormat","_getDateFormat","super","startElement","flatpickr","endElement","on","button","target","closest","inputGroup","input","_flatpickr","setDate","destroy","getPossibleLocales","dateFormats","XClass","init","_dateRangeFilter","_select2Instance","Select2Component","width","allowClear","containerCssClass","TOGGLE_ALL_ID","CHECKBOX_CLASS","COUNTER_CLASS","QUESTION_CLASS","ALL_CLASS","CLEAR_CLASS","ACROSS_INPUT","toggleRows","checked","tagName","dispatchEvent","CustomEvent","bubbles","cancelable","detail","state","updateCounter","inputs","selected","sum","document","counter","innerHTML","interpolate","ngettext","sel","cnt","actionsIcnt","question","hidden","clearAcross","setAcrossInput","value","Number","container","clear_button","checkboxes","lastChecked","getElementById","allToggleInput","addEventListener","Boolean","toggle","find","checkbox_clicked","checkbox","shiftKey","lastIndex","indexOf","targetIndex","startIndex","endIndex","ctrlKey","preventDefault","list_editable_changed","confirm","gettext","save_button","action_selects","action_changed","every","select","protectEditForm","initActions","from","window","defaultPrevented","pagination","key","click","form","_paperActions","minimumResultsForSearch","Infinity","orderUrl"],"sourceRoot":""}