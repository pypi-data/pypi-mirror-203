(function(L,s){typeof exports=="object"&&typeof module!="undefined"?s(require("buildbot-plugin-support"),require("react"),require("mobx"),require("react-dom"),require("react-router-dom"),require("buildbot-data-js"),require("buildbot-ui")):typeof define=="function"&&define.amd?define(["buildbot-plugin-support","react","mobx","react-dom","react-router-dom","buildbot-data-js","buildbot-ui"],s):(L=typeof globalThis!="undefined"?globalThis:L||self,s(L.BuildbotPluginSupport,L.React,L.mobx,L.ReactDOM,L.ReactRouterDOM,L.BuildbotDataJs,L.BuildbotUi))})(this,function(L,s,S,sr,Ne,O,ce){"use strict";var Z={},lr={get exports(){return Z},set exports(e){Z=e}},J={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ur=s,cr=Symbol.for("react.element"),dr=Symbol.for("react.fragment"),fr=Object.prototype.hasOwnProperty,mr=ur.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,pr={key:!0,ref:!0,__self:!0,__source:!0};function Fe(e,r,t){var n,i={},a=null,o=null;t!==void 0&&(a=""+t),r.key!==void 0&&(a=""+r.key),r.ref!==void 0&&(o=r.ref);for(n in r)fr.call(r,n)&&!pr.hasOwnProperty(n)&&(i[n]=r[n]);if(e&&e.defaultProps)for(n in r=e.defaultProps,r)i[n]===void 0&&(i[n]=r[n]);return{$$typeof:cr,type:e,key:a,ref:o,props:i,_owner:mr.current}}J.Fragment=dr,J.jsx=Fe,J.jsxs=Fe,function(e){e.exports=J}(lr);const w=Z.jsx,U=Z.jsxs,Ft="";if(!s.useState)throw new Error("mobx-react-lite requires React with Hooks support");if(!S.makeObservable)throw new Error("mobx-react-lite@3 requires mobx at least version 6 to be available");function vr(e){e()}function hr(e){e||(e=vr),S.configure({reactionScheduler:e})}function br(e){return S.getDependencyTree(e)}var yr=1e4,gr=1e4,xr=function(){function e(r){var t=this;Object.defineProperty(this,"finalize",{enumerable:!0,configurable:!0,writable:!0,value:r}),Object.defineProperty(this,"registrations",{enumerable:!0,configurable:!0,writable:!0,value:new Map}),Object.defineProperty(this,"sweepTimeout",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"sweep",{enumerable:!0,configurable:!0,writable:!0,value:function(n){n===void 0&&(n=yr),clearTimeout(t.sweepTimeout),t.sweepTimeout=void 0;var i=Date.now();t.registrations.forEach(function(a,o){i-a.registeredAt>=n&&(t.finalize(a.value),t.registrations.delete(o))}),t.registrations.size>0&&t.scheduleSweep()}}),Object.defineProperty(this,"finalizeAllImmediately",{enumerable:!0,configurable:!0,writable:!0,value:function(){t.sweep(0)}})}return Object.defineProperty(e.prototype,"register",{enumerable:!1,configurable:!0,writable:!0,value:function(r,t,n){this.registrations.set(n,{value:t,registeredAt:Date.now()}),this.scheduleSweep()}}),Object.defineProperty(e.prototype,"unregister",{enumerable:!1,configurable:!0,writable:!0,value:function(r){this.registrations.delete(r)}}),Object.defineProperty(e.prototype,"scheduleSweep",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.sweepTimeout===void 0&&(this.sweepTimeout=setTimeout(this.sweep,gr))}}),e}(),wr=typeof FinalizationRegistry!="undefined"?FinalizationRegistry:xr,de=new wr(function(e){var r;(r=e.reaction)===null||r===void 0||r.dispose(),e.reaction=null}),Te=globalThis&&globalThis.__read||function(e,r){var t=typeof Symbol=="function"&&e[Symbol.iterator];if(!t)return e;var n=t.call(e),i,a=[],o;try{for(;(r===void 0||r-- >0)&&!(i=n.next()).done;)a.push(i.value)}catch(u){o={error:u}}finally{try{i&&!i.done&&(t=n.return)&&t.call(n)}finally{if(o)throw o.error}}return a};function Se(e){return"observer".concat(e)}var Cr=function(){function e(){}return e}();function Pr(){return new Cr}function Nr(e,r){r===void 0&&(r="observed");var t=Te(s.useState(Pr),1),n=t[0],i=Te(s.useState(),2),a=i[1],o=function(){return a([])},u=s.useRef(null);u.current||(u.current={reaction:null,mounted:!1,changedBeforeMount:!1});var l=u.current;l.reaction||(l.reaction=new S.Reaction(Se(r),function(){l.mounted?o():l.changedBeforeMount=!0}),de.register(n,l,l)),s.useDebugValue(l.reaction,br),s.useEffect(function(){return de.unregister(l),l.mounted=!0,l.reaction?l.changedBeforeMount&&(l.changedBeforeMount=!1,o()):(l.reaction=new S.Reaction(Se(r),function(){o()}),o()),function(){l.reaction.dispose(),l.reaction=null,l.mounted=!1,l.changedBeforeMount=!1}},[]);var c,d;if(l.reaction.track(function(){try{c=e()}catch(p){d=p}}),d)throw d;return c}var Oe=typeof Symbol=="function"&&Symbol.for,Ee=Oe?Symbol.for("react.forward_ref"):typeof s.forwardRef=="function"&&s.forwardRef(function(e){return null}).$$typeof,Ie=Oe?Symbol.for("react.memo"):typeof s.memo=="function"&&s.memo(function(e){return null}).$$typeof;function Fr(e,r){var t;if(Ie&&e.$$typeof===Ie)throw new Error("[mobx-react-lite] You are trying to use `observer` on a function component wrapped in either another `observer` or `React.memo`. The observer already applies 'React.memo' for you.");var n=(t=r==null?void 0:r.forwardRef)!==null&&t!==void 0?t:!1,i=e,a=e.displayName||e.name;if(Ee&&e.$$typeof===Ee&&(n=!0,i=e.render,typeof i!="function"))throw new Error("[mobx-react-lite] `render` property of ForwardRef was not a function");var o=function(u,l){return Nr(function(){return i(u,l)},a)};return a!==""&&(o.displayName=a),e.contextTypes&&(o.contextTypes=e.contextTypes),n&&(o=s.forwardRef(o)),o=s.memo(o),Sr(e,o),o}var Tr={$$typeof:!0,render:!0,compare:!0,type:!0,displayName:!0};function Sr(e,r){Object.keys(e).forEach(function(t){Tr[t]||Object.defineProperty(r,t,Object.getOwnPropertyDescriptor(e,t))})}globalThis&&globalThis.__read;var fe;hr(sr.unstable_batchedUpdates),fe=de.finalizeAllImmediately;var $e=0;function Or(e){if(typeof Symbol=="function")return Symbol(e);var r="__$mobx-react "+e+" ("+$e+")";return $e++,r}var me={};function G(e){return me[e]||(me[e]=Or(e)),me[e]}function ke(e,r){if(je(e,r))return!0;if(typeof e!="object"||e===null||typeof r!="object"||r===null)return!1;var t=Object.keys(e),n=Object.keys(r);if(t.length!==n.length)return!1;for(var i=0;i<t.length;i++)if(!Object.hasOwnProperty.call(r,t[i])||!je(e[t[i]],r[t[i]]))return!1;return!0}function je(e,r){return e===r?e!==0||1/e===1/r:e!==e&&r!==r}function R(e,r,t){Object.hasOwnProperty.call(e,r)?e[r]=t:Object.defineProperty(e,r,{enumerable:!1,configurable:!0,writable:!0,value:t})}var Be=G("patchMixins"),Le=G("patchedDefinition");function Er(e,r){var t=e[Be]=e[Be]||{},n=t[r]=t[r]||{};return n.locks=n.locks||0,n.methods=n.methods||[],n}function Me(e,r){for(var t=this,n=arguments.length,i=new Array(n>2?n-2:0),a=2;a<n;a++)i[a-2]=arguments[a];r.locks++;try{var o;return e!=null&&(o=e.apply(this,i)),o}finally{r.locks--,r.locks===0&&r.methods.forEach(function(u){u.apply(t,i)})}}function Ve(e,r){var t=function(){for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];Me.call.apply(Me,[this,e,r].concat(a))};return t}function Ae(e,r,t){var n=Er(e,r);n.methods.indexOf(t)<0&&n.methods.push(t);var i=Object.getOwnPropertyDescriptor(e,r);if(!(i&&i[Le])){var a=e[r],o=qe(e,r,i?i.enumerable:void 0,n,a);Object.defineProperty(e,r,o)}}function qe(e,r,t,n,i){var a,o=Ve(i,n);return a={},a[Le]=!0,a.get=function(){return o},a.set=function(l){if(this===e)o=Ve(l,n);else{var c=qe(this,r,t,n,l);Object.defineProperty(this,r,c)}},a.configurable=!0,a.enumerable=t,a}var Q=S.$mobx||"$mobx",ze=G("isMobXReactObserver"),pe=G("isUnmounted"),ee=G("skipRender"),re=G("isForcingUpdate");function Ir(e){var r=e.prototype;if(e[ze]){var t=te(r);console.warn("The provided component class ("+t+`)
                has already been declared as an observer component.`)}else e[ze]=!0;if(r.componentWillReact)throw new Error("The componentWillReact life-cycle event is no longer supported");if(e.__proto__!==s.PureComponent){if(!r.shouldComponentUpdate)r.shouldComponentUpdate=Re;else if(r.shouldComponentUpdate!==Re)throw new Error("It is not allowed to use shouldComponentUpdate in observer based components.")}ve(r,"props"),ve(r,"state"),e.contextType&&ve(r,"context");var n=r.render;if(typeof n!="function"){var i=te(r);throw new Error("[mobx-react] class component ("+i+") is missing `render` method.\n`observer` requires `render` being a function defined on prototype.\n`render = () => {}` or `render = function() {}` is not supported.")}return r.render=function(){return this.render=$r.call(this,n),this.render()},Ae(r,"componentDidMount",function(){this[pe]=!1,this.render[Q]||s.Component.prototype.forceUpdate.call(this)}),Ae(r,"componentWillUnmount",function(){var a=this.render[Q];if(a)a.dispose(),this.render[Q]=null;else{var o=te(this);console.warn("The reactive render of an observer class component ("+o+`)
                was overridden after MobX attached. This may result in a memory leak if the
                overridden reactive render was not properly disposed.`)}this[pe]=!0}),e}function te(e){return e.displayName||e.name||e.constructor&&(e.constructor.displayName||e.constructor.name)||"<component>"}function $r(e){var r=this;R(this,ee,!1),R(this,re,!1);var t=te(this),n=e.bind(this),i=!1,a=function(){var l=new S.Reaction(t+".render()",function(){if(!i&&(i=!0,r[pe]!==!0)){var c=!0;try{R(r,re,!0),r[ee]||s.Component.prototype.forceUpdate.call(r),c=!1}finally{R(r,re,!1),c&&(l.dispose(),r.render[Q]=null)}}});return l.reactComponent=r,l};function o(){var u;i=!1;var l=(u=o[Q])!=null?u:o[Q]=a(),c=void 0,d=void 0;if(l.track(function(){try{d=S._allowStateChanges(!1,n)}catch(p){c=p}}),c)throw c;return d}return o}function Re(e,r){return this.state!==r?!0:!ke(this.props,e)}function ve(e,r){var t=G("reactProp_"+r+"_valueHolder"),n=G("reactProp_"+r+"_atomHolder");function i(){return this[n]||R(this,n,S.createAtom("reactive "+r)),this[n]}Object.defineProperty(e,r,{configurable:!0,enumerable:!0,get:function(){var o=!1;return S._allowStateReadsStart&&S._allowStateReadsEnd&&(o=S._allowStateReadsStart(!0)),i.call(this).reportObserved(),S._allowStateReadsStart&&S._allowStateReadsEnd&&S._allowStateReadsEnd(o),this[t]},set:function(o){!this[re]&&!ke(this[t],o)?(R(this,t,o),R(this,ee,!0),i.call(this).reportChanged(),R(this,ee,!1)):R(this,t,o)}})}function kr(e){return e.isMobxInjector===!0&&console.warn("Mobx observer: You are trying to use `observer` on a component that already has `inject`. Please apply `observer` before applying `inject`"),Object.prototype.isPrototypeOf.call(s.Component,e)||Object.prototype.isPrototypeOf.call(s.PureComponent,e)?Ir(e):Fr(e)}if(!s.Component)throw new Error("mobx-react requires React to be available");if(!S.observable)throw new Error("mobx-react requires mobx to be available");var Ue={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Ge=s.createContext&&s.createContext(Ue),D=globalThis&&globalThis.__assign||function(){return D=Object.assign||function(e){for(var r,t=1,n=arguments.length;t<n;t++){r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},D.apply(this,arguments)},jr=globalThis&&globalThis.__rest||function(e,r){var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&r.indexOf(n)<0&&(t[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)r.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(t[n[i]]=e[n[i]]);return t};function De(e){return e&&e.map(function(r,t){return s.createElement(r.tag,D({key:t},r.attr),De(r.child))})}function _e(e){return function(r){return s.createElement(Br,D({attr:D({},e.attr)},r),De(e.child))}}function Br(e){var r=function(t){var n=e.attr,i=e.size,a=e.title,o=jr(e,["attr","size","title"]),u=i||t.size||"1em",l;return t.className&&(l=t.className),e.className&&(l=(l?l+" ":"")+e.className),s.createElement("svg",D({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,n,o,{className:l,style:D(D({color:e.color||t.color},t.style),e.style),height:u,width:u,xmlns:"http://www.w3.org/2000/svg"}),a&&s.createElement("title",null,a),e.children)};return Ge!==void 0?s.createElement(Ge.Consumer,null,function(t){return r(t)}):r(Ue)}function Lr(e){return _e({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M288 39.056v16.659c0 10.804 7.281 20.159 17.686 23.066C383.204 100.434 440 171.518 440 256c0 101.689-82.295 184-184 184-101.689 0-184-82.295-184-184 0-84.47 56.786-155.564 134.312-177.219C216.719 75.874 224 66.517 224 55.712V39.064c0-15.709-14.834-27.153-30.046-23.234C86.603 43.482 7.394 141.206 8.003 257.332c.72 137.052 111.477 246.956 248.531 246.667C393.255 503.711 504 392.788 504 256c0-115.633-79.14-212.779-186.211-240.236C302.678 11.889 288 23.456 288 39.056z"}}]})(e)}function Mr(e){return _e({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M488.6 250.2L392 214V105.5c0-15-9.3-28.4-23.4-33.7l-100-37.5c-8.1-3.1-17.1-3.1-25.3 0l-100 37.5c-14.1 5.3-23.4 18.7-23.4 33.7V214l-96.6 36.2C9.3 255.5 0 268.9 0 283.9V394c0 13.6 7.7 26.1 19.9 32.2l100 50c10.1 5.1 22.1 5.1 32.2 0l103.9-52 103.9 52c10.1 5.1 22.1 5.1 32.2 0l100-50c12.2-6.1 19.9-18.6 19.9-32.2V283.9c0-15-9.3-28.4-23.4-33.7zM358 214.8l-85 31.9v-68.2l85-37v73.3zM154 104.1l102-38.2 102 38.2v.6l-102 41.4-102-41.4v-.6zm84 291.1l-85 42.5v-79.1l85-38.8v75.4zm0-112l-102 41.4-102-41.4v-.6l102-38.2 102 38.2v.6zm240 112l-85 42.5v-79.1l85-38.8v75.4zm0-112l-102 41.4-102-41.4v-.6l102-38.2 102 38.2v.6z"}}]})(e)}function N(){return N=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},N.apply(this,arguments)}function E(e,r){if(e==null)return{};var t={},n=Object.keys(e),i,a;for(a=0;a<n.length;a++)i=n[a],!(r.indexOf(i)>=0)&&(t[i]=e[i]);return t}var he={},Vr={get exports(){return he},set exports(e){he=e}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(e){(function(){var r={}.hasOwnProperty;function t(){for(var n=[],i=0;i<arguments.length;i++){var a=arguments[i];if(a){var o=typeof a;if(o==="string"||o==="number")n.push(a);else if(Array.isArray(a)){if(a.length){var u=t.apply(null,a);u&&n.push(u)}}else if(o==="object"){if(a.toString!==Object.prototype.toString&&!a.toString.toString().includes("[native code]")){n.push(a.toString());continue}for(var l in a)r.call(a,l)&&a[l]&&n.push(l)}}}return n.join(" ")}e.exports?(t.default=t,e.exports=t):window.classNames=t})()})(Vr);const I=he;var be=s.createContext({});be.Consumer,be.Provider;function k(e,r){var t=s.useContext(be);return e||t[r]||r}var Y={},Ar={get exports(){return Y},set exports(e){Y=e}},qr="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",zr=qr,Rr=zr;function We(){}function He(){}He.resetWarningCache=We;var Ur=function(){function e(n,i,a,o,u,l){if(l!==Rr){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}e.isRequired=e;function r(){return e}var t={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:r,element:e,elementType:e,instanceOf:r,node:e,objectOf:r,oneOf:r,oneOfType:r,shape:r,exact:r,checkPropTypes:He,resetWarningCache:We};return t.PropTypes=t,t};Ar.exports=Ur();var Gr=/-(.)/g;function Dr(e){return e.replace(Gr,function(r,t){return t.toUpperCase()})}var _r=["className","bsPrefix","as"],Wr=function(r){return r[0].toUpperCase()+Dr(r).slice(1)};function Hr(e,r){var t=r===void 0?{}:r,n=t.displayName,i=n===void 0?Wr(e):n,a=t.Component,o=t.defaultProps,u=s.forwardRef(function(l,c){var d=l.className,p=l.bsPrefix,m=l.as,v=m===void 0?a||"div":m,g=E(l,_r),x=k(p,e);return s.createElement(v,N({ref:c,className:I(d,x)},g))});return u.defaultProps=o,u.displayName=i,u}var Qr=["bsPrefix","className","as"],Kr=["xl","lg","md","sm","xs"],Qe=s.forwardRef(function(e,r){var t=e.bsPrefix,n=e.className,i=e.as,a=i===void 0?"div":i,o=E(e,Qr),u=k(t,"col"),l=[],c=[];return Kr.forEach(function(d){var p=o[d];delete o[d];var m,v,g;if(typeof p=="object"&&p!=null){var x=p.span;m=x===void 0?!0:x,v=p.offset,g=p.order}else m=p;var h=d!=="xs"?"-"+d:"";m&&l.push(m===!0?""+u+h:""+u+h+"-"+m),g!=null&&c.push("order"+h+"-"+g),v!=null&&c.push("offset"+h+"-"+v)}),l.length||l.push(u),s.createElement(a,N({},o,{ref:r,className:I.apply(void 0,[n].concat(l,c))}))});Qe.displayName="Col";const Yr=Qe;var ye={},Xr={get exports(){return ye},set exports(e){ye=e}},ne={},Zr={get exports(){return ne},set exports(e){ne=e}};(function(e,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=t;function t(n){function i(o,u,l,c,d,p){var m=c||"<<anonymous>>",v=p||l;if(u[l]==null)return o?new Error("Required "+d+" `"+v+"` was not specified "+("in `"+m+"`.")):null;for(var g=arguments.length,x=Array(g>6?g-6:0),h=6;h<g;h++)x[h-6]=arguments[h];return n.apply(void 0,[u,l,m,d,v].concat(x))}var a=i.bind(null,!1);return a.isRequired=i.bind(null,!0),a}e.exports=r.default})(Zr,ne),function(e,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=a;var t=ne,n=i(t);function i(o){return o&&o.__esModule?o:{default:o}}function a(){for(var o=arguments.length,u=Array(o),l=0;l<o;l++)u[l]=arguments[l];function c(){for(var d=arguments.length,p=Array(d),m=0;m<d;m++)p[m]=arguments[m];var v=null;return u.forEach(function(g){if(v==null){var x=g.apply(void 0,p);x!=null&&(v=x)}}),v}return(0,n.default)(c)}e.exports=r.default}(Xr,ye);var Jr=["as","className","type","tooltip"],et={type:Y.string,tooltip:Y.bool,as:Y.elementType},ge=s.forwardRef(function(e,r){var t=e.as,n=t===void 0?"div":t,i=e.className,a=e.type,o=a===void 0?"valid":a,u=e.tooltip,l=u===void 0?!1:u,c=E(e,Jr);return s.createElement(n,N({},c,{ref:r,className:I(i,o+"-"+(l?"tooltip":"feedback"))}))});ge.displayName="Feedback",ge.propTypes=et;const xe=ge;var rt=s.createContext({controlId:void 0});const V=rt;var tt=["id","bsPrefix","bsCustomPrefix","className","type","isValid","isInvalid","isStatic","as"],Ke=s.forwardRef(function(e,r){var t=e.id,n=e.bsPrefix,i=e.bsCustomPrefix,a=e.className,o=e.type,u=o===void 0?"checkbox":o,l=e.isValid,c=l===void 0?!1:l,d=e.isInvalid,p=d===void 0?!1:d,m=e.isStatic,v=e.as,g=v===void 0?"input":v,x=E(e,tt),h=s.useContext(V),F=h.controlId,T=h.custom,j=T?[i,"custom-control-input"]:[n,"form-check-input"],f=j[0],y=j[1];return n=k(f,y),s.createElement(g,N({},x,{ref:r,type:u,id:t||F,className:I(a,n,c&&"is-valid",p&&"is-invalid",m&&"position-static")}))});Ke.displayName="FormCheckInput";const Ye=Ke;var nt=["bsPrefix","bsCustomPrefix","className","htmlFor"],Xe=s.forwardRef(function(e,r){var t=e.bsPrefix,n=e.bsCustomPrefix,i=e.className,a=e.htmlFor,o=E(e,nt),u=s.useContext(V),l=u.controlId,c=u.custom,d=c?[n,"custom-control-label"]:[t,"form-check-label"],p=d[0],m=d[1];return t=k(p,m),s.createElement("label",N({},o,{ref:r,htmlFor:a||l,className:I(i,t)}))});Xe.displayName="FormCheckLabel";const Ze=Xe;var it=["id","bsPrefix","bsCustomPrefix","inline","disabled","isValid","isInvalid","feedbackTooltip","feedback","className","style","title","type","label","children","custom","as"],ie=s.forwardRef(function(e,r){var t=e.id,n=e.bsPrefix,i=e.bsCustomPrefix,a=e.inline,o=a===void 0?!1:a,u=e.disabled,l=u===void 0?!1:u,c=e.isValid,d=c===void 0?!1:c,p=e.isInvalid,m=p===void 0?!1:p,v=e.feedbackTooltip,g=v===void 0?!1:v,x=e.feedback,h=e.className,F=e.style,T=e.title,j=T===void 0?"":T,f=e.type,y=f===void 0?"checkbox":f,P=e.label,q=e.children,b=e.custom,C=e.as,B=C===void 0?"input":C,z=E(e,it),$=y==="switch"?!0:b,M=$?[i,"custom-control"]:[n,"form-check"],K=M[0],W=M[1];n=k(K,W);var _=s.useContext(V),H=_.controlId,ue=s.useMemo(function(){return{controlId:t||H,custom:$}},[H,$,t]),or=$||P!=null&&P!==!1&&!q,Nt=s.createElement(Ye,N({},z,{type:y==="switch"?"checkbox":y,ref:r,isValid:d,isInvalid:m,isStatic:!or,disabled:l,as:B}));return s.createElement(V.Provider,{value:ue},s.createElement("div",{style:F,className:I(h,n,$&&"custom-"+y,o&&n+"-inline")},q||s.createElement(s.Fragment,null,Nt,or&&s.createElement(Ze,{title:j},P),(d||m)&&s.createElement(xe,{type:d?"valid":"invalid",tooltip:g},x))))});ie.displayName="FormCheck",ie.Input=Ye,ie.Label=Ze;const ae=ie;var at=["id","bsPrefix","bsCustomPrefix","className","isValid","isInvalid","lang","as"],Je=s.forwardRef(function(e,r){var t=e.id,n=e.bsPrefix,i=e.bsCustomPrefix,a=e.className,o=e.isValid,u=e.isInvalid,l=e.lang,c=e.as,d=c===void 0?"input":c,p=E(e,at),m=s.useContext(V),v=m.controlId,g=m.custom,x="file",h=g?[i,"custom-file-input"]:[n,"form-control-file"],F=h[0],T=h[1];return n=k(F,T),s.createElement(d,N({},p,{ref:r,id:t||v,type:x,lang:l,className:I(a,n,o&&"is-valid",u&&"is-invalid")}))});Je.displayName="FormFileInput";const er=Je;var ot=["bsPrefix","bsCustomPrefix","className","htmlFor"],rr=s.forwardRef(function(e,r){var t=e.bsPrefix,n=e.bsCustomPrefix,i=e.className,a=e.htmlFor,o=E(e,ot),u=s.useContext(V),l=u.controlId,c=u.custom,d=c?[n,"custom-file-label"]:[t,"form-file-label"],p=d[0],m=d[1];return t=k(p,m),s.createElement("label",N({},o,{ref:r,htmlFor:a||l,className:I(i,t),"data-browse":o["data-browse"]}))});rr.displayName="FormFileLabel";const we=rr;var st=["id","bsPrefix","bsCustomPrefix","disabled","isValid","isInvalid","feedbackTooltip","feedback","className","style","label","children","custom","lang","data-browse","as","inputAs"],oe=s.forwardRef(function(e,r){var t=e.id,n=e.bsPrefix,i=e.bsCustomPrefix,a=e.disabled,o=a===void 0?!1:a,u=e.isValid,l=u===void 0?!1:u,c=e.isInvalid,d=c===void 0?!1:c,p=e.feedbackTooltip,m=p===void 0?!1:p,v=e.feedback,g=e.className,x=e.style,h=e.label,F=e.children,T=e.custom,j=e.lang,f=e["data-browse"],y=e.as,P=y===void 0?"div":y,q=e.inputAs,b=q===void 0?"input":q,C=E(e,st),B=T?[i,"custom"]:[n,"form-file"],z=B[0],$=B[1];n=k(z,$);var M="file",K=s.useContext(V),W=K.controlId,_=s.useMemo(function(){return{controlId:t||W,custom:T}},[W,T,t]),H=h!=null&&h!==!1&&!F,ue=s.createElement(er,N({},C,{ref:r,isValid:l,isInvalid:d,disabled:o,as:b,lang:j}));return s.createElement(V.Provider,{value:_},s.createElement(P,{style:x,className:I(g,n,T&&"custom-"+M)},F||s.createElement(s.Fragment,null,T?s.createElement(s.Fragment,null,ue,H&&s.createElement(we,{"data-browse":f},h)):s.createElement(s.Fragment,null,H&&s.createElement(we,null,h),ue),(l||d)&&s.createElement(xe,{type:l?"valid":"invalid",tooltip:m},v))))});oe.displayName="FormFile",oe.Input=er,oe.Label=we;const lt=oe;var ut=["bsPrefix","bsCustomPrefix","type","size","htmlSize","id","className","isValid","isInvalid","plaintext","readOnly","custom","as"],tr=s.forwardRef(function(e,r){var t=e.bsPrefix,n=e.bsCustomPrefix,i=e.type,a=e.size,o=e.htmlSize,u=e.id,l=e.className,c=e.isValid,d=c===void 0?!1:c,p=e.isInvalid,m=p===void 0?!1:p,v=e.plaintext,g=e.readOnly,x=e.custom,h=e.as,F=h===void 0?"input":h,T=E(e,ut),j=s.useContext(V),f=j.controlId,y=x?[n,"custom"]:[t,"form-control"],P=y[0],q=y[1];t=k(P,q);var b;if(v){var C;b=(C={},C[t+"-plaintext"]=!0,C)}else if(i==="file"){var B;b=(B={},B[t+"-file"]=!0,B)}else if(i==="range"){var z;b=(z={},z[t+"-range"]=!0,z)}else if(F==="select"&&x){var $;b=($={},$[t+"-select"]=!0,$[t+"-select-"+a]=a,$)}else{var M;b=(M={},M[t]=!0,M[t+"-"+a]=a,M)}return s.createElement(F,N({},T,{type:i,size:o,ref:r,readOnly:g,id:u||f,className:I(l,b,d&&"is-valid",m&&"is-invalid")}))});tr.displayName="FormControl";const ct=Object.assign(tr,{Feedback:xe});var dt=["bsPrefix","className","children","controlId","as"],nr=s.forwardRef(function(e,r){var t=e.bsPrefix,n=e.className,i=e.children,a=e.controlId,o=e.as,u=o===void 0?"div":o,l=E(e,dt);t=k(t,"form-group");var c=s.useMemo(function(){return{controlId:a}},[a]);return s.createElement(V.Provider,{value:c},s.createElement(u,N({},l,{ref:r,className:I(n,t)}),i))});nr.displayName="FormGroup";const ft=nr;var mt=["as","bsPrefix","column","srOnly","className","htmlFor"],pt={column:!1,srOnly:!1},Ce=s.forwardRef(function(e,r){var t=e.as,n=t===void 0?"label":t,i=e.bsPrefix,a=e.column,o=e.srOnly,u=e.className,l=e.htmlFor,c=E(e,mt),d=s.useContext(V),p=d.controlId;i=k(i,"form-label");var m="col-form-label";typeof a=="string"&&(m=m+" "+m+"-"+a);var v=I(u,i,o&&"sr-only",a&&m);return l=l||p,a?s.createElement(Yr,N({ref:r,as:"label",className:v,htmlFor:l},c)):s.createElement(n,N({ref:r,className:v,htmlFor:l},c))});Ce.displayName="FormLabel",Ce.defaultProps=pt;const vt=Ce;var ht=["bsPrefix","className","as","muted"],ir=s.forwardRef(function(e,r){var t=e.bsPrefix,n=e.className,i=e.as,a=i===void 0?"small":i,o=e.muted,u=E(e,ht);return t=k(t,"form-text"),s.createElement(a,N({},u,{ref:r,className:I(n,t,o&&"text-muted")}))});ir.displayName="FormText";const bt=ir;var se=s.forwardRef(function(e,r){return s.createElement(ae,N({},e,{ref:r,type:"switch"}))});se.displayName="Switch",se.Input=ae.Input,se.Label=ae.Label;const yt=se;var gt=["bsPrefix","inline","className","validated","as"],xt=Hr("form-row"),wt={inline:!1},A=s.forwardRef(function(e,r){var t=e.bsPrefix,n=e.inline,i=e.className,a=e.validated,o=e.as,u=o===void 0?"form":o,l=E(e,gt);return t=k(t,"form"),s.createElement(u,N({},l,{ref:r,className:I(i,a&&"was-validated",n&&t+"-inline")}))});A.displayName="Form",A.defaultProps=wt,A.Row=xt,A.Group=ft,A.Control=ct,A.Check=ae,A.File=lt,A.Switch=yt,A.Label=vt,A.Text=bt;const X=A,ar="(all)",le=new Map;le.set(ar,O.UNKNOWN);for(const e of O.allResults)le.set(O.intToResultText[e],e);const Pe="(all)";function Ct(e,r,t,n,i,a,o,u,l,c){var j;const d=new Map,p=new Set;for(const f of r.array)f.branch===null&&(f.branch="master"),d.set(f.sourcestamp.ssid,{change:f,buildsets:new Map});const m=new Map;for(const f of e.array){if(f.sourcestamps.length===0)continue;const y=f.sourcestamps[f.sourcestamps.length-1],P=d.get(y.ssid);P!==void 0&&(P.buildsets.set(f.bsid,f),p.add(P.change.branch),!(a!==Pe&&P.change.branch!==a)&&m.set(P.change.changeid,P))}let v=[...m.values()];v.sort((f,y)=>f.change.changeid-y.change.changeid),v.length>l&&(v=v.slice(v.length-l)),u||(v=v.reverse());const g=[Pe,...p.keys()];g.sort((f,y)=>f.localeCompare(y));const x=new Map;for(const f of n.array){const y=x.get(f.buildsetid);y===void 0?x.set(f.buildsetid,[f]):y.push(f)}const h=new Map;for(const f of i.array){if(f.buildrequestid===null)continue;const y=h.get(f.buildrequestid);y===void 0?h.set(f.buildrequestid,[f]):y.push(f)}const F=new Map;for(const f of v)for(const y of f.buildsets.values()){const P=x.get(y.bsid);if(P!==void 0)for(const q of P){const b=((j=h.get(q.buildrequestid))!=null?j:[]).filter(z=>o===O.UNKNOWN||z.results===o);if(b.length===0)continue;const C=t.getByIdOrNull(b[0].builderid.toString());if(C===null||!c(C.tags))continue;const B=F.get(C.builderid);B===void 0?F.set(C.builderid,{builder:C,buildsByChangeId:new Map([[f.change.changeid,b]])}):B.buildsByChangeId.set(f.change.changeid,b)}}const T=[...F.values()];return T.sort((f,y)=>f.builder.name.localeCompare(y.builder.name)),[g,v,T]}const Pt=kr(()=>{const e=O.useDataAccessor([]),r=ce.useTagFilterManager("tags"),t=L.buildbotGetSettings(),n=t.getIntegerSetting("Grid.revisionLimit"),i=t.getIntegerSetting("Grid.changeFetchLimit"),a=t.getIntegerSetting("Grid.buildFetchLimit"),o=t.getBooleanSetting("Grid.fullChanges"),u=t.getBooleanSetting("Grid.leftToRight"),[l,c]=s.useState(ar),[d,p]=s.useState(Pe),m=le.get(l),v=O.useDataApiQuery(()=>O.Buildset.getAll(e,{query:{limit:a,order:"-bsid"}})),g=O.useDataApiQuery(()=>O.Change.getAll(e,{query:{limit:i,order:"-changeid"}})),x=O.useDataApiQuery(()=>O.Builder.getAll(e)),h=O.useDataApiQuery(()=>O.Buildrequest.getAll(e,{query:{limit:a,order:"-buildrequestid"}})),F=O.useDataApiQuery(()=>O.Build.getAll(e,{query:{limit:a,order:"-buildrequestid"}}));if(!(v.resolved&&g.resolved&&x.resolved&&h.resolved&&F.resolved))return w("div",{className:"bb-grid-container",children:w("div",{className:"bb-grid-load-indicator",children:U("div",{className:"spinner",children:[w(Lr,{className:"fa-spin"}),w("p",{children:"loading"})]})})});if(g.array.length===0)return w("div",{className:"bb-grid-container",children:U("p",{children:["No changes. Grid View needs a changesource to be setup, and ",w(Ne.Link,{to:"/changes",children:" changes"})," to be in the system."]})});const[j,f,y]=Ct(v,g,x,h,F,d,m,u,n,b=>r.shouldShowByTags(b)),P=f.slice().sort((b,C)=>C.change.changeid-b.change.changeid).map(b=>w("th",{className:"change",children:w(ce.ChangeDetails,{change:b.change,compact:!o,showDetails:!1,setShowDetails:()=>{}})})),q=y.map(b=>{const C=b.builder,B=b.buildsByChangeId,z=f.map($=>{var W;const M=$.change,K=[...(W=B.get(M.changeid))!=null?W:[]];return K.sort((_,H)=>_.buildid-H.buildid),w("td",{children:K.map(_=>w(ce.BuildLinkWithSummaryTooltip,{build:_},_.id))},M.changeid)});return U("tr",{children:[w("th",{children:w(Ne.Link,{to:"/builders/{builder.builderid}",children:C.name})}),w("td",{children:r.getElementsForTags(C.tags)}),z]},C.name)});return U("div",{className:"container grid",children:[U(X,{inline:!0,className:"mb-sm-2",children:[w(X.Label,{className:"mr-sm-2",children:"Branch"}),w(X.Control,{className:"mr-sm-2",as:"select",multiple:!1,value:d,onChange:b=>p(b.target.value),children:j.map(b=>w("option",{children:b}))}),w(X.Label,{className:"mr-sm-2",children:"Results"}),w(X.Control,{className:"mr-sm-2",as:"select",multiple:!1,value:l,onChange:b=>c(b.target.value),children:[...le.keys()].map(b=>w("option",{children:b}))})]}),U("table",{className:"table table-condensed table-striped table-hover",children:[w("thead",{children:U("tr",{children:[w("th",{children:"Builder"}),U("th",{children:[r.getFiltersHelpElement(),r.getEnabledFiltersElements()]}),P]})}),w("tbody",{children:q})]})]})});L.buildbotSetupPlugin(e=>{e.registerMenuGroup({name:"grid",caption:"Grid View",icon:w(Mr,{}),order:4,route:"/grid",parentName:null}),e.registerRoute({route:"/grid",group:"grid",element:()=>w(Pt,{})}),e.registerSettingGroup({name:"Grid",caption:"Grid related settings",items:[{type:"boolean",name:"fullChanges",caption:"Show avatar and time ago in change details",defaultValue:!1},{type:"boolean",name:"leftToRight",caption:"Show most recent changes on the right",defaultValue:!1},{type:"integer",name:"revisionLimit",caption:"Maximum number of revisions to display",defaultValue:5},{type:"integer",name:"changeFetchLimit",caption:"Maximum number of changes to fetch",defaultValue:100},{type:"integer",name:"buildFetchLimit",caption:"Maximum number of builds to fetch",defaultValue:1e3}]})})});
//# sourceMappingURL=scripts.js.map
